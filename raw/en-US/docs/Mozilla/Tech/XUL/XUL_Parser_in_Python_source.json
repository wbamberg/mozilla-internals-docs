{
    "content": "<p>Source code for the <a href=\"/en-US/docs/XUL_Parser_in_Python\" title=\"XUL_Parser_in_Python\">XUL Parser in Python</a>.</p>\n<pre class=\"brush:py\">import sys, glob, xmllib\nimport os, re\nel_list = {}\nw = open('res.html', 'w')\n\n# Unfortunately, I had to put this hack in here to suppress the printing out of the resolved namespace: \n# \"xmlns=\"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul window\", etc.\n\ndef strip(snip):\n\tt = re.sub('http://.*?\\s', '', snip)\n\treturn t\n\t\t\nclass XULParser(xmllib.XMLParser):\n\tdef unknown_starttag(self, t, a):\n\t\tname = strip(t)\n\t\tif name not in el_list: el_list[name] = {}\n\t\tfor attr,val in a.items():\n\t\t\tel_list[name][strip(attr)] = strip(val)\n\t\t\t\n\tdef syntax_error(self, message):\n\t\tpass\n\np = XULParser()\n\ncmd = 'dir /s /b *.xul'\nCHROME_DIR = 'C:\\Program Files\\Netscape\\Netscape 6\\chrome' \nos.chdir(CHROME_DIR)\nfiles = os.popen(cmd).readlines()\nfor file in files:\n\tfile = file.strip()\n\tprint '** ' + file + ' **'\n\tdata = open(file).read()\n\tp.feed(data)\n\nw.write('&lt;html&gt;&lt;h3&gt;Periodic Table of XUL Elements&lt;/h3&gt;')\nw.write('&lt;table&gt;&lt;style&gt;.head {font-weight: bold; background-color: lightgrey;}&lt;/style&gt;')\n  \nelements = el_list.keys()\nelements.sort()\nfor item in elements:\n\tw.write('&lt;tr&gt;&lt;td class=\"head\"&gt;' + item + '&lt;/td&gt;&lt;/tr&gt;\\n')\n\tfor a in el_list[item]:\n\t\tw.write('&lt;tr&gt;&lt;td class=\"at\"&gt;' + a + '&lt;/td&gt;')\n\t\nw.write('&lt;/table&gt;&lt;/html&gt;\\n')\nw.close()\n</pre>",
    "contributors": "<a href=\"https://developer.mozilla.org/en-US/profiles/wbamberg\">wbamberg</a>",
    "title": "XUL Parser in Python/source"
}