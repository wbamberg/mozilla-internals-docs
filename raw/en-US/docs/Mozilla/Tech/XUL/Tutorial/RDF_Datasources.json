{
    "content": "<p> </p>\n<p></p><div class=\"prevnext\" style=\"text-align: right;\">\n    <p><a href=\"/en-US/docs/XUL_Tutorial:Trees_and_Templates\" style=\"float: left;\">« Previous</a><a href=\"/en-US/docs/XUL_Tutorial:Advanced_Rules\">Next  »</a></p>\n</div><p></p>\n<p>Here, we'll look at additional datasources and how to use your own RDF files as datasources.</p>\n<h3 id=\"Other_Mozilla_Datasources\" name=\"Other_Mozilla_Datasources\">Other Mozilla Datasources</h3>\n<p>Mozilla provides a number of other built-in datasources. Some of them are listed here with a few examples. They work very similarly to the bookmarks, although the fields will be different in each case.</p>\n<h3 id=\"The_History_List\" name=\"The_History_List\">The History List</h3>\n<p>The history datasource provides access to the user's history list which is the list of URLs the user has visited recently. The resource can be referred to using <code>rdf:history</code> as the datasource. The table below shows the resources (or fields) that you can retrieve from the history datasource. Put the URL values below where you want the value of the resource to be used.</p>\n<table class=\"fullwidth-table\">\n  <tbody>\n    <tr>\n      <td>Date</td>\n      <td><span class=\"nowiki\">http://home.netscape.com/NC-rdf#Date</span></td>\n      <td>Date of last visit</td>\n    </tr>\n    <tr>\n      <td>Name</td>\n      <td><span class=\"nowiki\">http://home.netscape.com/NC-rdf#Name</span></td>\n      <td>Title of the page</td>\n    </tr>\n    <tr>\n      <td>Page</td>\n      <td><span class=\"nowiki\">http://home.netscape.com/NC-rdf#Page</span></td>\n      <td>Page name</td>\n    </tr>\n    <tr>\n      <td>Referrer</td>\n      <td><span class=\"nowiki\">http://home.netscape.com/NC-rdf#Referrer</span></td>\n      <td>Referrer of the page</td>\n    </tr>\n    <tr>\n      <td>URL</td>\n      <td><span class=\"nowiki\">http://home.netscape.com/NC-rdf#URL</span></td>\n      <td>URL of the page</td>\n    </tr>\n    <tr>\n      <td>Visit Count</td>\n      <td><span class=\"nowiki\">http://home.netscape.com/NC-rdf#VisitCount</span></td>\n      <td>Number of page visits</td>\n    </tr>\n  </tbody>\n</table>\n<p>A typical history list will display a tree with a selection of these fields. To use them, just put the URL values above in the <code>label</code> attributes of the buttons or treecells. You can use <code>NC:HistoryRoot</code> as the value of the <code>ref</code> attribute. You can also use the value <code>NC:HistoryByDate</code> to get the history sorted into days.</p>\n<h4 id=\"Using_The_History_List_Example\" name=\"Using_The_History_List_Example\">Using The History List Example</h4>\n<p>Let's see an example of displaying the history list. We'll display the history in a tree with three columns, the Name, the URL and the Date.</p>\n<p><span id=\"Example_1\"><a id=\"Example_1\"></a><strong>Example 1</strong></span> : <a href=\"https://developer.mozilla.org/samples/xultu/examples/ex_datasrc_1.xul.txt\">Source</a></p>\n<pre>&lt;tree flex=\"1\" datasources=\"rdf:history\" ref=\"NC:HistoryRoot\"&gt;\n\n  &lt;treecols&gt;\n    &lt;treecol id=\"name\" label=\"Name\" flex=\"1\"/&gt;\n    &lt;treecol id=\"url\" label=\"URL\" flex=\"1\"/&gt;\n    &lt;treecol id=\"date\" label=\"Date\" flex=\"1\"/&gt;\n  &lt;/treecols&gt;\n\n  &lt;template&gt;\n\n    &lt;rule&gt;\n      &lt;treechildren&gt;\n       &lt;treeitem uri=\"rdf:*\"&gt;\n         &lt;treerow&gt;\n           &lt;treecell label=\"rdf:http://home.netscape.com/NC-rdf#Name\"/&gt;\n           &lt;treecell label=\"rdf:http://home.netscape.com/NC-rdf#URL\"/&gt;\n           &lt;treecell label=\"rdf:http://home.netscape.com/NC-rdf#Date\"/&gt;\n         &lt;/treerow&gt;\n       &lt;/treeitem&gt;\n      &lt;/treechildren&gt;\n    &lt;/rule&gt;\n      \n  &lt;/template&gt;\n&lt;/tree&gt;\n</pre>\n<h3 id=\"Other_Datasources\" name=\"Other_Datasources\">Other Datasources</h3>\n<p>The tables below list some of the other datasources available with Mozilla. You can use any of the resources that you want.</p>\n<dl>\n  <dt>\n    Bookmarks (<span class=\"nowiki\">rdf:bookmarks</span>)</dt>\n  <dd>\n    The bookmarks are generated from the user's bookmark list.</dd>\n</dl>\n<table class=\"fullwidth-table\">\n  <tbody>\n    <tr>\n      <th colspan=\"3\">Resources</th>\n    </tr>\n    <tr>\n      <td>Added Date</td>\n      <td><span class=\"nowiki\">http://home.netscape.com/NC-rdf#BookmarkAddDate</span></td>\n      <td>Date the bookmark was added</td>\n    </tr>\n    <tr>\n      <td>Description</td>\n      <td><span class=\"nowiki\">http://home.netscape.com/NC-rdf#Description</span></td>\n      <td>Bookmark description</td>\n    </tr>\n    <tr>\n      <td>Last Modified</td>\n      <td><span class=\"nowiki\">http://home.netscape.com/WEB-rdf#LastModifiedDate</span></td>\n      <td>Date of last modification</td>\n    </tr>\n    <tr>\n      <td>Last Visited</td>\n      <td><span class=\"nowiki\">http://home.netscape.com/WEB-rdf#LastVisitDate</span></td>\n      <td>Date of last visit</td>\n    </tr>\n    <tr>\n      <td>Name</td>\n      <td><span class=\"nowiki\">http://home.netscape.com/NC-rdf#Name</span></td>\n      <td>Bookmark name</td>\n    </tr>\n    <tr>\n      <td>Shortcut URL</td>\n      <td><span class=\"nowiki\">http://home.netscape.com/NC-rdf#ShortcutURL</span></td>\n      <td>Custom keywords field</td>\n    </tr>\n    <tr>\n      <td>URL</td>\n      <td><span class=\"nowiki\">http://home.netscape.com/NC-rdf#URL</span></td>\n      <td>The URL to link to</td>\n    </tr>\n  </tbody>\n</table>\n<table class=\"fullwidth-table\">\n  <tbody>\n    <tr>\n      <th colspan=\"2\">Possible Bookmarks Roots</th>\n    </tr>\n    <tr>\n      <td>NC:BookmarksRoot</td>\n      <td>The top level of the bookmarks hierarchy</td>\n    </tr>\n    <tr>\n      <td>NC:IEFavoritesRoot</td>\n      <td>The bookmark folder that corresponds to the user's IE favorites.</td>\n    </tr>\n    <tr>\n      <td>NC:PersonalToolbarFolder</td>\n      <td>The bookmark folder that corresponds to the personal toolbar folder.</td>\n    </tr>\n  </tbody>\n</table>\n<dl>\n  <dt>\n    Files (<span class=\"nowiki\">rdf:files</span>)</dt>\n  <dd>\n    A view of the user's files.</dd>\n</dl>\n<table class=\"fullwidth-table\">\n  <tbody>\n    <tr>\n      <th colspan=\"3\">Resources</th>\n    </tr>\n    <tr>\n      <td>Name</td>\n      <td><span class=\"nowiki\">http://home.netscape.com/NC-rdf#Name</span></td>\n      <td>Name of the file</td>\n    </tr>\n    <tr>\n      <td>URL</td>\n      <td><span class=\"nowiki\">http://home.netscape.com/NC-rdf#URL</span></td>\n      <td>URL of the file</td>\n    </tr>\n    <tr>\n      <td>Content-Length</td>\n      <td><span class=\"nowiki\">http://home.netscape.com/NC-rdf#Content-Length</span></td>\n      <td>The length of the file.</td>\n    </tr>\n    <tr>\n      <td>LastModifiedDate</td>\n      <td><span class=\"nowiki\">http://home.netscape.com/NC-rdf#LastModifiedDate</span></td>\n      <td>The date that URL was last modified.</td>\n    </tr>\n    <tr>\n      <td>extension</td>\n      <td><span class=\"nowiki\">http://home.netscape.com/NC-rdf#extension</span></td>\n      <td>The extension of the file, including the period. This property is only available on platforms that use file extensions.</td>\n    </tr>\n  </tbody>\n</table>\n<table class=\"fullwidth-table\">\n  <tbody>\n    <tr>\n      <th colspan=\"2\">Possible Files Roots</th>\n    </tr>\n    <tr>\n      <td>NC:FilesRoot</td>\n      <td>Top level of the filesystem (usually the list of drives)</td>\n    </tr>\n    <tr>\n      <td>A file URL</td>\n      <td>By using a file URL for the ref attribute, you can select a specific directory to be returned. For example, you might use <a class=\"external\" rel=\"freelink\">file:///windows</a> or <a class=\"external\" rel=\"freelink\">files:///usr/local</a>.</td>\n    </tr>\n  </tbody>\n</table>\n<p>The files datasource is an example of a datasource that determines its resources only when necessary. We don't want every file in the filesystem to be determined before the data is displayed. Instead, only the files and directories that the tree element (or other elements) will need to display at a given time will be determined.</p>\n<h3 id=\"Composite_Datasources\" name=\"Composite_Datasources\">Composite Datasources</h3>\n<p>You can specify multiple datasources in the <code>datasources</code> attribute by separating them with whitespace as in the example below. This has the effect of reading the data from all the datasources mentioned.</p>\n<pre>&lt;tree datasources=\"rdf:bookmarks rdf:history animals.rdf\" ref=\"NC:BookmarksRoot\"&gt;\n</pre>\n<p>This example reads the resources from the bookmarks, history and the animals.rdf file. They are combined into a single composite datasource and can be used as if they were one.</p>\n<p>The special datasource <code>rdf:null</code> corresponds to nothing. You can use this datasource if you want to dynamically set the datasource using a script, but don't want one initially or don't know its exact URL.</p>\n<h3 id=\"Custom_RDF_Datasources\" name=\"Custom_RDF_Datasources\">Custom RDF Datasources</h3>\n<p>You can use any of the above internal datasources if you wish. There are several others for mail, address books and searching and so on. However, you might want to use your own RDF datasource stored in an RDF file. The file can be either a local file or a remote file. Just put the URL of the RDF file in the <code><code id=\"a-datasources\"><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/datasources\">datasources</a></code></code> attribute.</p>\n<p>Using RDF files provides just as much functionality as any of the internal datasources. You can use rules to match specific types of content. The attributes on the <code><code><a href=\"/en-US/docs/Mozilla/Tech/XUL/rule\" title=\"rule\">rule</a></code></code> element will match if they match the attributes on an RDF <code>Description</code> element. You can also create RDF files that are hierarchical.</p>\n<h4 id=\"Using_RDF_file_Example\" name=\"Using_RDF_file_Example\">Using RDF file Example</h4>\n<p>The following is an example of how an RDF file can be used as a datasource. The RDF file is fairly large and can be viewed separately: <a href=\"https://developer.mozilla.org/samples/xultu/examples/animals.txt\">Source</a> <a href=\"https://developer.mozilla.org/samples/xultu/examples/animals.rdf\">RDF</a></p>\n<p><span id=\"Example_2\"><a id=\"Example_2\"></a><strong>Example 2</strong></span> : <a href=\"https://developer.mozilla.org/samples/xultu/examples/ex_datasrc_2.xul.txt\">Source</a> <a href=\"https://developer.mozilla.org/samples/xultu/examples/ex_datasrc_2.xul\">View</a></p>\n<pre>&lt;tree flex=\"1\" width=\"200\" height=\"200\"\n      datasources=\"animals.rdf\" ref=\"http://www.some-fictitious-zoo.com/all-animals\"&gt;\n\n  &lt;treecols&gt;\n    &lt;treecol id=\"name\" label=\"Name\" primary=\"true\" flex=\"1\"/&gt;\n    &lt;treecol id=\"species\" label=\"Species\" flex=\"1\"/&gt;\n  &lt;/treecols&gt;\n\n  &lt;template&gt;\n    &lt;rule&gt;\n      &lt;treechildren&gt;\n       &lt;treeitem uri=\"rdf:*\"&gt;\n         &lt;treerow&gt;\n           &lt;treecell label=\"rdf:http://www.some-fictitious-zoo.com/rdf#name\"/&gt;\n           &lt;treecell label=\"rdf:http://www.some-fictitious-zoo.com/rdf#species\"/&gt;\n         &lt;/treerow&gt;\n       &lt;/treeitem&gt;\n      &lt;/treechildren&gt;\n    &lt;/rule&gt;\n\n  &lt;/template&gt;\n&lt;/tree&gt;\n</pre>\n<p><img alt=\"Image:datasrc1.jpg\"></p>\n<p>Here, the data has been generated from the file. The <code><code id=\"a-ref\"><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/ref\">ref</a></code></code> attribute has been set to the root element in the RDF file, which is the top-level <code>Seq</code>. This will give us a complete list of animals. If we wanted to, we could set the <code><code id=\"a-ref\"><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/ref\">ref</a></code></code> attribute to any of the other <code>about</code> attribute values to limit the set of data that is returned. For example, to display only the reptiles, use a value of <code><span class=\"nowiki\">http://www.some-fictitious-zoo.com/reptiles</span></code>.</p>\n<h4 id=\"Setting_the_ref_Attribute_Example\" name=\"Setting_the_ref_Attribute_Example\">Setting the <code>ref</code> Attribute Example</h4>\n<p>The example below shows how to display a particular piece of an RDF datasource by setting the <code><code id=\"a-ref\"><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/ref\">ref</a></code></code> attribute.</p>\n<p><span id=\"Example_3\"><a id=\"Example_3\"></a><strong>Example 3</strong></span> : <a href=\"https://developer.mozilla.org/samples/xultu/examples/ex_datasrc_3.xul.txt\">Source</a> <a href=\"https://developer.mozilla.org/samples/xultu/examples/ex_datasrc_3.xul\">View</a></p>\n<pre>&lt;window\n  id=\"example-window\"\n  title=\"History List\"\n  xmlns:ANIMALS=\"http://www.some-fictitious-zoo.com/rdf#\"\n  xmlns=\"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul\"&gt;\n\n&lt;button label=\"Click here to see the mammals the zoo has\" type=\"menu\"\n        datasources=\"animals.rdf\" ref=\"http://www.some-fictitious-zoo.com/mammals\"&gt;\n  &lt;template&gt;\n    &lt;rule ANIMALS:specimens=\"0\"&gt;&lt;/rule&gt;\n    &lt;rule&gt;\n      &lt;menupopup&gt;\n        &lt;menuitem uri=\"rdf:*\" label=\"rdf:http://www.some-fictitious-zoo.com/rdf#name\"/&gt;\n      &lt;/menupopup&gt;\n    &lt;/rule&gt;\n  &lt;/template&gt;\n&lt;/button&gt;\n\n&lt;/window&gt;\n</pre>\n<p>In this case only the mammals are desired, so we select the URI of the mammals list. You will notice that the value of the <code><code id=\"a-ref\"><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XUL/Attribute/ref\">ref</a></code></code> attribute in the example is <code><span class=\"nowiki\">http://www.some-fictitious-zoo.com/mammals</span></code> which corresponds to one of the <code>Seq</code> elements in the RDF file. This causes only the descendants of this list to be returned.</p>\n<p>Two rules have been used here. The first rule catches all the resources that have their <code>ANIMALS:specimens</code> attribute set to <code>0</code>. You can see this attribute in the RDF file on each of the <code>Description</code> elements. Some of them have a value of 0. So in these cases, rule one will match. Because rule one has no content, nothing will be displayed for these ones. This is an effective way to hide data that we don't want to display.</p>\n<p>The second rule applies to all other resources and creates a row in a popup menu. The end effect is that we get a popup menu containing all the mammals which have a specimen that is not 0.</p>\n<p>Next, we'll look at the full rule syntax.</p>\n<p></p><div class=\"prevnext\" style=\"text-align: right;\">\n    <p><a href=\"/en-US/docs/XUL_Tutorial:Trees_and_Templates\" style=\"float: left;\">« Previous</a><a href=\"/en-US/docs/XUL_Tutorial:Advanced_Rules\">Next  »</a></p>\n</div><p></p>",
    "contributors": "<a href=\"https://developer.mozilla.org/en-US/profiles/wbamberg\">wbamberg</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot\">mdnwebdocs-bot</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Sheppy\">Sheppy</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/teoli\">teoli</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/fscholz\">fscholz</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Epskampie\">Epskampie</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Chbok\">Chbok</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Jjinux\">Jjinux</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Mgjbot\">Mgjbot</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Morishoji\">Morishoji</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Pmash\">Pmash</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Ptak82\">Ptak82</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Dria\">Dria</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Enn\">Enn</a>",
    "title": "RDF Datasources"
}