{
    "content": "<p> </p>\n<p></p><div class=\"prevnext\" style=\"text-align: right;\">\n    <p><a href=\"/en-US/docs/XUL_Tutorial:Localization\" style=\"float: left;\">« Previous</a><a href=\"/en-US/docs/XUL_Tutorial:Introduction_to_XBL\">Next  »</a></p>\n</div><p></p>\n<p>In a script, entities cannot be used. Property files are used instead.</p>\n<h3 id=\"Properties\" name=\"Properties\">Properties</h3>\n<p>DTD files are suitable when you have text in a XUL file. However, a script does not get parsed for entities. In addition, you may wish to display a message which is generated from a script, if, for example, you do not know the exact text to be displayed. For this purpose, property files can be used.</p>\n<p>A property file contains a set of strings. You will find property files alongside the DTD files with a .properties extension. Properties in the file are declared with the syntax <code>name=value</code>. An example is shown below:</p>\n<pre>notFoundAlert=No files were found matching the criteria.\ndeleteAlert=Click OK to have all your files deleted.\nresultMessage=%2$S files found in the %1$S directory.\n</pre>\n<p>Here, the property file contains three properties. These would be read by a script and displayed to the user.</p>\n<p>A property file can also include comments. A line that begins with a hash sign ('#') is treated as a comment:</p>\n<pre># This is a comment\nwelcomeMessage=Hello, world!\n# This is another comment\ngoodbyeMessage=Come back soon!\n</pre>\n<h3 id=\"Stringbundles\" name=\"Stringbundles\">Stringbundles</h3>\n<p>You could write the code to read properties yourself, however XUL provides the <code><code><a href=\"/en-US/docs/Mozilla/Tech/XUL/stringbundle\" title=\"stringbundle\">stringbundle</a></code></code> element which does this for you. The element has a number of functions which can be used to get strings from the property file and get other locale information. This element reads in the contents of a property file and builds a list of properties for you. You can then look up a particular property by name.</p>\n<pre>&lt;stringbundleset id=\"<code>stringbundleset</code>\"&gt;\n&lt;stringbundle id=\"strings\" src=\"strings.properties\"/&gt;\n&lt;/stringbundleset&gt;\n</pre>\n<p>Including this element will read the properties from the file 'strings.properties' in the same directory as the XUL file. Use a chrome URL to read a file from the locale:</p>\n<pre>&lt;stringbundleset id=\"<code>stringbundleset</code>\"&gt;\n&lt;stringbundle id=\"strings\" src=\"chrome://myplugin/locale/strings.properties\"/&gt;\n&lt;/stringbundleset&gt;\n</pre>\n<p>Like other non-displayed elements, you should declare all your stringbundles inside a <code><code><a href=\"/en-US/docs/Mozilla/Tech/XUL/stringbundleset\" title=\"stringbundleset\">stringbundleset</a></code></code> element so that they are all kept together.</p>\n<h4 id=\"Getting_a_String_from_the_Bundle\" name=\"Getting_a_String_from_the_Bundle\">Getting a String from the Bundle</h4>\n<p>This <code><code><a href=\"/en-US/docs/Mozilla/Tech/XUL/stringbundle\" title=\"stringbundle\">stringbundle</a></code></code> element has a number of properties. The first is <code>getString</code> which can be used in a script to read a string from the bundle.</p>\n<pre>var strbundle = document.getElementById(\"strings\");\nvar nofilesfound=strbundle.getString(\"notFoundAlert\");\n\nalert(nofilesfound);\n</pre>\n<ul>\n <li>This example first gets a reference to the bundle using its <code>id</code></li>\n <li>Then, it looks up the string 'notFoundAlert' in the property file. The function <code>getString()</code> returns the value of the string or null if the string does not exist.</li>\n <li>Finally, the string is displayed in an alert box.</li>\n</ul>\n<h4 id=\"Text_Formatting\" name=\"Text_Formatting\">Text Formatting</h4>\n<p>The next method is <code>getFormattedString()</code>. This method also gets a string with the given key name from the bundle. In addition, each occurrence of formatting code (e.g. <code>%S</code>) is replaced by each successive element in the supplied array.</p>\n<pre class=\"brush: js\">var dir = \"/usr/local/document\";\nvar count = 10;\n\nvar strbundle = document.getElementById(\"strings\");\nvar result = strbundle.getFormattedString(\"resultMessage\", [ dir, count ]);\n\nalert(result);\n</pre>\n<p>This example will display following message in an alert box.</p>\n<pre>10 files found in the /usr/local/document directory.\n</pre>\n<p>You will notice the formatting codes <code>%1$S</code> and <code>%2$S</code> is used, and replaced different order in the array. Formatting code %<em>n</em>$S is specify the position of corresponding parameter directly. Although the word order is not the same in all the languages, by using <code>getFormattedString()</code> the specification of the order can be put out the property files.</p>\n<p>In case you need to format a string that already contains the percentage character in it (to get something like \"50% Off\" returned), escape the percentage character with another percentage character, like this:</p>\n<pre>my.percentage.string = %S%% Off\n</pre>\n<p>Not escaping the percentage character will generate an incorrect string that strips the space character between the percentage character and the next word of the string (\"50%Off\").</p>\n<h3 id=\"Escape_non-ASCII_Characters\" name=\"Escape_non-ASCII_Characters\">Non-ASCII Characters, UTF-8 and escaping</h3>\n<p>Gecko 1.8.x (or later) supports property files encoded in UTF-8. You can and should write non-ASCII characters directly without escape sequences, and save the file as UTF-8 without BOM. Double-check the save options of your text editor, because many don't do this by default. See <a href=\"/en/Localizing_extension_descriptions\" title=\"en/Localizing_extension_descriptions\">Localizing extension descriptions</a> for more details.</p>\n<p>In some cases, it may be useful or needed to use escape sequences to express some characters. Property files support escape sequences of the form: <code>\\uXXXX</code> , where XXXX is a Unicode character code. For example, to put a space at the beginning or end of a string (which would normally be stripped by the properties file parser), use \\u0020 .</p>\n<p><br>\n In the next section, we will look at XBL, which can be used to define the <a href=\"/en/XUL_Tutorial/Introduction_to_XBL\" title=\"en/XUL_Tutorial/Introduction_to_XBL\">behavior of an element</a>.</p>\n<p></p><div class=\"prevnext\" style=\"text-align: right;\">\n    <p><a href=\"/en-US/docs/XUL_Tutorial:Localization\" style=\"float: left;\">« Previous</a><a href=\"/en-US/docs/XUL_Tutorial:Introduction_to_XBL\">Next  »</a></p>\n</div><p></p>\n<h2 id=\"See_Also\">See Also</h2>\n<ul>\n <li>How to localize html pages, xul files, and js/jsm files from bootstrapped add-ons: <a href=\"/en-US/Add-ons/Bootstrapped_extensions#Localization_%28L10n%29\">Bootstrapped Extensions :: Localization (L10n)</a></li>\n</ul>",
    "contributors": "<a href=\"https://developer.mozilla.org/en-US/profiles/wbamberg\">wbamberg</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot\">mdnwebdocs-bot</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Noitidart\">Noitidart</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Sheppy\">Sheppy</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Zarkonnen\">Zarkonnen</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/teoli\">teoli</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/fscholz\">fscholz</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/jmrodriguez\">jmrodriguez</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/BenB\">BenB</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/icecrystal\">icecrystal</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/vladimir.dzhuvinov\">vladimir.dzhuvinov</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/mathemajor\">mathemajor</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Piro\">Piro</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/DirkjanOchtman\">DirkjanOchtman</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Enn\">Enn</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Lissyx\">Lissyx</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Chbok\">Chbok</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Mgjbot\">Mgjbot</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Morishoji\">Morishoji</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Pmash\">Pmash</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Ptak82\">Ptak82</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Dria\">Dria</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Nickolay\">Nickolay</a>",
    "title": "Property Files"
}