{
    "content": "<p>Here is an example of programmaticaly building a tree and using the built-in tree view for displaying the results of a places query:</p>\n<pre class=\"brush: js\">var tree = document.createElement(\"tree\");\ntree.setAttribute(\"seltype\", \"single\");\ntree.setAttribute(\"rows\", \"10\");\ntree.setAttribute(\"flex\", \"1\");\ntree.setAttribute(\"type\", \"places\");</pre>\n<p>The top element is the tree element, which has some attributes here. Important is the type attribute, that indicates, that the tree is filled with informations from places.</p>\n<pre class=\"brush: js\">var columns = document.createElement(\"treecols\");\n\nvar column1 = document.createElement(\"treecol\");\ncolumn1.setAttribute(\"id\", \"tree_title\");\ncolumn1.setAttribute(\"anonid\", \"title\");\ncolumn1.setAttribute(\"label\", \"Title\");\ncolumn1.setAttribute(\"flex\", \"1\");\ncolumns.appendChild(column1);</pre>\n<p>All columns are surrounded by the treecols element. The anonid attribute specifies for each column, which informations of the places query, which comes later, are filled in. For a list of available values, see <a class=\"internal\" href=\"/en/Displaying_Places_information_using_views#Column_binding\" title=\"En/Displaying Places information using views\">Displaying Places information using views</a></p>\n<pre class=\"brush: js\">var splitter1 = document.createElement(\"splitter\");\n// splitter1.setAttribute(\"class\", \"tree-splitter\");\ncolumns.appendChild(splitter1);</pre>\n<p>Splitters divide the columns, and make the columns resizable. If you want a column not to be resized, set the class attribute to the value \"tree-splitter\", as shown in the commented line.</p>\n<pre class=\"brush: js\">var column2 = document.createElement(\"treecol\");\ncolumn2.setAttribute(\"id\", \"tree_url\");\ncolumn2.setAttribute(\"anonid\", \"url\");\ncolumn2.setAttribute(\"label\", \"URL\");\ncolumn2.setAttribute(\"flex\", \"2\");\ncolumns.appendChild(column2);\ntree.appendChild(columns);</pre>\n<p>The second column will contain also contain the anonid attribute, which makes this row displaying the urls that are resulted.</p>\n<pre class=\"brush: js\">var children = document.createElement(\"treechildren\");\nchildren.setAttribute(\"alternatingbackground\", true);\ntree.appendChild(children);\ndocument.documentElement.appendChild(tree);</pre>\n<p>An alternating background for even and odd rows is enabled, and the tree gets appended to the document.</p>\n<pre class=\"brush: js\">var historyService = Components.classes[\"@mozilla.org/browser/nav-history-service;1\"].getService(Components.interfaces.nsINavHistoryService);\nvar query = historyService.getNewQuery();\nquery.domainIsHost = true;\nquery.domain = \"developer.mozilla.org\";\n\nvar options = historyService.getNewQueryOptions();\noptions.resultType = historyService.RESULTS_AS_URI;\noptions.queryType = historyService.QUERY_TYPE_HISTORY;\n\nvar uri = historyService.queriesToQueryString([query], 1, opts);  \ntree.place = uri;  </pre>\n<p>A new query is built, it will return all visited pages that have the the host \"developer.mozilla.org\". In the last line, the query and the defined options get attached to the tree view.</p>\n<h3 id=\"Complete_code_listing\">Complete code listing</h3>\n<pre class=\"brush: xml\">function treeLoad() {\n\tvar tree = document.createElement(\"tree\");\n\ttree.setAttribute(\"seltype\", \"single\");\n\ttree.setAttribute(\"rows\", \"10\");\n\ttree.setAttribute(\"flex\", \"1\");\n\ttree.setAttribute(\"type\", \"places\");\n\n\tvar columns = document.createElement(\"treecols\");\n\n\tvar column1 = document.createElement(\"treecol\");\n\tcolumn1.setAttribute(\"id\", \"tree_title\");\n\tcolumn1.setAttribute(\"anonid\", \"title\");\n\tcolumn1.setAttribute(\"label\", \"Title\");\n\tcolumn1.setAttribute(\"flex\", \"1\");\n\tcolumns.appendChild(column1);\n\n\tvar splitter1 = document.createElement(\"splitter\");\n\t// splitter1.setAttribute(\"class\", \"tree-splitter\");\n\tcolumns.appendChild(splitter1);\n\n\tvar column2 = document.createElement(\"treecol\");\n\tcolumn2.setAttribute(\"id\", \"tree_url\");\n\tcolumn2.setAttribute(\"anonid\", \"url\");\n\tcolumn2.setAttribute(\"label\", \"URL\");\n\tcolumn2.setAttribute(\"flex\", \"2\");\n\tcolumns.appendChild(column2);\n\ttree.appendChild(columns);\n\n\tvar children = document.createElement(\"treechildren\");\n\tchildren.setAttribute(\"alternatingbackground\", true);\n\ttree.appendChild(children);\n\tdocument.documentElement.appendChild(tree);\n\n\tvar historyService = Components.classes[\"@mozilla.org/browser/nav-history-service;1\"].getService(Components.interfaces.nsINavHistoryService);\n\tvar query = historyService.getNewQuery();\n\tquery.domainIsHost = true;\n\tquery.domain = \"developer.mozilla.org\";\n\n\tvar options = historyService.getNewQueryOptions();\n\toptions.resultType = historyService.RESULTS_AS_URI;\n\toptions.queryType = historyService.QUERY_TYPE_HISTORY;\n\t\n\tvar uri = historyService.queriesToQueryString([query], 1, opts);  \n\ttree.place = uri;\n}</pre>\n<p>Â </p>",
    "contributors": "<a href=\"https://developer.mozilla.org/en-US/profiles/wbamberg\">wbamberg</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/teoli\">teoli</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/adw\">adw</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/One\">One</a>",
    "title": "Programmatic generation of the built-in tree view"
}