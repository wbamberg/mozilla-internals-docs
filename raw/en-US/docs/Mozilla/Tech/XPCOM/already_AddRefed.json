{
    "content": "<p>« <a href=\"/en-US/docs/XPCOM_API_Reference\">XPCOM API Reference</a></p>\n\n<p><code>already_AddRefed</code> in association with <code><a href=\"/en-US/docs/NsCOMPtr\">nsCOMPtr</a></code> allows you to assign in a pointer <strong>without</strong> <code>AddRef</code>ing it.</p>\n\n<p>You may want to use this as a return type from a function that has already produced an  <code>AddRef</code>ed pointer as a result. In fact, it is preferred to use <code>already_AddRefed</code> in this case over returning a raw pointer or <code>nsCOMPtr</code> (see the <a class=\"external\" href=\"http://www.mozilla.org/projects/xpcom/nsCOMPtr.html#users_guide\">nsCOMPtr user manual</a>).</p>\n\n<p>Defined in: <code><a href=\"https://dxr.mozilla.org/mozilla-central/source/mfbt/AlreadyAddRefed.h\" rel=\"custom\">mfbt/AlreadyAddRefed.h</a></code>.</p>\n\n<h3 id=\"Example\" name=\"Example\">Example</h3>\n\n<pre class=\"brush: cpp\">...\nalready_AddRefed&lt;nsIFoo&gt; GetFoo() {\n  nsIFoo* foo = mFoo;\n  NS_IF_ADDREF(foo);\n  return foo;\n}\n\n// or\n\nalready_AddRefed&lt;nsIFoo&gt; GetFoo() {\n  nsCOMPtr&lt;nsIFoo&gt; foo = mFoo; \n  // ...\n  return foo.forget();\n}\n...\n// The following assignment doesn't perform an additional AddRef,\n// as it would do if GetFoo() returned a raw pointer.\nnsCOMPtr&lt;nsIFoo&gt; foo = GetFoo();\n</pre>\n\n<h3 id=\"See_also\" name=\"See_also\">See also</h3>\n\n<p><code><a href=\"/en-US/docs/NsCOMPtr\">nsCOMPtr</a></code>, <code><a href=\"/en-US/docs/Getter_AddRefs\">getterAddRefs()</a></code>, <code><a href=\"/en-US/docs/Dont_AddRef\">dont_AddRef()</a>.</code></p>",
    "contributors": "<a href=\"https://developer.mozilla.org/en-US/profiles/wbamberg\">wbamberg</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot\">mdnwebdocs-bot</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/teoli\">teoli</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/PushpitaPikuDey\">PushpitaPikuDey</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Seta00\">Seta00</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/gkeeley\">gkeeley</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/trevorh\">trevorh</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/gsvelto\">gsvelto</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Ms2ger\">Ms2ger</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/sheralwooden\">sheralwooden</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Nickolay\">Nickolay</a>",
    "title": "already_AddRefed"
}