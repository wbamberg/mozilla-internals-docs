{
    "content": "<h3 id=\"The_Command_Line\" name=\"The_Command_Line\">The Command Line</h3>\n\n<p>The command-line syntax for <a href=\"/en/XPConnect/xpcshell\" title=\"en/XPConnect/xpcshell\">xpcshell</a> is:</p>\n\n<pre>xpcshell [-s] [-w] [-W] [-v version] [-f scriptfile] [scriptfile] [scriptarg...]</pre>\n\n<dl>\n <dt><code>-C</code></dt>\n <dd>This option turns on the \"compile-only\" mode. (Setting this option disables the \"Interactive\" mode)</dd>\n <dt><code>-f</code></dt>\n <dd>This option specifies a script file to execute. <code>xpcshell</code> terminates upon script completion. You can specify multiple JS files to execute by using multiple <code>-f</code> arguments, and the scripts will be executed in the order encountered.</dd>\n</dl>\n\n<dl>\n <dd>Furthermore, XPCShell looks for <code>xpcshell.js</code> in the current directory. If that file is found, it is executed before any other JS files specified.</dd>\n <dt><code>-g</code></dt>\n <dd>This option specifies which Gecko Runtime Environment directory (greDir) to use for XPCOM.</dd>\n <dt><code>-i</code></dt>\n <dd>This option turns on the \"interactive\" mode</dd>\n</dl>\n\n<dl>\n <dt><code>-s</code></dt>\n <dd>This option toggles the JavaScript strict option on and off. By default it is off.</dd>\n</dl>\n\n<dl>\n <dt><code>-v version</code></dt>\n <dd>This allows you to specify a specific version of JS to use, and should be set to an integral value specified by the <a href=\"/En/SpiderMonkey/JSAPI_Reference/JSVersion\" title=\"En/SpiderMonkey/JSAPI_Reference/JSVersion\">JSVersion</a> enumerated type. For instance, specifying <code>-v 180</code> will set the interpreter to use JavaScript version 1.8.</dd>\n</dl>\n\n<dl>\n <dt><code>-w (lower case)</code></dt>\n <dd>This option turns on JavaScript warnings.</dd>\n</dl>\n\n<dl>\n <dt><code>-W (upper case)</code></dt>\n <dd>This turns off JavaScript warnings. The last option listed is the one that takes effect.</dd>\n <dt><code>-x</code></dt>\n <dd>This option toggles the XML option on and off. By default it is off.</dd>\n</dl>\n\n<dl>\n <dt><code>[scriptfile]</code></dt>\n <dd>This is the file name of the script to execute.</dd>\n</dl>\n\n<dl>\n <dt><code>[scriptarg…]</code></dt>\n <dd>These are arguments to be passed to the script. These arguments are only passed to “scriptfile” and not the scripts designated by <code>–f</code> options. These arguments appear on the global property <code>arguments</code>.</dd>\n</dl>\n\n<dl>\n <dd>For instance, assume that you have a file called <code>test.js</code> with the following contents:</dd>\n</dl>\n\n<pre>for (prop in arguments)\n{\n    print(prop + \"=\" + arguments[prop]);\n}\n</pre>\n\n<dl>\n <dd>Entering the following at the command line should produce the following output:</dd>\n</dl>\n\n<pre>$ xpcshell test.js This is a test\n0=This\n1=is\n2=a\n3=test\n</pre>\n\n<h3 id=\"XPCShell_Extensions\" name=\"XPCShell_Extensions\">XPCShell Extensions</h3>\n\n<p>Once you execute XPCShell without a script you'll be at the <code>JS&gt;</code> command line. The following are some useful functions that can be invoked from the command line:</p>\n\n<dl>\n <dt><code>clear(<em>object</em>)</code></dt>\n <dd><code>clear()</code> removes all properties from an object. For example, if you created <code>anObject</code> with a property named <code>value</code> and then called <code>clear(anObject)</code>, the property <code>value</code> would no longer exist.</dd>\n</dl>\n\n<dl>\n <dt><code>gc(<em>heapDumpFilename</em>)</code></dt>\n <dd><code>gc()</code> will invoke garbage collection. It takes an optional argument that can be used to dump the heap to. If specified, it should equate to a valid filename.</dd>\n</dl>\n\n<dl>\n <dt><code>load(<em>scriptFilename</em>)</code></dt>\n <dd><code>load()</code> allows you to load and run a script from the command line. For example, <code>load(\"MyScript.js\")</code> will execute the script <code>MyScript.js</code> in the current directory.</dd>\n</dl>\n\n<dl>\n <dt><code>print(<em>obj1</em>, <em>obj2</em>, <em>…</em>)</code></dt>\n <dd><code>print()</code> is useful to print something to the screen. It dumps whatever is passed to the screen, putting spaces between arguments and appending a newline at the end. An example <code>print(1, 2, 3)</code> Will print <code>1 2 3&lt;newline&gt;</code>.</dd>\n</dl>\n\n<dl>\n <dt><code>dump(<em>object</em>)</code></dt>\n <dd><code>dump()</code> is almost like <code>print</code>. It only handles one parameter and it doesn't append a newline.</dd>\n</dl>\n\n<dl>\n <dt><code>dumpXPC(<em>depth</em>)</code></dt>\n <dd>This function dumps the XPConnect object. See the documentation on <code>debugDump()</code> for the <a href=\"/en/NsIXPConnect\" title=\"en/NsIXPConnect\">nsIXPConnect</a> interface for more information.</dd>\n</dl>\n\n<dl>\n <dt><code>version(<em>newVersion</em>)</code></dt>\n <dd><code>version()</code> returns the JavaScript engine version number. If you pass a number to it, it will set the version number (and return the old version number). See the above documentation on the <code>-v</code> command-line argument for more information.</dd>\n</dl>\n\n<dl>\n <dt><code>quit(<em>exitCode</em>)</code></dt>\n <dd><code>quit()</code> exits the shell. You can specify arguments that will get translated to an exit code. <code>quit(5)</code> will exit XPCShell with a result code of 5.</dd>\n</dl>\n\n<div class=\"originaldocinfo\">\n<h2 id=\"Original_Document_Information\" name=\"Original_Document_Information\">Original Document Information</h2>\n\n<ul>\n <li>Author: David Bradley &lt;<a class=\"link-mailto\" href=\"mailto:dbradley@netscape.com\" rel=\"freelink\">dbradley@netscape.com</a>&gt;</li>\n <li>Last Updated Date: 17 March 2003</li>\n <li>Copyright Information: Portions of this content are © 1998–2008 by individual mozilla.org contributors; content available under a Creative Commons license.</li>\n</ul>\n</div>",
    "contributors": "<a href=\"https://developer.mozilla.org/en-US/profiles/wbamberg\">wbamberg</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot\">mdnwebdocs-bot</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/ExE-Boss\">ExE-Boss</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/SphinxKnight\">SphinxKnight</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/teoli\">teoli</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Fredinfinite23\">Fredinfinite23</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Varmaa\">Varmaa</a>",
    "title": "XPCShell Reference"
}