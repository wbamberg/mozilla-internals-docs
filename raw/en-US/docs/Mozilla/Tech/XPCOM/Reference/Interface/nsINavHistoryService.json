{
    "content": "<p></p><div style=\"border: solid #ddd 2px; margin-bottom: 12px;\">\n<div style=\"background: #eee; padding: 2px;\"><code><a href=\"https://dxr.mozilla.org/mozilla-central/source/toolkit/components/places/nsINavHistoryService.idl\" rel=\"custom\">toolkit/components/places/nsINavHistoryService.idl</a></code><span style=\"text-align: right; float: right;\"><a href=\"/en-US/docs/Interfaces/About_Scriptable_Interfaces\" style=\"color: #00cc00; font-weight: 700;\">Scriptable</a></span></div>\n<span style=\"padding: 4px 2px;\">\n\nThis interface provides complex query functions, more fine-grained getters and setters.\n</span>\n\n  <div style=\"height: 42px; position: relative; padding: 2px; width: auto;\">\n\n  <div style=\"top: 22px; font-size: 11px; position: absolute;\">1.0</div>\n  \n  <div style=\"top: 22px; font-size: 11px; position: absolute; left: 0px; text-align: right; float: right; width: 100%;\">66</div>\n  \n  <div style=\"height: 8px; top: 16px; background: #dd0000; left: 0px; position: absolute; width: 5.714285714285714%;\"></div>\n  \n<div style=\"height: 8px; top: 16px; left: 5.714285714285714%; background: #00dd00; position: absolute; width: 94.28571428571429%;\" title=\"Introduced in Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)\"></div>\n\n<div style=\"top: 0px; font-size: 11px; position: absolute; left: 5.714285714285714%;\">Introduced</div>\n<div style=\"top: 22px; font-size: 11px; position: absolute; left: 5.714285714285714%;\">Gecko 1.8</div>\n\n    <div style=\"height: 8px; top: 16px; left: 36.642857142857146%; background: #eeee00; position: absolute; width: 1%; border-radius: 4px; -webkit-border-radius: 4px;\" title=\"Last changed in Gecko 22 (Firefox 22 / Thunderbird 22 / SeaMonkey 2.19)\"></div>\n    \n</div>\n\n<div style=\"background: #eee; padding: 2px;\">\nInherits from: <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports\" title=\"\">nsISupports</a></code>\n<span style=\"text-align: right; float: right;\">Last changed in Gecko 22 (Firefox 22 / Thunderbird 22 / SeaMonkey 2.19)</span></div>\n</div><p></p>\n\n<p>Implemented by: <code>\"@mozilla.org/browser/nav-history-service;1\"</code>. To use this service, use:</p>\n\n<pre class=\"eval\">var historyService = Components.classes[\"@mozilla.org/browser/nav-history-service;1\"]\n                               .getService(Components.interfaces.nsINavHistoryService);\n</pre>\n\n<h2 id=\"Method_overview\" name=\"Method_overview\">Method overview</h2>\n\n<table class=\"standard-table\">\n <tbody>\n  <tr>\n   <td><code>AString <a href=\"#getPageTitle()\">getPageTitle</a>(in <a href=\"/en/XPCOM_Interface_Reference/nsIURI\" title=\"en/nsIURI\">nsIURI</a> aURI);</code></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#markPageAsFollowedBookmark()\">markPageAsFollowedBookmark</a>(in <a href=\"/en/XPCOM_Interface_Reference/nsIURI\" title=\"en/nsIURI\">nsIURI</a> aURI);</code></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#markPageAsFollowedLink()\">markPageAsFollowedLink</a>(in nsIURI aURI); </code></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#markPageAsTyped()\">markPageAsTyped</a>(in nsIURI aURI); </code></td>\n  </tr>\n  <tr>\n   <td><code>boolean <a href=\"#canAddURI()\">canAddURI</a>(in <a href=\"/en/XPCOM_Interface_Reference/nsIURI\" title=\"en/nsIURI\">nsIURI</a> aURI);</code></td>\n  </tr>\n  <tr>\n   <td><code>long long <a href=\"#addVisit()\">addVisit</a>(in <a href=\"/en/XPCOM_Interface_Reference/nsIURI\" title=\"en/nsIURI\">nsIURI</a> aURI, in PRTime aTime, in <a href=\"/en/XPCOM_Interface_Reference/nsIURI\" title=\"en/nsIURI\">nsIURI</a> aReferringURI, in long aTransitionType, in boolean aIsRedirect, in long long aSessionID); </code><span class=\"inlineIndicator obsolete obsoleteInline\" title=\"(Firefox 22.0 / Thunderbird 22.0 / SeaMonkey 2.19)\">Obsolete since Gecko 22.0</span></td>\n  </tr>\n  <tr>\n   <td><code><a href=\"/en/XPCOM_Interface_Reference/nsINavHistoryQuery\" title=\"en/nsINavHistoryQuery\">nsINavHistoryQuery</a> <a href=\"#getNewQuery()\">getNewQuery</a>();</code></td>\n  </tr>\n  <tr>\n   <td><code><a href=\"/en/XPCOM_Interface_Reference/nsINavHistoryQueryOptions\" title=\"en/nsINavHistoryQueryOptions\">nsINavHistoryQueryOptions</a> <a href=\"#getNewQueryOptions()\">getNewQueryOptions</a>();</code></td>\n  </tr>\n  <tr>\n   <td><code><a href=\"/en/nsINavHistoryResult\" title=\"en/nsINavHistoryResult\">nsINavHistoryResult</a> <a href=\"#executeQuery()\">executeQuery</a>(in <a href=\"/en/XPCOM_Interface_Reference/nsINavHistoryQuery\" title=\"en/nsINavHistoryQuery\">nsINavHistoryQuery</a> aQuery, in <a href=\"/en/XPCOM_Interface_Reference/nsINavHistoryQueryOptions\" title=\"en/nsINavHistoryQueryOptions\">nsINavHistoryQueryOptions</a> options);</code></td>\n  </tr>\n  <tr>\n   <td><code><a href=\"/en/nsINavHistoryResult\" title=\"en/nsINavHistoryResult\">nsINavHistoryResult</a> <a href=\"#executeQueries()\">executeQueries</a>([array,size_is(aQueryCount)] in <a href=\"/en/XPCOM_Interface_Reference/nsINavHistoryQuery\" title=\"en/nsINavHistoryQuery\">nsINavHistoryQuery</a> aQueries, in unsigned long aQueryCount, in <a href=\"/en/XPCOM_Interface_Reference/nsINavHistoryQueryOptions\" title=\"en/nsINavHistoryQueryOptions\">nsINavHistoryQueryOptions</a> options);</code></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#queryStringToQueries()\">queryStringToQueries</a>(in <a href=\"/en/AUTF8String\" title=\"en/AUTF8String\">AUTF8String</a> aQueryString, [array, size_is(aResultCount)] out <a href=\"/en/XPCOM_Interface_Reference/nsINavHistoryQuery\" title=\"en/nsINavHistoryQuery\">nsINavHistoryQuery</a> aQueries, out unsigned long aResultCount, out <a href=\"/en/XPCOM_Interface_Reference/nsINavHistoryQueryOptions\" title=\"en/nsINavHistoryQueryOptions\">nsINavHistoryQueryOptions</a> options);</code></td>\n  </tr>\n  <tr>\n   <td><code><a href=\"/en/AUTF8String\" title=\"en/AUTF8String\">AUTF8String</a> <a href=\"#queriesToQueryString()\">queriesToQueryString</a>([array, size_is(aQueryCount)] in <a href=\"/en/XPCOM_Interface_Reference/nsINavHistoryQuery\" title=\"en/nsINavHistoryQuery\">nsINavHistoryQuery</a> aQueries, in unsigned long aQueryCount, in <a href=\"/en/XPCOM_Interface_Reference/nsINavHistoryQueryOptions\" title=\"en/nsINavHistoryQueryOptions\">nsINavHistoryQueryOptions</a> options);</code></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#addObserver()\">addObserver</a>(in <a href=\"/en/XPCOM_Interface_Reference/nsINavHistoryObserver\" title=\"en/nsINavHistoryObserver\">nsINavHistoryObserver</a> observer, in boolean ownsWeak);</code></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#removeObserver()\">removeObserver</a>(in <a href=\"/en/XPCOM_Interface_Reference/nsINavHistoryObserver\" title=\"en/nsINavHistoryObserver\">nsINavHistoryObserver</a> observer);</code></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#runInBatchMode()\">runInBatchMode</a>(in <a href=\"/en/NsINavHistoryBatchCallback\" title=\"en/NsINavHistoryBatchCallback\">nsINavHistoryBatchCallback</a> aCallback, in <a href=\"/en/XPCOM_Interface_Reference/nsISupports\" title=\"en/nsISupports\">nsISupports</a> aClosure);</code></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#importHistory()\">importHistory</a>(in <a href=\"/en/XPCOM_Interface_Reference/nsIFile\" title=\"en/nsIFile\">nsIFile</a> file);</code></td>\n  </tr>\n  <tr>\n   <td><code>AString <a href=\"#getCharsetForURI()\">getCharsetForURI</a>(in <a href=\"/en/XPCOM_Interface_Reference/nsIURI\" title=\"en/nsIURI\">nsIURI</a> aURI);</code></td>\n  </tr>\n  <tr>\n   <td><code>AString <a href=\"#setCharsetForURI()\">setCharsetForURI</a>(in <a href=\"/en/XPCOM_Interface_Reference/nsIURI\" title=\"en/nsIURI\">nsIURI</a> aURI, in AString aCharset);</code></td>\n  </tr>\n </tbody>\n</table>\n\n<h2 id=\"Attributes\" name=\"Attributes\">Attributes</h2>\n\n<table class=\"standard-table\">\n <tbody>\n  <tr>\n   <td class=\"header\">Attribute</td>\n   <td class=\"header\">Type</td>\n   <td class=\"header\">Description</td>\n  </tr>\n  <tr>\n   <td><code>hasHistoryEntries</code></td>\n   <td><code>boolean</code></td>\n   <td><code>True</code> if there is any history. This can be used in UI to determine whether the \"clear history\" button should be enabled or not. This is much better than using <code>BrowserHistory.count</code> since that can be very slow if there is a lot of history (it must enumerate each item). This is pretty fast.</td>\n  </tr>\n  <tr>\n   <td><code>historyDisabled</code></td>\n   <td><code>boolean</code></td>\n   <td><code>True</code> if history is disabled. currently, history is disabled if the <code>browser.history_expire_days</code> pref is <code>\"0\"</code>.</td>\n  </tr>\n </tbody>\n</table>\n\n<h2 id=\"Constants\" name=\"Constants\">Constants</h2>\n\n<h3 id=\"Transition_type_constants\">Transition type constants</h3>\n\n<table class=\"standard-table\">\n <tbody>\n  <tr>\n   <td class=\"header\">Constant</td>\n   <td class=\"header\">Value</td>\n   <td class=\"header\">Description</td>\n  </tr>\n  <tr>\n   <td><code>TRANSITION_LINK</code></td>\n   <td>1</td>\n   <td>This transition type means the user followed a link and got a new toplevel window.</td>\n  </tr>\n  <tr>\n   <td><code>TRANSITION_TYPED</code></td>\n   <td>2</td>\n   <td>This transition type is set when the user typed the URL to get to the page.</td>\n  </tr>\n  <tr>\n   <td><code>TRANSITION_BOOKMARK</code></td>\n   <td>3</td>\n   <td>This transition type is set when the user followed a bookmark to get to the page.</td>\n  </tr>\n  <tr>\n   <td><code>TRANSITION_EMBED</code></td>\n   <td>4</td>\n   <td>This transition type is set when some inner content is loaded. This is true of all images on a page, and the contents of the iframe. It is also true of any content in a frame, regardless if whether or not the user clicked something to get there.</td>\n  </tr>\n  <tr>\n   <td><code>TRANSITION_REDIRECT_PERMANENT</code></td>\n   <td>5</td>\n   <td>This transition type is set when the transition was a permanent redirect.</td>\n  </tr>\n  <tr>\n   <td><code>TRANSITION_REDIRECT_TEMPORARY</code></td>\n   <td>6</td>\n   <td>This transition type is set when the transition was a temporary redirect.</td>\n  </tr>\n  <tr>\n   <td><code>TRANSITION_DOWNLOAD</code></td>\n   <td>7</td>\n   <td>This transition type is set when the transition is a download.</td>\n  </tr>\n  <tr>\n   <td><code>TRANSITION_FRAMED_LINK</code> </td>\n   <td>8</td>\n   <td>This transition type is set when the user followed a link that loaded a page in a frame.</td>\n  </tr>\n </tbody>\n</table>\n\n<h2 id=\"Methods\" name=\"Methods\">Methods</h2>\n\n<h3 id=\"getPageTitle()\" name=\"getPageTitle()\">getPageTitle()</h3>\n\n<p>This method retrieves the original title of the page.</p>\n\n<pre class=\"eval\">AString getPageTitle(\n  in nsIURI aURI\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aURI</code></dt>\n <dd>The page whose title needs to be retrieved.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>Returns the original title of the page.</p>\n\n<h3 id=\"markPageAsFollowedBookmark()\" name=\"markPageAsFollowedBookmark()\">markPageAsFollowedBookmark()</h3>\n\n<p>This method is just like <code>markPageAsTyped</code> (in <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIBrowserHistory\" title=\"\">nsIBrowserHistory</a></code>, also implemented by the history service), but for bookmarks. It declares that the given URI is being opened as a result of following a bookmark. If this URI is loaded soon after this message has been received, that transition will be marked as following a bookmark.</p>\n\n<pre class=\"eval\">void markPageAsFollowedBookmark(\n  in nsIURI aURI\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aURI</code></dt>\n <dd>The page that is to be marked as followed by a bookmark.</dd>\n</dl>\n\n<p></p><h3 id=\"markPageAsTyped()\">markPageAsTyped()</h3><p></p>\n\n<p>This method designates the URL as having been explicitly typed in by the user, so it can be used as an autocomplete result. It is called by the URL bar when the user types in a URL. This can be and is called before the page is actually added to history, since the page isn't added until it actually starts loading. The typed flag affects the URL bar autocomplete. This will cause the transition type of the next visit of the URL to be marked as \"typed.\"</p>\n\n<pre class=\"eval\">void markPageAsTyped(\n  in nsIURI aURI\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aURI</code></dt>\n <dd>The page that is to be marked as typed by the user.</dd>\n</dl>\n\n<p></p><h3 id=\"markPageAsFollowedLink()\">markPageAsFollowedLink()</h3><p></p>\n\n<p>Designates the specified URL as coming from a link explicitly followed by the user (for example by clicking on it).</p>\n\n<pre class=\"eval\">void markPageAsFollowedLink(\n  in nsIURI aURI\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aURI</code></dt>\n <dd>The URL that is to be marked as explicitly followed by the user.</dd>\n</dl>\n\n<h3 id=\"canAddURI()\" name=\"canAddURI()\">canAddURI()</h3>\n\n<p>This method checks if the given URI would be added to the history or not. Many types of URIs, such as <code>\"chrome:\"</code> URIs, are not stored when <code>addURI</code> is called. This function allows you to determine whether it will be or not.</p>\n\n<p>You don't have to worry about calling this, <code>addPageToSession</code>/<code>addURI</code> will always check before actually adding the page. This function is public because some components may want to check if this page would go in the history (That is for annotations).</p>\n\n<pre class=\"eval\">boolean canAddURI(\n  in nsIURI aURI\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aURI</code></dt>\n <dd>The URI that needs to be added to the history system.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>Returns <code>true</code> if this URI would be added to the history, otherwise returns <code>false</code>.</p>\n\n<p></p><div class=\"headingWithIndicator\">\n        <h3 id=\"addVisit()\">addVisit()</h3>\n        <span class=\"indicatorInHeadline obsolete obsoleteMethod\">Obsolete since Gecko 22.0 (Firefox 22.0 / Thunderbird 22.0 / SeaMonkey 2.19)</span>\n        </div><p></p>\n\n<div class=\"note\">\n<p><strong>Note:</strong> This method was removed in <span title=\"(Firefox 22.0 / Thunderbird 22.0 / SeaMonkey 2.19)\">Gecko 22.0</span>. You should use the new async API <code><a href=\"https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/mozIAsyncHistory#updatePlaces()\">mozIAsyncHistory.updatePlaces()</a></code> instead. See <a href=\"http://hg.mozilla.org/mozilla-central/annotate/81dd97739fa1/browser/base/content/test/head.js#l200\" title=\"http://hg.mozilla.org/mozilla-central/annotate/81dd97739fa1/browser/base/content/test/head.js#l200\">this code</a> for how a function to add visits and handle errors using the new API could look like.</p>\n</div>\n\n<p>This method adds a visit for a specific page. This will probably not be commonly used other than for backup/restore type operations. If the URI does not have an entry in the history database already, one will be created with no visits, no title, hidden, not typed. Adding a visit will automatically increment the visit count for the visited page and will unhide it and/or mark it typed according to the transition type.</p>\n\n<pre class=\"eval\">long long addVisit(\n  in nsIURI aURI, \n  in PRTime aTime,\n  in <a href=\"/en/XPCOM_Interface_Reference/nsIURI\" title=\"en/nsIURI\">nsIURI</a> aReferringURI,\n  in long aTransitionType,\n  in boolean aIsRedirect,\n  in long long aSessionID ); </pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aURI</code></dt>\n <dd>The visited page.</dd>\n <dt><code>aTime</code></dt>\n <dd>The time page was visited (microseconds).</dd>\n <dt><code>aReferringURI</code></dt>\n <dd>The URI of the visit that generated this one. Use <code>null</code> for no referrer.</dd>\n <dt><code>aTransitionType</code></dt>\n <dd>The type of transition: one of <code>TRANSITION_*</code> defined above.</dd>\n <dt><code>aIsRedirect</code></dt>\n <dd><code>True</code> if the given visit redirects to somewhere else (That is you will create a visit out of here that is a redirect transition). This causes this page to be hidden in normal history views (unless it has been unhidden by visiting it with a non-redirect).</dd>\n <dt><code>aSessionID</code></dt>\n <dd>The session ID that this page belongs to. Use <code>\"0\"</code> for no session.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>Returns the ID of the created visit. This will be <code>\"0\"</code> if the URI is not valid for adding to history (<code>canAddURI = false</code>).</p>\n\n<h3 id=\"getNewQuery()\" name=\"getNewQuery()\">getNewQuery()</h3>\n\n<p>This method returns a new query object that you can pass to <code>executeQuery/ies</code> methods. It will be initialized to all empty (so using it will give you all history).</p>\n\n<pre class=\"eval\">nsINavHistoryQuery getNewQuery();\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<p>None.</p>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>Returns a new query object.</p>\n\n<h3 id=\"getNewQueryOptions()\" name=\"getNewQueryOptions()\">getNewQueryOptions()</h3>\n\n<p>This method returns a new options object that you can pass to <code>executeQuery/ies</code> methods after setting the desired options.</p>\n\n<pre class=\"eval\">nsINavHistoryQueryOptions getNewQueryOptions();\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<p>None.</p>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>Returns a new options object.</p>\n\n<h3 id=\"executeQuery()\" name=\"executeQuery()\">executeQuery()</h3>\n\n<p>This method executes a query with a single query object and options. All the parameters set on the query object will be ANDed together.</p>\n\n<pre class=\"eval\">nsINavHistoryResult executeQuery(\n  in nsINavHistoryQuery aQuery,\n  in nsINavHistoryQueryOptions options\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aQuery</code></dt>\n <dd>The query object.</dd>\n <dt><code>options</code></dt>\n <dd>The options object.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>Returns a new result object.</p>\n\n<h3 id=\"executeQueries()\" name=\"executeQueries()\">executeQueries()</h3>\n\n<p>This method is similar to <a href=\"#executeQuery()\">executeQuery</a> method. It executes an array of queries. All of the query objects are ORed together. Within a query, all the terms are ANDed together as in <a href=\"#executeQuery()\">executeQuery</a> method.</p>\n\n<pre class=\"eval\">nsINavHistoryResult executeQueries(\n  [array,size_is(aQueryCount)] in nsINavHistoryQuery aQueries,\n  in unsigned long aQueryCount,\n  in nsINavHistoryQueryOptions options\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aQueries</code></dt>\n <dd>The queries object.</dd>\n <dt><code>aQueryCount</code></dt>\n <dd>The count of queries.</dd>\n <dt><code>options</code></dt>\n <dd>The options object.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>Returns a new result object.</p>\n\n<h3 id=\"queryStringToQueries()\" name=\"queryStringToQueries()\">queryStringToQueries()</h3>\n\n<p>This method converts a query URI-like string to an array of actual query objects for use to <a href=\"#executeQueries()\">executeQueries</a> method. The output query array may be empty if there is no information. However, there will always be an options structure returned (if nothing is defined, it will just have the default values).</p>\n\n<pre class=\"eval\">void queryStringToQueries(\n  in AUTF8String aQueryString,\n  [array, size_is(aResultCount)] out nsINavHistoryQuery aQueries,\n  out unsigned long aResultCount,\n  out nsINavHistoryQueryOptions options\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aQueryString</code></dt>\n <dd>The query URI-like string.</dd>\n <dt><code>aQueries</code></dt>\n <dd>The queries object.</dd>\n <dt><code>aResultCount</code></dt>\n <dd>The count of converted queries.</dd>\n <dt><code>options</code></dt>\n <dd>The options object.</dd>\n</dl>\n\n<h3 id=\"queriesToQueryString()\" name=\"queriesToQueryString()\">queriesToQueryString()</h3>\n\n<p>This method converts a query into an equivalent string that can be persisted. Inverse of <a href=\"#queryStringToQueries()\">queryStringToQueries</a> method.</p>\n\n<pre class=\"eval\">AUTF8String queriesToQueryString(\n  [array, size_is(aQueryCount)] in nsINavHistoryQuery aQueries,\n  in unsigned long aQueryCount,\n  in nsINavHistoryQueryOptions options\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aQueries</code></dt>\n <dd>The queries object.</dd>\n <dt><code>aQueryCount</code></dt>\n <dd>The count queries.</dd>\n <dt><code>options</code></dt>\n <dd>The options object.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>Returns the converted query into an equivalent string query.</p>\n\n<h3 id=\"addObserver()\" name=\"addObserver()\">addObserver()</h3>\n\n<p>This method adds a history observer. If <code>ownsWeak</code> is <code>false</code>, the history service will keep an owning reference to the observer. If <code>ownsWeak</code> is <code>true</code>, then <code>aObserver</code> must implement <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupportsWeakReference\" title=\"\">nsISupportsWeakReference</a></code>, and the history service will keep a weak reference to the observer.</p>\n\n<pre class=\"eval\">void addObserver(\n  in nsINavHistoryObserver observer, \n  in boolean ownsWeak\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>observer</code></dt>\n <dd>The history observer to be added.</dd>\n <dt><code>ownsWeak</code></dt>\n <dd>The owning reference state <code>(boolean)</code>.</dd>\n</dl>\n\n<h3 id=\"removeObserver()\" name=\"removeObserver()\">removeObserver()</h3>\n\n<p>This method removes a history observer.</p>\n\n<pre class=\"eval\">void removeObserver(\n  in nsINavHistoryObserver observer\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>observer</code></dt>\n <dd>The history observer to be removed.</dd>\n</dl>\n\n<h3 id=\"runInBatchMode()\" name=\"runInBatchMode()\">runInBatchMode()</h3>\n\n<p>This method runs the passed callback in batch mode. Use this when a lot of things are about to change. Calls can be nested, observers will only be notified when all batches begin/end.</p>\n\n<pre class=\"eval\">void runInBatchMode(\n  in nsINavHistoryBatchCallback aCallback,\n  in nsISupports aClosure\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aCallback</code></dt>\n <dd><code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavHistoryBatchCallback\" title=\"\">nsINavHistoryBatchCallback</a></code> interface to call.</dd>\n <dt><code>aClosure</code></dt>\n <dd>Opaque parameter passed to <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarksBatchCallback\" title=\"\">nsINavBookmarksBatchCallback</a></code>.</dd>\n</dl>\n\n<h3 id=\"importHistory()\" name=\"importHistory()\">importHistory()</h3>\n\n<p>This method imports the given Mork history file.</p>\n\n<pre class=\"eval\">void importHistory(\n  in nsIFile file\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>file</code></dt>\n <dd>The Mork history file to import.</dd>\n</dl>\n\n<h3 id=\"getCharsetForURI()\" name=\"getCharsetForURI()\">getCharsetForURI()</h3>\n\n<p>Gets the stored character-set for an URI.</p>\n\n<pre class=\"eval\">void getCharsetForURI(\n  in nsIURI aURI \n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aURI</code></dt>\n <dd>URI to retrieve character-set for</dd>\n</dl>\n\n<h6 id=\"Returns\" name=\"Returns\">Returns</h6>\n\n<p>Returns the character-set, empty string if not found</p>\n\n<p> </p>\n\n<h3 id=\"getCharsetForURI()\" name=\"getCharsetForURI()\">setCharsetForURI()</h3>\n\n<p>Gets the stored character-set for an URI.</p>\n\n<pre class=\"eval\">void getCharsetForURI(\n  in nsIURI aURI,\n  in AString aCharset\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aURI</code></dt>\n <dd>URI to set character-set for</dd>\n <dt><code>aCharacterSet</code></dt>\n <dd>character-set to be set</dd>\n</dl>\n\n<h3 id=\"See_also\" name=\"See_also\">See also</h3>\n\n<ul>\n <li><a href=\"/en/Places\" title=\"en/Places\">Places</a></li>\n <li><a href=\"/en/Using_the_Places_history_service\" title=\"en/Using_the_Places_history_service\">Using the Places history service</a></li>\n <li><a href=\"/en/Querying_Places\" title=\"en/Querying_Places\">Querying Places</a></li>\n <li><code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavHistoryBatchCallback\" title=\"\">nsINavHistoryBatchCallback</a></code></li>\n <li><code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavHistoryContainerResultNode\" title=\"\">nsINavHistoryContainerResultNode</a></code></li>\n <li><code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavHistoryFullVisitResultNode\" title=\"\">nsINavHistoryFullVisitResultNode</a></code></li>\n <li><code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavHistoryObserver\" title=\"\">nsINavHistoryObserver</a></code></li>\n <li><code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavHistoryQuery\" title=\"\">nsINavHistoryQuery</a></code></li>\n <li><code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavHistoryQueryOptions\" title=\"\">nsINavHistoryQueryOptions</a></code></li>\n <li><code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavHistoryQueryResultNode\" title=\"\">nsINavHistoryQueryResultNode</a></code></li>\n <li><code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavHistoryResult\" title=\"\">nsINavHistoryResult</a></code></li>\n <li><code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavHistoryResultNode\" title=\"\">nsINavHistoryResultNode</a></code></li>\n <li><code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavHistoryResultTreeViewer\" title=\"\">nsINavHistoryResultTreeViewer</a></code></li>\n <li><code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavHistoryResultViewObserver\" title=\"\">nsINavHistoryResultViewObserver</a></code></li>\n <li><code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavHistoryResultViewer\" title=\"\">nsINavHistoryResultViewer</a></code></li>\n <li><code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavHistoryVisitResultNode\" title=\"\">nsINavHistoryVisitResultNode</a></code></li>\n</ul>\n\n<dl><br>\n <br>\n <br>\n  \n <dd> </dd>\n</dl>",
    "contributors": "<a href=\"https://developer.mozilla.org/en-US/profiles/wbamberg\">wbamberg</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot\">mdnwebdocs-bot</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/ExE-Boss\">ExE-Boss</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/vandy\">vandy</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Sheppy\">Sheppy</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/kscarfone\">kscarfone</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Editmonkey\">Editmonkey</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/philikon\">philikon</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Wjjohnst\">Wjjohnst</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/One\">One</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/trevorh\">trevorh</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/BenB\">BenB</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/stevefox\">stevefox</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Mook\">Mook</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Bomfog\">Bomfog</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Arehman4\">Arehman4</a>",
    "title": "nsINavHistoryService"
}