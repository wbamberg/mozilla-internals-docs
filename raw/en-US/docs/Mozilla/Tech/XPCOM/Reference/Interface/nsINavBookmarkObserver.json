{
    "content": "<p></p><div style=\"border: solid #ddd 2px; margin-bottom: 12px;\">\n<div style=\"background: #eee; padding: 2px;\"><code><a href=\"https://dxr.mozilla.org/mozilla-central/source/toolkit/components/places/nsINavBookmarksService.idl\" rel=\"custom\">toolkit/components/places/nsINavBookmarksService.idl</a></code><span style=\"text-align: right; float: right;\"><a href=\"/en-US/docs/Interfaces/About_Scriptable_Interfaces\" style=\"color: #00cc00; font-weight: 700;\">Scriptable</a></span></div>\n<span style=\"padding: 4px 2px;\">\n\nThis interface is an observer for bookmark changes.\n</span>\n\n  <div style=\"height: 42px; position: relative; padding: 2px; width: auto;\">\n\n  <div style=\"top: 22px; font-size: 11px; position: absolute;\">1.0</div>\n  \n  <div style=\"top: 22px; font-size: 11px; position: absolute; left: 0px; text-align: right; float: right; width: 100%;\">66</div>\n  \n  <div style=\"height: 8px; top: 16px; background: #dd0000; left: 0px; position: absolute; width: 5.714285714285714%;\"></div>\n  \n<div style=\"height: 8px; top: 16px; left: 5.714285714285714%; background: #00dd00; position: absolute; width: 94.28571428571429%;\" title=\"Introduced in Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)\"></div>\n\n<div style=\"top: 0px; font-size: 11px; position: absolute; left: 5.714285714285714%;\">Introduced</div>\n<div style=\"top: 22px; font-size: 11px; position: absolute; left: 5.714285714285714%;\">Gecko 1.8</div>\n\n    <div style=\"height: 8px; top: 16px; left: 35.214285714285715%; background: #eeee00; position: absolute; width: 1%; border-radius: 4px; -webkit-border-radius: 4px;\" title=\"Last changed in Gecko 21.0 (Firefox 21.0 / Thunderbird 21.0 / SeaMonkey 2.18)\"></div>\n    \n</div>\n\n<div style=\"background: #eee; padding: 2px;\">\nInherits from: <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports\" title=\"\">nsISupports</a></code>\n<span style=\"text-align: right; float: right;\">Last changed in Gecko 21.0 (Firefox 21.0 / Thunderbird 21.0 / SeaMonkey 2.18)</span></div>\n</div><p></p>\n<h2 id=\"Method_overview\" name=\"Method_overview\">Method overview</h2>\n<table class=\"standard-table\">\n <tbody>\n  <tr>\n   <td><code>void <a href=\"#onBeforeItemRemoved()\">onBeforeItemRemoved</a>(in long long aItemId, in unsigned short aItemType, in long long aParentId, in ACString aGUID, in ACString aParentGUID);</code>  <span class=\"inlineIndicator obsolete obsoleteInline\" title=\"(Firefox 21.0 / Thunderbird 21.0 / SeaMonkey 2.18)\">Obsolete since Gecko 21.0</span></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#onBeginUpdateBatch()\">onBeginUpdateBatch</a>();</code></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#onEndUpdateBatch()\">onEndUpdateBatch</a>();</code></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#onFolderAdded()\">onFolderAdded</a>(in PRInt64 folder, in PRInt64 parent, in PRInt32 index);</code> <span class=\"inlineIndicator obsolete obsoleteInline\" title=\"(Firefox 3)\">Obsolete since Gecko 1.9</span></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#onFolderChanged()\">onFolderChanged</a>(in PRInt64 folder, in ACString property);</code> <span class=\"inlineIndicator obsolete obsoleteInline\" title=\"(Firefox 3)\">Obsolete since Gecko 1.9</span></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#onFolderMoved()\">onFolderMoved</a>(in PRInt64 folder, in PRInt64 oldParent, in PRInt32 oldIndex, in PRInt64 newParent, in PRInt32 newIndex);</code> <span class=\"inlineIndicator obsolete obsoleteInline\" title=\"(Firefox 3)\">Obsolete since Gecko 1.9</span></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#onFolderRemoved()\">onFolderRemoved</a>(in PRInt64 folder, in PRInt64 parent, in PRInt32 index);</code> <span class=\"inlineIndicator obsolete obsoleteInline\" title=\"(Firefox 3)\">Obsolete since Gecko 1.9</span></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#onItemAdded()\">onItemAdded</a>(in long long aItemId, in long long aParentId, in long aIndex, in unsigned short aItemType, in nsIURI aURI, in AUTF8String aTitle, in PRTime aDateAdded, in ACString aGUID, in ACString aParentGUID);</code></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#onItemChanged()\">onItemChanged</a>(in long long aItemId, in ACString aProperty, in boolean aIsAnnotationProperty, in AUTF8String aNewValue, in PRTime aLastModified, in unsigned short aItemType, in long long aParentId, in ACString aGUID, in ACString aParentGUID);</code></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#onItemMoved()\">onItemMoved</a>(in long long aItemId, in long long aOldParentId, in long aOldIndex, in long long aNewParentId, in long aNewIndex, in unsigned short aItemType, in ACString aGUID, in ACString aOldParentGUID, in ACString aNewParentGUID);</code> </td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#onItemRemoved()\">onItemRemoved</a>(in long long aItemId, in long long aParentId, in long aIndex, in unsigned short aItemType, in nsIURI aURI, in ACString aGUID, in ACString aParentGUID);</code></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#onItemReplaced()\">onItemReplaced</a>(in PRInt64 folder, in nsIURI item, in nsIURI newItem);</code> <span class=\"inlineIndicator obsolete obsoleteInline\" title=\"(Firefox 3)\">Obsolete since Gecko 1.9</span></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#onItemVisited()\">onItemVisited</a>(in long long aItemId, in long long aVisitId, in PRTime aTime, in unsigned long aTransitionType, in nsIURI aURI, in long long aParentId, in ACString aGUID, in ACString aParentGUID);</code></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#onSeparatorAdded()\">onSeparatorAdded</a>(in PRInt64 parent, in PRInt32 index);</code> <span class=\"inlineIndicator obsolete obsoleteInline\" title=\"(Firefox 3)\">Obsolete since Gecko 1.9</span></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#onSeparatorRemoved()\">onSeparatorRemoved</a>(in PRInt64 parent, in PRInt32 index);</code> <span class=\"inlineIndicator obsolete obsoleteInline\" title=\"(Firefox 3)\">Obsolete since Gecko 1.9</span></td>\n  </tr>\n </tbody>\n</table>\n<h2 id=\"Methods\" name=\"Methods\">Methods</h2>\n<p></p><div class=\"headingWithIndicator\">\n        <h3 id=\"onBeforeItemRemoved()\">onBeforeItemRemoved()</h3>\n        <span class=\"indicatorInHeadline obsolete obsoleteMethod\">Obsolete since Gecko 21.0 (Firefox 21.0 / Thunderbird 21.0 / SeaMonkey 2.18)</span>\n        </div><p></p>\n<div class=\"note\">\n <p><strong>Note:</strong> This method was removed in <span title=\"(Firefox 21.0 / Thunderbird 21.0 / SeaMonkey 2.18)\">Gecko 21.0</span> as part of <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=826409\" title=\"https://bugzilla.mozilla.org/show_bug.cgi?id=826409\">Bug 826409</a>.</p>\n</div>\n<p>This method notifies this observer that an item is about to be removed. It is called before the actual removal takes place.</p>\n<pre class=\"eval\">void onBeforeItemRemoved(\n  in long long aItemId,\n  in unsigned short aItemType, \n  in long long aParentId, \n  in ACString aGUID, \n  in ACString aParentGUID \n);\n</pre>\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n<dl>\n <dt>\n  <code>aItemId</code></dt>\n <dd>\n  The id of the bookmark that will be removed.</dd>\n <dt>\n  <code>aItemType</code> </dt>\n <dd>\n  The type of the item that is about to be removed; this is one of the <code><a href=\"https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsINavBookmarksService#Type_constants\">nsINavBookmarksService.Type constants</a></code>.</dd>\n <dt>\n  <code>aParentId</code> </dt>\n <dd>\n  The id of the folder containing the item.</dd>\n <dt>\n  <code>aGUID</code> </dt>\n <dd>\n  The unique ID associated with the item.</dd>\n <dt>\n  <code>aParentGUID</code> </dt>\n <dd>\n  The unique ID associated with the item's parent.</dd>\n</dl>\n<h3 id=\"onBeginUpdateBatch()\" name=\"onBeginUpdateBatch()\">onBeginUpdateBatch()</h3>\n<p>This method notifies this observer that a batch transaction has started. Other notifications will be sent during the batch change, but the observer is guaranteed that <code><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarkObserver#onEndUpdateBatch()\">onEndUpdateBatch()</a></code> will be called at the completion of changes. During a batch the observer should do its best to reduce the work done to handle notifications, since multiple changes are going to happen in a short timeframe.</p>\n<pre class=\"eval\">void onBeginUpdateBatch();\n</pre>\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n<p>None.</p>\n<h3 id=\"onEndUpdateBatch()\" name=\"onEndUpdateBatch()\">onEndUpdateBatch()</h3>\n<p>This method notifies this observer that a batch transaction has ended.</p>\n<pre class=\"eval\">void onEndUpdateBatch();\n</pre>\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n<p>None.</p>\n<p></p><div class=\"headingWithIndicator\">\n        <h3 id=\"onFolderAdded()\">onFolderAdded()</h3>\n        <span class=\"indicatorInHeadline obsolete obsoleteMethod\">Obsolete since Gecko 1.9 (Firefox 3)</span>\n        </div><p></p>\n<p>Notify this observer that a bookmark folder has been added.</p>\n<pre class=\"eval\">void onFolderAdded(\n  in PRInt64 folder,\n  in PRInt64 parent,\n  in PRInt32 index\n);\n</pre>\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n<dl>\n <dt>\n  <code>folder</code></dt>\n <dd>\n  The id of the folder that was added.</dd>\n <dt>\n  <code>parent</code></dt>\n <dd>\n  The id of the folder's parent.</dd>\n <dt>\n  <code>index</code></dt>\n <dd>\n  The folder's index inside its parent.</dd>\n</dl>\n<p></p><div class=\"headingWithIndicator\">\n        <h3 id=\"onFolderChanged()\">onFolderChanged()</h3>\n        <span class=\"indicatorInHeadline obsolete obsoleteMethod\">Obsolete since Gecko 1.9 (Firefox 3)</span>\n        </div><p></p>\n<p>Notify this observer that a bookmark folder's information has changed. This will be called whenever any attributes like \"title\" are changed.</p>\n<pre class=\"eval\">void onFolderChanged(\n  in PRInt64 folder,\n  in ACString property\n);\n</pre>\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n<dl>\n <dt>\n  <code>folder</code></dt>\n <dd>\n  The id of the folder that was changed.</dd>\n <dt>\n  <code>property</code></dt>\n <dd>\n  The property that was changed.</dd>\n</dl>\n<p></p><div class=\"headingWithIndicator\">\n        <h3 id=\"onFolderMoved()\">onFolderMoved()</h3>\n        <span class=\"indicatorInHeadline obsolete obsoleteMethod\">Obsolete since Gecko 1.9 (Firefox 3)</span>\n        </div><p></p>\n<p>Notify this observer that a bookmark folder has been moved.</p>\n<pre class=\"eval\">void onFolderMoved(\n  in PRInt64 folder,\n  in PRInt64 oldParent,\n  in PRInt32 oldIndex,\n  in PRInt64 newParent,\n  in PRInt32 newIndex\n);\n</pre>\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n<dl>\n <dt>\n  <code>folder</code></dt>\n <dd>\n  The id of the folder that was moved.</dd>\n <dt>\n  <code>oldParent</code></dt>\n <dd>\n  The id of the folder's old parent.</dd>\n <dt>\n  <code>oldIndex</code></dt>\n <dd>\n  The folder's old index inside oldParent.</dd>\n <dt>\n  <code>newParent</code></dt>\n <dd>\n  The id of the folder's new parent.</dd>\n <dt>\n  <code>newIndex</code></dt>\n <dd>\n  The folder's index inside newParent.</dd>\n</dl>\n<p></p><div class=\"headingWithIndicator\">\n        <h3 id=\"onFolderRemoved()\">onFolderRemoved()</h3>\n        <span class=\"indicatorInHeadline obsolete obsoleteMethod\">Obsolete since Gecko 1.9 (Firefox 3)</span>\n        </div><p></p>\n<p>Notify this observer that a bookmark folder has been removed.</p>\n<pre class=\"eval\">void onFolderRemoved(\n  in PRInt64 folder,\n  in PRInt64 parent,\n  in PRInt32 index\n);\n</pre>\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n<dl>\n <dt>\n  <code>folder</code></dt>\n <dd>\n  The id of the folder that was removed.</dd>\n <dt>\n  <code>parent</code></dt>\n <dd>\n  The id of the folder's old parent.</dd>\n <dt>\n  <code>index</code></dt>\n <dd>\n  The folder's old index in its parent.</dd>\n</dl>\n<h3 id=\"onItemAdded()\" name=\"onItemAdded()\">onItemAdded()</h3>\n<p>This method notifies this observer that an item was added. It is called after the actual addition took place. When a new item is created, all the items following it in the same folder will have their index shifted down, but no additional notifications will be sent.</p>\n<pre class=\"eval\">void onItemAdded(\n  in long long aItemId,\n  in long long aParentId,\n  in long aIndex,\n  in unsigned short aItemType, \n  in nsIURI aURI, \n  in AUTF8String aTitle, \n  in PRTime aDateAdded, \n  in ACString aGUID, \n  in ACString aParentGUID \n);\n</pre>\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n<dl>\n <dt>\n  <code>aItemId</code></dt>\n <dd>\n  The id of the item that was added.</dd>\n <dt>\n  <code>aParentId</code></dt>\n <dd>\n  The id of the folder to which the item was added.</dd>\n <dt>\n  <code>aIndex</code></dt>\n <dd>\n  The item's index in the folder.</dd>\n <dt>\n  <code>aItemType</code> </dt>\n <dd>\n  The type of the item that was added. This should be one of the <code><a href=\"https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsINavBookmarksService#Type_constants\">nsINavBookmarksService.Type constants</a></code>.</dd>\n <dt>\n  <code>aURI</code> </dt>\n <dd>\n  The URI of the item that was added when aItemType is <code>TYPE_BOOKMARK</code>, <code>null</code> otherwise.</dd>\n <dt>\n  <code>aTitle</code> </dt>\n <dd>\n  The title of the added item.</dd>\n <dt>\n  <code>aDateAdded</code> </dt>\n <dd>\n  The stored date added value, in microseconds from the epoch.</dd>\n <dt>\n  <code>aGUID</code> </dt>\n <dd>\n  The unique ID associated with the item.</dd>\n <dt>\n  <code>aParentGUID</code> </dt>\n <dd>\n  The unique ID associated with the item's parent.</dd>\n</dl>\n<h3 id=\"onItemChanged()\" name=\"onItemChanged()\">onItemChanged()</h3>\n<p>This method notifies this observer that an item's information has changed. It is called whenever any attributes like \"title\" are changed.</p>\n<pre class=\"eval\">void onItemChanged(\n  in long long aItemId,\n  in ACString aProperty,\n  in boolean aIsAnnotationProperty,\n  in AUTF8String aNewValue,\n  in PRTime aLastModified, \n  in unsigned short aItemType, \n  in long long aParentId, \n  in ACString aGUID, \n  in ACString aParentGUID \n);\n</pre>\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n<dl>\n <dt>\n  <code>aItemId</code></dt>\n <dd>\n  The id of the item that was changed.</dd>\n <dt>\n  <code>aProperty</code></dt>\n <dd>\n  The property which changed. If this string is empty, all properties have been deleted. In this situation, you should not attempt to get any properties, since this will result in the automatic regeneration of properties that will then be leaked into the database, causing trouble later.</dd>\n <dt>\n  <code>aIsAnnotationProperty</code></dt>\n <dd>\n  Indicates whether or not <code>aProperty</code> is the name of an item annotation. If this is <code>true</code>, <code>aNewValue</code> is always an empty string.</dd>\n <dt>\n  <code>aNewValue</code></dt>\n <dd>\n  The items new value, if required by the property specified by <code>aProperty</code>.</dd>\n <dt>\n  <code>aLastModified</code> </dt>\n <dd>\n  The value to set the items last modified time to, or 0 if the value should remain unchanged.</dd>\n <dt>\n  <code>aItemType</code> </dt>\n <dd>\n  The type of the item that has been changed. This should be one of the <code><a href=\"https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsINavBookmarksService#Type_constants\">nsINavBookmarksService.Type constants</a></code>.</dd>\n <dt>\n  <code>aParentId</code> </dt>\n <dd>\n  The id of the folder containing the item.</dd>\n <dt>\n  <code>aGUID</code> </dt>\n <dd>\n  The unique ID associated with the item.</dd>\n <dt>\n  <code>aParentGUID</code> </dt>\n <dd>\n  The unique ID associated with the item's parent.</dd>\n</dl>\n<h6 id=\"Notes\">Notes</h6>\n<p>This table indicates what <code>aNewValue</code> should be depending on property specified by <code>aProperty</code>:</p>\n<table class=\"standard-table\">\n <tbody>\n  <tr>\n   <td class=\"header\">Property string</td>\n   <td class=\"header\">Value</td>\n  </tr>\n  <tr>\n   <td>\"cleartime\"</td>\n   <td>Empty string; this property means the history was deleted, so there's no last visit date.</td>\n  </tr>\n  <tr>\n   <td>\"title\"</td>\n   <td>The new title for the item</td>\n  </tr>\n  <tr>\n   <td>\"favicon\"</td>\n   <td>The \"moz-anno\" URL for the new favicon image.</td>\n  </tr>\n  <tr>\n   <td>\"uri\"</td>\n   <td>The new URI for the item.</td>\n  </tr>\n  <tr>\n   <td>\"tags\"</td>\n   <td>Empty string; this property indicates that the set of tags for the item have changed.</td>\n  </tr>\n  <tr>\n   <td>\"dateAdded\"</td>\n   <td>The PRTime at which the item was first added to the database.</td>\n  </tr>\n  <tr>\n   <td>\"lastModified\"</td>\n   <td>The PRTime at which the item was last modified.</td>\n  </tr>\n </tbody>\n</table>\n<p></p><h3 id=\"onItemMoved()\">onItemMoved()</h3><p></p>\n<p>This method notifies this observer that an item has been moved.</p>\n<pre class=\"eval\">void onItemMoved(\n  in long long aItemId,\n  in long long aOldParentId,\n  in long aOldIndex,\n  in long long aNewParentId,\n  in long aNewIndex,\n  in unsigned short aItemType, \n  in ACString aGUID, \n  in ACString aOldParentGUID, \n  in ACString aNewParentGUID \n);\n</pre>\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n<dl>\n <dt>\n  <code>aItemId</code></dt>\n <dd>\n  The id of the item that was moved.</dd>\n <dt>\n  <code>aOldParentId</code></dt>\n <dd>\n  The id of the old parent.</dd>\n <dt>\n  <code>aOldIndex</code></dt>\n <dd>\n  The old index inside <code>aOldParentId</code>.</dd>\n <dt>\n  <code>aNewParentId</code></dt>\n <dd>\n  The id of the new parent.</dd>\n <dt>\n  <code>aNewIndex</code></dt>\n <dd>\n  The new index inside <code>aNewParentId</code>.</dd>\n <dt>\n  <code>aItemType</code> </dt>\n <dd>\n  The type of the item that was moved. This should be one of the <code><a href=\"https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsINavBookmarksService#Type_constants\">nsINavBookmarksService.Type constants</a></code>.</dd>\n <dt>\n  <code>aGUID</code> </dt>\n <dd>\n  The unique ID associated with the item.</dd>\n <dt>\n  <code>aOldParentGUID</code> </dt>\n <dd>\n  The unique ID associated with the old item's parent.</dd>\n <dt>\n  <code>aNewParentGUID</code> </dt>\n <dd>\n  The unique ID associated with the new item's parent.</dd>\n</dl>\n<h3 id=\"onItemRemoved()\" name=\"onItemRemoved()\">onItemRemoved()</h3>\n<p>This method notifies that an item was removed. It is called after the actual remove took place. When an item is removed, all the items following it in the same folder will have their index shifted down, but no additional notifications will be sent.</p>\n<pre class=\"eval\">void onItemRemoved(\n  in long long aItemId,\n  in long long aParentId,\n  in long aIndex,\n  in unsigned short aItemType, \n  in nsIURI aURI, \n  in ACString aGUID, \n  in ACString aParentGUID \n);\n</pre>\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n<dl>\n <dt>\n  <code>aItemId</code></dt>\n <dd>\n  The ID of the item that was removed.</dd>\n <dt>\n  <code>aParentId</code></dt>\n <dd>\n  The ID of the folder from which the item was removed.</dd>\n <dt>\n  <code>aIndex</code></dt>\n <dd>\n  The index of the item that was removed from the folder.</dd>\n <dt>\n  <code>aItemType</code> </dt>\n <dd>\n  The type of the item that was removed. This should be one of the <code><a href=\"https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsINavBookmarksService#Type_constants\">nsINavBookmarksService.Type constants</a></code>.</dd>\n <dt>\n  <code>aURI</code> </dt>\n <dd>\n  The URI of the added item if it was TYPE_BOOKMARK, <code>null</code> otherwise.</dd>\n <dt>\n  <code>aGUID</code> </dt>\n <dd>\n  The unique ID associated with the item.</dd>\n <dt>\n  <code>aParentGUID</code> </dt>\n <dd>\n  The unique ID associated with the item's parent.</dd>\n</dl>\n<p></p><div class=\"headingWithIndicator\">\n        <h3 id=\"onItemReplaced()\">onItemReplaced()</h3>\n        <span class=\"indicatorInHeadline obsolete obsoleteMethod\">Obsolete since Gecko 1.9 (Firefox 3)</span>\n        </div><p></p>\n<p>Notify this observer that a bookmark has been replaced.</p>\n<pre class=\"eval\">void onItemReplaced(\n  in PRInt64 folder,\n  in nsIURI item,\n  in nsIURI newItem\n);\n</pre>\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n<dl>\n <dt>\n  <code>folder</code></dt>\n <dd>\n  The folder in which the bookmark was replaced.</dd>\n <dt>\n  <code>item</code></dt>\n <dd>\n  The item which was replaced.</dd>\n <dt>\n  <code>newItem</code></dt>\n <dd>\n  The new item which replaced item.</dd>\n</dl>\n<h3 id=\"onItemVisited()\" name=\"onItemVisited()\">onItemVisited()</h3>\n<p>This method notifies that the item was visited. Can be invoked only for <code>TYPE_BOOKMARK</code> items.</p>\n<p>Normally in bookmarks we use the last visit date, and normally the time will be a new visit that will be more recent, but this is not guaranteed. You should check to see if it is actually more recent before using this new time.</p>\n<p>See <code><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarkObserver#onItemChanged()\">onItemChanged()</a></code> method property = \"cleartime\" for when all visit dates are deleted for the URI.</p>\n<p></p><div class=\"blockIndicator note\"><strong>Note:</strong> The reported time is the time of the visit that was added, which may be well in the past since the visit time can be specified. This means that the visit the observer is told about may not be the most recent visit for that page.</div><p></p>\n<pre class=\"eval\">void onItemVisited(\n  in long long aItemId,\n  in long long aVisitId,\n  in PRTime aTime,\n  in unsigned long aTransitionType, \n  in nsIURI aURI, \n  in long long aParentId, \n  in ACString aGUID, \n  in ACString aParentGUID \n);\n</pre>\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n<dl>\n <dt>\n  <code>aItemId</code></dt>\n <dd>\n  The id of the bookmark that was visited.</dd>\n <dt>\n  <code>aVisitId</code></dt>\n <dd>\n  The id of the item visit.</dd>\n <dt>\n  <code>aTime</code></dt>\n <dd>\n  The time of the visit.</dd>\n <dt>\n  <code>aTransitionType</code> </dt>\n <dd>\n  The transition for the visit. See <code><a href=\"https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsINavBookmarksService#Transaction_constants\">nsINavBookmarksService.Transaction constants</a></code> for a list of possible values.</dd>\n <dt>\n  <code>aURI</code> </dt>\n <dd>\n  The <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURI\" title=\"\">nsIURI</a></code> for this bookmark.</dd>\n <dt>\n  <code>aParentId</code> </dt>\n <dd>\n  The id of the folder containing the item.</dd>\n <dt>\n  <code>aGUID</code> </dt>\n <dd>\n  The unique ID associated with the item.</dd>\n <dt>\n  <code>aParentGUID</code> </dt>\n <dd>\n  The unique ID associated with the item's parent.</dd>\n</dl>\n<p></p><div class=\"headingWithIndicator\">\n        <h3 id=\"onSeparatorAdded()\">onSeparatorAdded()</h3>\n        <span class=\"indicatorInHeadline obsolete obsoleteMethod\">Obsolete since Gecko 1.9 (Firefox 3)</span>\n        </div><p></p>\n<p>Notify this observer that a separator has been added.</p>\n<pre class=\"eval\">void onSeparatorAdded(\n  in PRInt64 parent,\n  in PRInt32 index\n);\n</pre>\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n<dl>\n <dt>\n  <code>parent</code></dt>\n <dd>\n  The id of the separator's parent.</dd>\n <dt>\n  <code>index</code></dt>\n <dd>\n  The separator's index inside its parent.</dd>\n</dl>\n<p></p><div class=\"headingWithIndicator\">\n        <h3 id=\"onSeparatorRemoved()\">onSeparatorRemoved()</h3>\n        <span class=\"indicatorInHeadline obsolete obsoleteMethod\">Obsolete since Gecko 1.9 (Firefox 3)</span>\n        </div><p></p>\n<p>Notify this observer that a separator has been removed.</p>\n<pre class=\"eval\">void onSeparatorRemoved(\n  in PRInt64 parent,\n  in PRInt32 index\n);\n</pre>\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n<dl>\n <dt>\n  <code>parent</code></dt>\n <dd>\n  The id of the separator's parent.</dd>\n <dt>\n  <code>index</code></dt>\n <dd>\n  The separator's old index in its parent.</dd>\n</dl>\n<h3 id=\"Using_onBeforeItemRemoved()_in_Gecko_1.9.1\" name=\"Using_onBeforeItemRemoved()_in_Gecko_1.9.1\">Using onBeforeItemRemoved() in Gecko 1.9.1</h3>\n<p>If you wish to support <code><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarkObserver#onBeforeItemRemoved()\">onBeforeItemRemoved()</a></code> in applications based on <span title=\"(Firefox 3.5 / Thunderbird 3.0 / SeaMonkey 2.0)\">Gecko 1.9.1</span>, you must implement your observer's <code>QueryInterface()</code> method to match on both <code>nsINavBookmarkObserver</code> and <code>nsINavBookmarkObserver_MOZILLA_1_9_1_ADDITIONS</code>, as shown below.</p>\n<pre class=\"brush: js\">QueryInterface: function(iid) {\n  if (iid.equals(Ci.nsINavBookmarkObserver) ||\n      iid.equals(Ci.nsINavBookmarkObserver_MOZILLA_1_9_1_ADDITIONS) ||\n      iid.equals(Ci.nsISupports)) {\n    return this;\n  }\n  throw Cr.NS_ERROR_NO_INTERFACE;\n}\n</pre>\n<h2 id=\"See_also\" name=\"See_also\">See also</h2>\n<ul>\n <li><a href=\"/en/Places\" title=\"en/Places\">Places</a></li>\n <li><a href=\"/en/Manipulating_bookmarks_using_Places\" title=\"en/Manipulating_bookmarks_using_Places\">Manipulating bookmarks using Places</a></li>\n <li><code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsINavBookmarksService\" title=\"\">nsINavBookmarksService</a></code></li>\n</ul>",
    "contributors": "<a href=\"https://developer.mozilla.org/en-US/profiles/wbamberg\">wbamberg</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot\">mdnwebdocs-bot</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Sheppy\">Sheppy</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/kscarfone\">kscarfone</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Editmonkey\">Editmonkey</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/trevorh\">trevorh</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/One\">One</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/saneyuki\">saneyuki</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/kokorozashi\">kokorozashi</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Arehman4\">Arehman4</a>",
    "title": "nsINavBookmarkObserver"
}