{
    "content": "<p>The <code>mozITXTToHTMLConv</code> interface is used to convert text into HTML format. Its primary use is in converting user-entered text into properly-formatted HTML.</p>\n\n<p></p><div style=\"border: solid #ddd 2px; margin-bottom: 12px;\">\n<div style=\"background: #eee; padding: 2px;\"><code><a href=\"https://dxr.mozilla.org/mozilla-central/source/netwerk/streamconv/public/mozITXTToHTMLConv.idl\" rel=\"custom\">netwerk/streamconv/public/mozITXTToHTMLConv.idl</a></code><span style=\"text-align: right; float: right;\"><a href=\"/en-US/docs/Interfaces/About_Scriptable_Interfaces\" style=\"color: #00cc00; font-weight: 700;\">Scriptable</a></span></div>\n<span style=\"padding: 4px 2px;\">\n\n<i>Please add a summary to this article.</i>\n</span>\n\n<div style=\"background: #eee; padding: 2px;\">\n<span> </span>\n<span style=\"text-align: right; float: right;\">Last changed in Gecko 1.8.1 (Firefox 2 / Thunderbird 2 / SeaMonkey 1.1)</span></div>\n</div><p></p>\n\n<p><span class=\"lang lang-en\" lang=\"en\">Inherits from <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIStreamConverter\" title=\"\">nsIStreamConverter</a></code></span></p>\n\n<p>Implemented by <code>@mozilla.org/txttohtmlconv;1</code> as a service:</p>\n\n<pre class=\"eval\">var ios = Components.classes[\"@mozilla.org/txttohtmlconv;1\"]\n                    .getService(Components.interfaces.mozITXTToHTMLConv);\n</pre>\n\n<h2 class=\"editable\" id=\"Method_overview\"><span>Method overview</span></h2>\n\n<div class=\"editIcon\"><a href=\"/../../../../en/nsIFeedTextConstruct#\" style=\"\" title=\"Edit section\"><span class=\"icon\"><img alt=\"Edit section\" class=\"sectionedit\" src=\"../../../../skins/common/icons/icon-trans.gif\"></span></a></div>\n\n<table class=\"standard-table\">\n <tbody>\n  <tr>\n   <td><code>unsigned long <a href=\"/en/MozITXTToHTMLConv#citeLevelTXT()\" title=\"https://developer.mozilla.org/en/MozITXTToHTMLConv#citeLevelTXT()\">citeLevelTXT</a>(in wstring line, out unsigned long logLineStart)</code></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"/en/MozITXTToHTMLConv#findURLInPlaintext()\" title=\"https://developer.mozilla.org/en/MozITXTToHTMLConv#findURLInPlaintext()\">findURLInPlaintext</a>(in wstring text, in long aLength, in long aPos, out long aStartPos, out long aEndPos)</code></td>\n  </tr>\n  <tr>\n   <td><code>wstring <a href=\"/en/MozITXTToHTMLConv#scanHTML()\" title=\"https://developer.mozilla.org/en/MozITXTToHTMLConv#scanHTML()\">scanHTML</a>(in wstring text, in unsigned long whattodo)</code></td>\n  </tr>\n  <tr>\n   <td><code>wstring <a href=\"/en/MozITXTToHTMLConv#scanTXT()\" title=\"https://developer.mozilla.org/en/MozITXTToHTMLConv#scanTXT()\">scanTXT</a>(in wstring text, in unsigned long whattodo)</code></td>\n  </tr>\n </tbody>\n</table>\n\n<h2 class=\"editable\" id=\"Constants\"><span>Constants</span></h2>\n\n<h3 id=\"Conversion_control_attributes\"><span>Conversion control attributes</span></h3>\n\n<p><span>These bits allow you to control the conversion of text into HTML.</span></p>\n\n<table class=\"standard-table\">\n <tbody>\n  <tr>\n   <td class=\"header\">Constant</td>\n   <td class=\"header\">Type</td>\n   <td class=\"header\">Description</td>\n  </tr>\n  <tr>\n   <td><code>kEntities</code></td>\n   <td><code>unsigned long</code></td>\n   <td>Enables conversion of basic special characters to HTML entities. This applies to \"&lt;\", \"&amp;\", and \"&gt;\" (which are converted to <code>&amp;lt</code>;, <code>&amp;amp;</code>, and <code>&amp;gt;</code>, respectively).</td>\n  </tr>\n  <tr>\n   <td><code>kGlyphSubstitution</code></td>\n   <td><code>unsigned long</code></td>\n   <td>Enables conversion of smilies and non-ASCII special characters.</td>\n  </tr>\n  <tr>\n   <td><code>kStructPhrase</code></td>\n   <td><code>unsigned long</code></td>\n   <td>Enables conversion of text attributes, such as converting \"*some text*\" to boldfaced \"<strong>some text</strong>\" by wrapping in the HTML <a href=\"/en-US/docs/Web/HTML/Element/strong\" title=\"The HTML Strong Importance Element (&lt;strong>) indicates that its contents have strong importance, seriousness, or urgency. Browsers typically render the contents in bold type.\"><code>&lt;strong&gt;</code></a> element.</td>\n  </tr>\n  <tr>\n   <td><code>kURLs</code></td>\n   <td><code>unsigned long</code></td>\n   <td>Enables automatic addition of hyperlinks for URLs in the text.</td>\n  </tr>\n </tbody>\n</table>\n\n<h2 id=\"Methods\">Methods</h2>\n\n<h4 id=\"scanTXT()\">scanTXT()</h4>\n\n<p>Scans the specified text, applying the requested conversions and outputting HTML.</p>\n\n<pre><code>wstring scanTXT(\n  in wstring text,\n  in unsigned long whattodo\n);</code>\n</pre>\n\n<h6 id=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><strong><code>text</code></strong></dt>\n <dd>The original, plain text to scan and convert into HTML.</dd>\n <dt><strong><code>whattodo</code></strong></dt>\n <dd>A bit field composed of the <a href=\"/en/MozITXTToHTMLConv#Conversion_control_attributes\" title=\"en/MozITXTToHTMLConv#Conversion control attributes\">Conversion control attributes</a> indicating what conversions to apply.</dd>\n</dl>\n\n<h6 id=\"Return_value\">Return value</h6>\n\n<p>The HTML version of the specified string.</p>\n\n<h4 id=\"scanHTML()\">scanHTML()</h4>\n\n<p>Scans the specified user-edited HTML, adding additional formatting that the user may not have known to do. This should correct HTML that isn't entirely standards-compliant.</p>\n\n<div class=\"warning\"><strong>Warning:</strong> Don't use the <code>kGlyphSubstitution</code> conversion type with this method, as doing so generates HTML that is non-standard.</div>\n\n<pre><code>wstring scanHTML(\n  in wstring text,\n  in unsigned long whattodo\n);</code>\n</pre>\n\n<h6 id=\"Parameters_2\">Parameters</h6>\n\n<dl>\n <dt><strong><code>text</code></strong></dt>\n <dd>The original, user-edited HTML.</dd>\n <dt><strong><code>whattodo</code></strong></dt>\n <dd>A bit field composed of the <a href=\"/en/MozITXTToHTMLConv#Conversion_control_attributes\" title=\"en/MozITXTToHTMLConv#Conversion control attributes\">Conversion control attributes</a> indicating what conversions to apply.</dd>\n</dl>\n\n<h6 id=\"Return_value_2\">Return value</h6>\n\n<p>A normalized version of the original HTML string.</p>\n\n<h4 id=\"citeLevelTXT()\">citeLevelTXT()</h4>\n\n<p>Returns the \"cite level\" of the specified text; that is, it indicates how many levels of email reply quotes are used, when the text uses \"quote\" characters (such as \"&gt;\") at the beginning of the line to indicate cite levels.</p>\n\n<pre>unsigned long citeLevelTXT(\n  in wstring line,\n  out unsigned long logLineStart\n);\n</pre>\n\n<h6 id=\"Parameters_3\">Parameters</h6>\n\n<dl>\n <dt><strong><code>line</code></strong></dt>\n <dd>The original line of text, which may begin with one or more cite characters such as \"&gt;\".</dd>\n <dt><strong><code>logLineStart</code></strong></dt>\n <dd>On output, this parameter is set to indicate the offset into the string of the first non-cite character. You must set this value to zero before calling this method.</dd>\n</dl>\n\n<h6 id=\"Return_value_3\">Return value</h6>\n\n<p>The cite level of the quote; that is, the number of text quote characters found at the beginning of the string.</p>\n\n<h4 id=\"findURLInPlaintext()\">findURLInPlaintext()</h4>\n\n<p>Returns the start and end offsets of the first URL found in a substring.</p>\n\n<pre>void findURLInPlaintext(\n  in wstring text,\n  in long aLength,\n  in long aPos,\n  out long aStartPos,\n  out long aEndPos\n);\n</pre>\n\n<h6 id=\"Parameters_4\">Parameters</h6>\n\n<dl>\n <dt><span style=\"font-family: monospace;\"><strong style=\"font-weight: bold;\">text</strong></span></dt>\n <dd>The string to scan for the presence of a URL.</dd>\n <dt><span style=\"font-family: monospace;\"><strong style=\"font-weight: bold;\">aLength</strong></span></dt>\n <dd>The length of the buffer to scan.</dd>\n <dt><span style=\"font-family: monospace;\"><strong style=\"font-weight: bold;\">aPos</strong></span></dt>\n <dd>The character offset into the string at which to begin the scan.</dd>\n <dt><span style=\"font-family: monospace;\"><strong style=\"font-weight: bold;\">aStartPos</strong></span></dt>\n <dd>On return, indicates the offset to the first character of the first found URL, or -1 if no URL was found.</dd>\n <dt><span style=\"font-family: monospace;\"><strong style=\"font-weight: bold;\">aEndPos</strong></span></dt>\n <dd>On return, indicates the offset to the last character of the first found URL, or -1 if no URL was found.</dd>\n</dl>\n\n<h6 id=\"Remarks\">Remarks</h6>\n\n<p>You can call this method repeatedly, passing in updated values for <code>aPos</code>, to locate all the URLs in a string.</p>",
    "contributors": "<a href=\"https://developer.mozilla.org/en-US/profiles/wbamberg\">wbamberg</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot\">mdnwebdocs-bot</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/quixx\">quixx</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/teoli\">teoli</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Sheppy\">Sheppy</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Hashem\">Hashem</a>",
    "title": "mozITXTToHTMLConv"
}