{
    "content": "<p></p><div style=\"border: solid #ddd 2px; margin-bottom: 12px;\">\n<div style=\"background: #eee; padding: 2px;\"><code><a href=\"https://dxr.mozilla.org/mozilla-central/source/netwerk/base/public/nsIIOService.idl\" rel=\"custom\">netwerk/base/public/nsIIOService.idl</a></code><span style=\"text-align: right; float: right;\"><a href=\"/en-US/docs/Interfaces/About_Scriptable_Interfaces\" style=\"color: #00cc00; font-weight: 700;\">Scriptable</a></span></div>\n<span style=\"padding: 4px 2px;\">\n\nThis interface provides a set of URL parsing utility functions. These are provided as a convenience to the programmer and in some cases to improve performance by eliminating intermediate data structures and interfaces.\n</span>\n\n<div style=\"background: #eee; padding: 2px;\">\nInherits from: <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports\" title=\"\">nsISupports</a></code>\n<span style=\"text-align: right; float: right;\">Last changed in Gecko 1.2 </span></div>\n</div><p></p>\n\n<p>This interface duplicates many of the <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIProtocolHandler\" title=\"\">nsIProtocolHandler</a></code> methods in a protocol handler independent way (For example <code><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIIOService#newURI()\">newURI()</a></code> inspects the scheme in order to delegate creation of the new URI to the appropriate protocol handler).</p>\n\n<p></p><div class=\"blockIndicator note\"><strong>Note:</strong> <code>nsIIOService</code> may only be used from the main thread.</div><p></p>\n\n<p>Implemented by <code>@mozilla.org/network/io-service;1</code> as a service:</p>\n\n<pre class=\"eval\">var iOService = Components.classes[\"@mozilla.org/network/io-service;1\"]\n                .getService(Components.interfaces.nsIIOService);\n</pre>\n\n<h2 id=\"Method_overview\" name=\"Method_overview\">Method overview</h2>\n\n<table class=\"standard-table\">\n <tbody>\n  <tr>\n   <td><code>boolean <a href=\"#allowPort()\">allowPort</a>(in long aPort, in string aScheme);</code></td>\n  </tr>\n  <tr>\n   <td><code>ACString <a href=\"#extractScheme()\">extractScheme</a>(in AUTF8String urlString);</code></td>\n  </tr>\n  <tr>\n   <td><code>unsigned long <a href=\"#getProtocolFlags()\">getProtocolFlags</a>(in string aScheme);</code></td>\n  </tr>\n  <tr>\n   <td><code>nsIProtocolHandler <a href=\"#getProtocolHandler()\">getProtocolHandler</a>(in string aScheme);</code></td>\n  </tr>\n  <tr>\n   <td><code>nsIChannel <a href=\"#newChannel()\">newChannel</a>(in AUTF8String aSpec, in string aOriginCharset, in nsIURI aBaseURI); </code><span class=\"inlineIndicator obsolete obsoleteInline\" title=\"(Firefox 48 / Thunderbird 48 / SeaMonkey 2.45)\">Obsolete since Gecko 48</span></td>\n  </tr>\n  <tr>\n   <td><code>nsIChannel <a href=\"#newChannel2()\">newChannel2</a>(in AUTF8String aSpec, in string aOriginCharset, in nsIURI aBaseURI, in nsIDOMNode aLoadingNode, in nsIPrincipal aLoadingPrincipal, in nsIPrincipal aTriggeringPrincipal, in uint32_t aSecurityFlags, in uint32_t aContentPolicyType);</code></td>\n  </tr>\n  <tr>\n   <td><code>nsIChannel <a href=\"#newChannelFromURI()\">newChannelFromURI</a>(in nsIURI aURI); </code> <span class=\"inlineIndicator obsolete obsoleteInline\" title=\"(Firefox 48 / Thunderbird 48 / SeaMonkey 2.45)\">Obsolete since Gecko 48</span></td>\n  </tr>\n  <tr>\n   <td><code>nsIChannel <a href=\"#newChannelFromURI2()\">newChannelFromURI2</a>(in nsIURI aURI, in nsIDOMNode aLoadingNode, in nsIPrincipal aLoadingPrincipal, in nsIPrincipal aTriggeringPrincipal, in unsigned long aSecurityFlags, in unsigned long aContentPolicyType);</code></td>\n  </tr>\n  <tr>\n   <td><code>nsIChannel <a href=\"#newChannelFromURIWithLoadInfo()\">newChannelFromURIWithLoadInfo</a>(in nsIURI aURI, in nsILoadInfo aLoadInfo);</code></td>\n  </tr>\n  <tr>\n   <td><code>nsIChannel <a href=\"#newChannelFromURIWithProxyFlags2()\">newChannelFromURIWithProxyFlags2</a>(in nsIURI aURI, in nsIURI aProxyURI, in uint32_t aProxyFlags,in nsIDOMNode aLoadingNode, in nsIPrincipal aLoadingPrincipal, in nsIPrincipal aTriggeringPrincipal, in uint32_t aSecurityFlags, in uint32_t aContentPolicyType); </code></td>\n  </tr>\n  <tr>\n   <td><code>nsIURI <a href=\"#newFileURI()\">newFileURI</a>(in nsIFile aFile);</code></td>\n  </tr>\n  <tr>\n   <td><code>nsIURI <a href=\"#newURI()\">newURI</a>(in AUTF8String aSpec, in string aOriginCharset, in nsIURI aBaseURI);</code></td>\n  </tr>\n </tbody>\n</table>\n\n<h2 id=\"Attributes\" name=\"Attributes\">Attributes</h2>\n\n<table class=\"standard-table\">\n <tbody>\n  <tr>\n   <td class=\"header\">Attribute</td>\n   <td class=\"header\">Type</td>\n   <td class=\"header\">Description</td>\n  </tr>\n  <tr>\n   <td><code>offline</code></td>\n   <td><code><a href=\"/en/boolean\" title=\"en/boolean\">boolean</a></code></td>\n   <td>Returns <code>true</code> if networking is in \"<code>offline</code>\" mode. When in <code>offline</code> mode, attempts to access the network will fail (although this does not necessarily correlate with whether there is actually a network available -- that's hard to detect without causing the dialer to come up). Observers will be notified of changes to this attribute.</td>\n  </tr>\n </tbody>\n</table>\n\n<h2 id=\"Methods\" name=\"Methods\">Methods</h2>\n\n<h3 id=\"allowPort()\" name=\"allowPort()\">allowPort()</h3>\n\n<p>Checks if a port number is banned. This involves consulting a list of unsafe ports, corresponding to network services that may be easily exploitable. If the given port is considered unsafe, then the protocol handler (corresponding to aScheme) will be asked whether it wishes to override the IO service's decision to block the port. This gives the protocol handler ultimate control over its own security policy while ensuring reasonable, default protection.</p>\n\n<p>Is similar to <code><a href=\"https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIProtocolHandler#allowPort()\">nsIProtocolHandler.allowPort()</a></code>.</p>\n\n<pre class=\"eval\">boolean allowPort(\n  in long aPort,\n  in string aScheme\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aPort</code></dt>\n <dd>The port to check</dd>\n <dt><code>aScheme</code></dt>\n <dd>The scheme for the protocol handler that could override the IOService's decision.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p><code>true</code> if the port is allowed, <code>false</code> otherwise.</p>\n\n<h3 id=\"extractScheme()\" name=\"extractScheme()\">extractScheme()</h3>\n\n<p>Utility to extract the scheme from a URL string, consistently and according to spec (see <a class=\"external\" href=\"http://tools.ietf.org/html/rfc3986\" title=\"http://tools.ietf.org/html/rfc3986\">RFC 3986</a>).</p>\n\n<p></p><div class=\"blockIndicator note\"><strong>Note:</strong>  Most URL parsing is done via <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURI\" title=\"\">nsIURI</a></code>, and in fact the scheme can also be extracted from a URL string via <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURI\" title=\"\">nsIURI</a></code>. This method is provided purely as an optimization. </div><p></p>\n\n<pre class=\"eval\">ACString extractScheme(\n  in AUTF8String urlString\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>urlString</code></dt>\n <dd>The string for the URL to extract the scheme from.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>A string corresponding to the scheme.</p>\n\n<h6 id=\"Exceptions_thrown\" name=\"Exceptions_thrown\">Exceptions thrown</h6>\n\n<dl>\n <dt><code>NS_ERROR_MALFORMED_URI</code></dt>\n <dd>If URL string is not of the right form.</dd>\n</dl>\n\n<h3 id=\"getProtocolFlags()\" name=\"getProtocolFlags()\">getProtocolFlags()</h3>\n\n<p>Returns the protocol flags for a given scheme.</p>\n\n<pre class=\"eval\">unsigned long getProtocolFlags(\n  in string aScheme\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aScheme</code></dt>\n <dd>The scheme for which to get the protocol flags.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>The value of the <code>protocolFlags</code> attribute for the corresponding <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIProtocolHandler\" title=\"\">nsIProtocolHandler</a></code>.</p>\n\n<h3 id=\"getProtocolHandler()\" name=\"getProtocolHandler()\">getProtocolHandler()</h3>\n\n<p>Returns a protocol handler for a given URI scheme.</p>\n\n<pre class=\"eval\">nsIProtocolHandler getProtocolHandler(\n  in string aScheme\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aScheme</code></dt>\n <dd>The URI scheme for which to get a protocol handler.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>An <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIProtocolHandler\" title=\"\">nsIProtocolHandler</a></code> for the scheme.</p>\n\n<h3 id=\"newChannel()\" name=\"newChannel()\">newChannel()</h3>\n\n<p><span class=\"inlineIndicator obsolete obsoleteInline\" title=\"(Firefox 48 / Thunderbird 48 / SeaMonkey 2.45)\">Obsolete since Gecko 48</span><br>\n A shortcut method to avoid repeated calls of <code><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIIOService#newURI()\">newURI()</a></code> and <code><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIIOService#newChannelFromURI()\">newChannelFromURI()</a></code>.</p>\n\n<pre class=\"eval\">nsIChannel newChannel(\n  in AUTF8String aSpec,\n  in string aOriginCharset,\n  in nsIURI aBaseURI\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aSpec</code></dt>\n <dd>The spec for the desired uri.</dd>\n <dt><code>aOriginCharset</code></dt>\n <dd>The charset for the uri. May be null.</dd>\n <dt><code>aBaseURI</code></dt>\n <dd>The base URI for the spec. May be null. If <code>aSpec</code> is an absolute URL, this parameter is ignored.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>Returns an <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIChannel\" title=\"\">nsIChannel</a></code> based on <code>aSpec</code> and <code>aBaseURI</code>.</p>\n\n<h3 id=\"newChannel2()\" name=\"newChannel2()\">newChannel2()</h3>\n\n<p>A shortcut method to avoid repeated calls of <code><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIIOService#newURI()\">newURI()</a></code> and <code><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIIOService#newChannelFromURI()\">newChannelFromURI()</a></code>.</p>\n\n<pre class=\"eval\">nsIChannel newChannel2(\n   <code>in AUTF8String aSpec,\n   in string aOriginCharset,\n   in nsIURI aBaseURI,\n   in nsIDOMNode aLoadingNode,\n   in nsIPrincipal aLoadingPrincipal,\n   in nsIPrincipal aTriggeringPrincipal,\n   in uint32_t aSecurityFlags,\n   in uint32_t aContentPolicyType,\n</code>\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aSpec</code></dt>\n <dd>The spec for the desired uri.</dd>\n <dt><code>aOriginCharset</code></dt>\n <dd>The charset for the uri. May be null.</dd>\n <dt><code>aBaseURI</code></dt>\n <dd>The base URI for the spec. May be null. If <code>aSpec</code> is an absolute URL, this parameter is ignored.</dd>\n <dt><code>aLoadingNode</code></dt>\n <dd>The loadingDocument of the channel. This is the document/element that will get access to the result of this request. For example for an image load, it's the document in which the image will be loaded. And for a CSS stylesheet it's the document whose rendering will be affected by the stylesheet. If possible, pass in the element which is performing the load. But if the load is coming from a JS API (such as XMLHttpRequest) or if the load might be coalesced across multiple elements (such as for ) then pass in the Document node instead. For loads that are not related to any document, such as loads coming from addons or internal browser features, use null here.</dd>\n <dt><code>aLoadingPrincipal</code></dt>\n <dd>The loadingPrincipal of the channel. The principal of the document where the result of this request will be used. This defaults to the principal of aLoadingNode, so when aLoadingNode is passed this can be left as null. However for loads where aLoadingNode is null this argument must be passed. For example for loads from a WebWorker, pass the principal of that worker. For loads from an addon or from internal browser features, pass the system principal. This principal should almost always be the system principal if aLoadingNode is null. The only exception to this is for loads from WebWorkers since they don't have any nodes to be passed as aLoadingNode. Please note, aLoadingPrincipal is *not* the principal of the resource being loaded. But rather the principal of the context where the resource will be used.</dd>\n <dt><code>aTriggeringPrincipal</code></dt>\n <dd>The triggeringPrincipal of the load. The triggeringPrincipal is the principal of the resource that caused this particular URL to be loaded. Most likely the triggeringPrincipal and the loadingPrincipal are identical, in which case the triggeringPrincipal can be left out. In some cases the loadingPrincipal and the triggeringPrincipal are different however, e.g. a stylesheet may import a subresource. In that case the principal of the stylesheet which contains the import command is the triggeringPrincipal, and the principal of the document whose rendering is affected is the loadingPrincipal.</dd>\n <dt><code>aSecurityFlags</code></dt>\n <dd>The securityFlags of the channel. Any of the securityflags defined in nsILoadInfo.</dd>\n <dt><code>aContentPolicyType</code></dt>\n <dd>The contentPolicyType of the channel. Any of the content types defined in nsIContentPolicyBase.idl.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>Returns an <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIChannel\" title=\"\">nsIChannel</a></code> based on <code>aSpec</code> and <code>aBaseURI</code>.</p>\n\n<h3 id=\"newChannelFromURI()\" name=\"newChannelFromURI()\">newChannelFromURI()</h3>\n\n<p><span class=\"inlineIndicator obsolete obsoleteInline\" title=\"(Firefox 48 / Thunderbird 48 / SeaMonkey 2.45)\">Obsolete since Gecko 48</span><br>\n Creates a channel for a given URI.</p>\n\n<pre class=\"eval\">nsIChannel newChannelFromURI(\n  in nsIURI aURI\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aURI</code></dt>\n <dd>An <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURI\" title=\"\">nsIURI</a></code> from which to make a channel.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>An <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIChannel\" title=\"\">nsIChannel</a></code> for the uri.</p>\n\n<h3 id=\"newChannelFromURI2()\" name=\"newChannelFromURI2()\">newChannelFromURI2()</h3>\n\n<p>Creates a channel for a given URI.</p>\n\n<pre>nsIChannel newChannelFromURI2(\n  in nsIURI aURI,\n  in nsIDOMNode aLoadingNode,\n  in nsIPrincipal aLoadingPrincipal,\n  in nsIPrincipal aTriggeringPrincipal,\n  in unsigned long aSecurityFlags,\n  in unsigned long aContentPolicyType\n);</pre>\n\n<p>Please note, if you provide both a loadingNode and a loadingPrincipal, then loadingPrincipal must be equal to loadingNode-&gt;NodePrincipal(). But less error prone is to just supply a loadingNode.</p>\n\n<p>Keep in mind that URIs coming from a webpage should <em>never</em> use the systemPrincipal as the loadingPrincipal.</p>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aURI</code></dt>\n <dd>An <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURI\" title=\"\">nsIURI</a></code> from which to make a channel.</dd>\n <dt>aLoadingNode</dt>\n <dd>The loadingDocument of the channel.<br>\n The element or document where the result of this request will be used. This is the document/element that will get access to the result of this request. For example for an image load, it's the document in which the image will be loaded. And for a CSS stylesheet it's the document whose rendering will be affected by the stylesheet. If possible, pass in the element which is performing the load. But if the load is coming from a JS API (such as XMLHttpRequest) or if the load might be coalesced across multiple elements (such as for &lt;img&gt;) then pass in the Document node instead.<br>\n <br>\n For loads that are not related to any document, such as loads coming from addons or internal browser features, use null here.</dd>\n <dt>aLoadingPrincipal                                                     </dt>\n <dd>The loadingPrincipal of the channel.<br>\n <br>\n The principal of the document where the result of this request will be used.<br>\n <br>\n This defaults to the principal of aLoadingNode, so when aLoadingNode is passed this can be left as null. However for loads where aLoadingNode is null this argument must be passed.  For example for loads from a WebWorker, pass the principal of that worker. For loads from an addon or from internal browser features, pass the system principal. This principal should almost always be the system principal if aLoadingNode is null. The only exception to this is for loads from WebWorkers since they don't have any nodes to be passed as aLoadingNode. Please note, aLoadingPrincipal is *not* the principal of the resource being loaded. But rather the principal of the context here the resource will be used.</dd>\n <dt>aTriggeringPrincipal                                                  </dt>\n <dd>The triggeringPrincipal of the load.<br>\n <br>\n The triggeringPrincipal is the principal of the resource that caused this particular URL to be loaded. Most likely the triggeringPrincipal and the loadingPrincipal are identical, in which case the triggeringPrincipal can be left out. In some cases the loadingPrincipal and the triggeringPrincipal are different however, e.g. a stylesheet may import a subresource. In that case the principal of the stylesheet which contains the import command is the triggeringPrincipal, and the principal of the document whose rendering is affected is the loadingPrincipal.</dd>\n <dt>aSecurityFlags                                                        </dt>\n <dd>The securityFlags of the channel. Any of the securityflags defined in nsILoadInfo.idl</dd>\n <dt>aContentPolicyType                                                        </dt>\n <dd>The contentPolicyType of the channel. Any of the content types defined in nsIContentPolicy.idl              </dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>An <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIChannel\" title=\"\">nsIChannel</a></code> for the uri.</p>\n\n<h3 id=\"newChannelFromURIWithLoadInfo()\" name=\"newChannelFromURIWithLoadInfo()\">newChannelFromURIWithLoadInfo()</h3>\n\n<p>Creates a channel for a given URI. Equivalent to <code>newChannelFromURI2(aURI, aLoadingNode, ...)</code></p>\n\n<pre>nsIChannel newChannelFromURIWithLoadInfo(\n  in nsIURI aURI,\n  in nsILoadInfo aLoadInfo\n);</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aURI</code></dt>\n <dd>An <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURI\" title=\"\">nsIURI</a></code> from which to make a channel.</dd>\n <dt>aLoadInfo</dt>\n <dd>A load info object.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>An <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIChannel\" title=\"\">nsIChannel</a></code> for the uri.</p>\n\n<h3 id=\"newChannelFromURIWithProxyFlags2()\" name=\"newChannelFromURIWithProxyFlags2()\">newChannelFromURIWithProxyFlags2()</h3>\n\n<p><br>\n Creates a channel for a given URI. Equivalent to <code>newChannelFromURI2(aURI, aLoadingNode, ...)</code></p>\n\n<pre>nsIChannel newChannelFromURIWithProxyFlags2(\n  in nsIURI aURI,\n  in nsIURI aProxyURI,\n  in uint32_t aProxyFlags,\n  in nsIDOMNode aLoadingNode,\n  in nsIPrincipal aLoadingPrincipal,\n  in nsIPrincipal aTriggeringPrincipal,\n  in uint32_t aSecurityFlags,\n  in uint32_t aContentPolicyType\n);</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aURI</code></dt>\n <dd>An <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURI\" title=\"\">nsIURI</a></code> from which to make a channel.</dd>\n <dt>aProxyURI</dt>\n <dd>nsIURI to use for proxy resolution. Can be null in which case aURI is used.</dd>\n <dt>aProxyFlags</dt>\n <dd>Flags from nsIProtocolProxyService to use when resolving proxies for this new channel.</dd>\n <dt>aLoadingNode</dt>\n <dd>The loadingDocument of the channel. The element or document where the result of this request will be used. This is the document/element that will get access to the result of this request. For example for an image load, it's the document in which the image will be loaded. And for a CSS stylesheet it's the document whose rendering will be affected by the stylesheet. If possible, pass in the element which is performing the load. But if the load is coming from a JS API (such as XMLHttpRequest) or if the load might be coalesced across multiple elements (such as for ) then pass in the Document node instead. For loads that are not related to any document, such as loads coming from addons or internal browser features, use null here.</dd>\n <dt>aLoadingPrincipal</dt>\n <dd>The loadingPrincipal of the channel. The principal of the document where the result of this request will be used. This defaults to the principal of aLoadingNode, so when aLoadingNode is passed this can be left as null. However for loads where aLoadingNode is null this argument must be passed. For example for loads from a WebWorker, pass the principal of that worker. For loads from an addon or from internal browser features, pass the system principal. This principal should almost always be the system principal if aLoadingNode is null. The only exception to this is for loads from WebWorkers since they don't have any nodes to be passed as aLoadingNode. Please note, aLoadingPrincipal is *not* the principal of the resource being loaded. But rather the principal of the context where the resource will be used.</dd>\n <dt>aTriggeringPrincipal</dt>\n <dd>The triggeringPrincipal of the load. The triggeringPrincipal is the principal of the resource that caused this particular URL to be loaded. Most likely the triggeringPrincipal and the loadingPrincipal are identical, in which case the triggeringPrincipal can be left out. In some cases the loadingPrincipal and the triggeringPrincipal are different however, e.g. a stylesheet may import a subresource. In that case the principal of the stylesheet which contains the import command is the triggeringPrincipal, and the principal of the document whose rendering is affected is the loadingPrincipal.</dd>\n <dt>aSecurityFlags</dt>\n <dd>The securityFlags of the channel. Any of the securityflags defined in nsILoadInfo.</dd>\n <dt>aContentPolicyType</dt>\n <dd>The contentPolicyType of the channel. Any of the content types defined in nsIContentPolicy.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>An <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIChannel\" title=\"\">nsIChannel</a></code> for the uri.</p>\n\n<h3 id=\"newFileURI()\" name=\"newFileURI()\">newFileURI()</h3>\n\n<p>This method constructs a new URI from a <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIFile\" title=\"\">nsIFile</a></code>.</p>\n\n<pre class=\"eval\">nsIURI newFileURI(\n  in nsIFile aFile\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aFile</code></dt>\n <dd>The <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIFile\" title=\"\">nsIFile</a></code> whose URI is desired.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>An <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURI\" title=\"\">nsIURI</a></code> corresponding to the file.</p>\n\n<h3 id=\"newURI()\" name=\"newURI()\">newURI()</h3>\n\n<p>This method constructs a new URI by determining the scheme of the URI spec, and then delegating the construction of the URI to the protocol handler for that scheme. QueryInterface can be used on the resulting URI object to obtain a more specific type of URI.</p>\n\n<pre class=\"eval\">nsIURI newURI(\n  in AUTF8String aSpec,\n  in string aOriginCharset,\n  in nsIURI aBaseURI\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aSpec</code></dt>\n <dd>The spec for the desired uri.</dd>\n <dt><code>aOriginCharset</code></dt>\n <dd>The charset for the uri. May be null.</dd>\n <dt><code>aBaseURI</code></dt>\n <dd>The base URI for the spec. May be null. If <code>aSpec</code> is an absolute URL, this parameter is ignored.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>An <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURI\" title=\"\">nsIURI</a></code> object corresponding to <code>aSpec</code> and <code>aBaseURI</code>.</p>\n\n<h6 id=\"Exceptions_thrown\" name=\"Exceptions_thrown\">Exceptions thrown</h6>\n\n<dl>\n <dt><code>NS_ERROR_MALFORMED_URI</code></dt>\n <dd>If URI does not begin with a valid scheme (as defined by <a href=\"https://tools.ietf.org/html/rfc3986\">RFC 3986</a>) followed by a colon.</dd>\n</dl>\n\n<h2 id=\"Remarks\" name=\"Remarks\">Remarks</h2>\n\n<p></p><div class=\"blockIndicator note\"><strong>Note:</strong>  The proper way to create a new <code>nsIURI</code> is with <code><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIIOService#newURI()\">newURI()</a></code> method defined above. Do NOT create a new <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURI\" title=\"\">nsIURI</a></code> with <code>createInstance()</code>. </div><p></p>\n\n<p>This was a frozen interface see <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=157131\" title=\"FIXED: [meta] nsIIOService need to be frozen\">bug 157131</a> for details. From <span title=\"(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)\">Gecko 2.0</span> interfaces are no longer frozen.</p>\n\n<h2 id=\"See_also\" name=\"See_also\">See also</h2>\n\n<ul>\n <li><a class=\"external\" href=\"http://tools.ietf.org/html/rfc3986\" title=\"http://tools.ietf.org/html/rfc3986\">RFC 3986</a></li>\n</ul>",
    "contributors": "<a href=\"https://developer.mozilla.org/en-US/profiles/wbamberg\">wbamberg</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot\">mdnwebdocs-bot</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/luciancor\">luciancor</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/lv7777\">lv7777</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Slosd\">Slosd</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Noitidart\">Noitidart</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/The_8472\">The_8472</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/aurimas\">aurimas</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Sheppy\">Sheppy</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/lmorchard\">lmorchard</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/ckocagil\">ckocagil</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/trevorh\">trevorh</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Kennyluck\">Kennyluck</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Hfmanson\">Hfmanson</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Mook\">Mook</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Jminta\">Jminta</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Nickolay\">Nickolay</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/LouCypher\">LouCypher</a>",
    "title": "nsIIOService"
}