{
    "content": "<p></p><div style=\"border: solid #ddd 2px; margin-bottom: 12px;\">\n<div style=\"background: #eee; padding: 2px;\"><code><a href=\"https://dxr.mozilla.org/mozilla-central/source/widget/nsIFilePicker.idl\" rel=\"custom\">widget/nsIFilePicker.idl</a></code><span style=\"text-align: right; float: right;\"><a href=\"/en-US/docs/Interfaces/About_Scriptable_Interfaces\" style=\"color: #00cc00; font-weight: 700;\">Scriptable</a></span></div>\n<span style=\"padding: 4px 2px;\">\n\nThe file picker component is used to display standard user interface for selecting files and directories, as well as for selecting destinations for, and naming, new files.\n</span>\n\n<div style=\"background: #eee; padding: 2px;\">\nInherits from: <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports\" title=\"\">nsISupports</a></code>\n<span style=\"text-align: right; float: right;\">Last changed in Gecko 17.0 (Firefox 17.0 / Thunderbird 17.0 / SeaMonkey 2.14)</span></div>\n</div><p></p>\n\n<p>Implemented by: <code>@mozilla.org/filepicker;1</code>. To create an instance, use:</p>\n\n<pre class=\"eval\">var filePicker = Components.classes[\"@mozilla.org/filepicker;1\"]\n                 .createInstance(Components.interfaces.nsIFilePicker);\n</pre>\n\n<h2 id=\"Method_overview\" name=\"Method_overview\">Method overview</h2>\n\n<table class=\"standard-table\">\n <tbody>\n  <tr>\n   <td><code>void <a href=\"#appendFilter()\">appendFilter</a>(in AString title, in AString filter);</code></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#appendFilters()\">appendFilters</a>(in long filterMask);</code></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#init()\">init</a>(in nsIDOMWindow parent, in AString title, in short mode);</code></td>\n  </tr>\n  <tr>\n   <td><code>void <a href=\"#open()\">open</a>(in nsIFilePickerShownCallback aFilePickerShownCallback);</code> </td>\n  </tr>\n  <tr>\n   <td><code>short <a href=\"#show()\">show</a>();</code> <span class=\"inlineIndicator obsolete obsoleteInline\" title=\"(Firefox 57.0 / Thunderbird 57.0 / SeaMonkey 2.54)\">Obsolete since Gecko 57.0</span></td>\n  </tr>\n </tbody>\n</table>\n\n<h2 id=\"Attributes\" name=\"Attributes\">Attributes</h2>\n\n<table class=\"standard-table\">\n <tbody>\n  <tr>\n   <td class=\"header\">Attribute</td>\n   <td class=\"header\">Type</td>\n   <td class=\"header\">Description</td>\n  </tr>\n  <tr>\n   <td><code>addToRecentDocs</code> </td>\n   <td><code>boolean</code></td>\n   <td>If <code>true</code>, the file is added to the operating system's \"recent documents\" list (if the operating system has one; nothing happens if there is no such concept on the user's platform). This attribute has no effect if private browsing mode is in effect.</td>\n  </tr>\n  <tr>\n   <td><code>defaultExtension</code></td>\n   <td><code><a href=\"/en/AString\" title=\"en/AString\">AString</a></code></td>\n   <td>The extension for the type of files you want to work with. On some platforms, this is automatically appended to filenames the user enters, if required.  Specify it without a leading dot, for example \"jpg\".</td>\n  </tr>\n  <tr>\n   <td><code>defaultString</code></td>\n   <td><code><a href=\"/en/AString\" title=\"en/AString\">AString</a></code></td>\n   <td>The filename, including extension, that should be suggested to the user as a default. This should be set before calling <code><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIFilePicker#open()\">open()</a></code> or <code><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIFilePicker#show()\">show()</a></code>.\n    <h6 id=\"Exceptions_thrown\" name=\"Exceptions_thrown\">Exceptions thrown</h6>\n\n    <dl>\n     <dt><code>NS_ERROR_FAILURE</code></dt>\n     <dd>If you try to read this attribute.</dd>\n    </dl>\n   </td>\n  </tr>\n  <tr>\n   <td><code>displayDirectory</code></td>\n   <td><code><code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsILocalFile\" title=\"\">nsILocalFile</a></code></code></td>\n   <td>The directory that the file picker dialog should initially display. This should be set this before calling <code><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIFilePicker#open()\">open()</a></code> or <code><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIFilePicker#show()\">show()</a></code> to specify a starting point.</td>\n  </tr>\n  <tr>\n   <td><code>file</code></td>\n   <td><code><code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsILocalFile\" title=\"\">nsILocalFile</a></code></code></td>\n   <td>The currently selected file or directory. <strong>Read only.</strong></td>\n  </tr>\n  <tr>\n   <td><code>files</code></td>\n   <td><code><code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISimpleEnumerator\" title=\"\">nsISimpleEnumerator</a></code></code></td>\n   <td>\n    <p>An enumerator of the currently selected files. <strong>Read only.</strong></p>\n    <div class=\"blockIndicator note\"><strong>Note:</strong> Only works with <code>modeOpenMultiple</code> mode.</div></td>\n  </tr>\n  <tr>\n   <td><code>fileURL</code></td>\n   <td><code><code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURI\" title=\"\">nsIURI</a></code></code></td>\n   <td>The URI of the currently selected file or directory. <strong>Read only.</strong></td>\n  </tr>\n  <tr>\n   <td><code>filterIndex</code></td>\n   <td><code><a href=\"/en/long\" title=\"en/long\">long</a></code></td>\n   <td>The (0-based) index of the filter which is currently selected in the file picker dialog. Set this to choose a particular filter to be selected by default.</td>\n  </tr>\n </tbody>\n</table>\n\n<h2 id=\"Constants\" name=\"Constants\">Constants</h2>\n\n<h3 id=\"Mode_constants\" name=\"Mode_constants\">Mode constants</h3>\n\n<p>These constants are used to specify the type of file picker to create when calling <code><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIFilePicker#init()\">init()</a></code>.</p>\n\n<table class=\"standard-table\">\n <tbody>\n  <tr>\n   <td class=\"header\">Constant</td>\n   <td class=\"header\">Value</td>\n   <td class=\"header\">Description</td>\n  </tr>\n  <tr>\n   <td><code>modeOpen</code></td>\n   <td><code>0</code></td>\n   <td>Load a file.</td>\n  </tr>\n  <tr>\n   <td><code>modeSave</code></td>\n   <td><code>1</code></td>\n   <td>Save a file.</td>\n  </tr>\n  <tr>\n   <td><code>modeGetFolder</code></td>\n   <td><code>2</code></td>\n   <td>Select a folder/directory.</td>\n  </tr>\n  <tr>\n   <td><code>modeOpenMultiple</code></td>\n   <td><code>3</code></td>\n   <td>Load multiple files.</td>\n  </tr>\n </tbody>\n</table>\n\n<h3 id=\"Return_value_constants\" name=\"Return_value_constants\">Return value constants</h3>\n\n<p>These values are returned by <code><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIFilePicker#show()\">show()</a></code> or passed as an argument to <code><a href=\"https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIFilePicker#open()\">open()</a></code>'s callback, indicating the result of the file picker activity.</p>\n\n<table class=\"standard-table\">\n <tbody>\n  <tr>\n   <td class=\"header\">Constant</td>\n   <td class=\"header\">Value</td>\n   <td class=\"header\">Description</td>\n  </tr>\n  <tr>\n   <td><code>returnOK</code></td>\n   <td><code>0</code></td>\n   <td>The file picker dialog was closed by the user hitting 'Ok'</td>\n  </tr>\n  <tr>\n   <td><code>returnCancel</code></td>\n   <td><code>1</code></td>\n   <td>The file picker dialog was closed by the user hitting 'Cancel'</td>\n  </tr>\n  <tr>\n   <td><code>returnReplace</code></td>\n   <td><code>2</code></td>\n   <td>The user chose an existing file and acknowledged that they want to overwrite the file</td>\n  </tr>\n </tbody>\n</table>\n\n<h3 id=\"Filter_constants\" name=\"Filter_constants\">Filter constants</h3>\n\n<p>These constants are used to create filters for commonly-used file types. For the most up to date list see <a href=\"https://dxr.mozilla.org/mozilla-central/source/toolkit/content/filepicker.properties\" rel=\"custom\">filepicker.properties</a>.</p>\n\n<table class=\"standard-table\">\n <tbody>\n  <tr>\n   <td class=\"header\">Constant</td>\n   <td class=\"header\">Value</td>\n   <td class=\"header\">Description</td>\n  </tr>\n  <tr>\n   <td><code>filterAll</code></td>\n   <td><code>0x001</code></td>\n   <td>Corresponds to the *.* filter for file extensions. All files will pass through the filter.</td>\n  </tr>\n  <tr>\n   <td><code>filterHTML</code></td>\n   <td><code>0x002</code></td>\n   <td>Corresponds to the *.html, *.htm, *.shtml and *.xhtml filters for file extensions.</td>\n  </tr>\n  <tr>\n   <td><code>filterText</code></td>\n   <td><code>0x004</code></td>\n   <td>Corresponds to the *.txt and *.text filter for file extensions.</td>\n  </tr>\n  <tr>\n   <td><code>filterImages</code></td>\n   <td><code>0x008</code></td>\n   <td>Corresponds to the *.jpe, *.jpg, *.jpeg, *.gif, *.png, *.bmp, *.ico, *.svg, *.svgz, *.tif, *.tiff, *.ai, *.drw, *.pct, *.psp, *.xcf, *.psd and *.raw filters for file extensions.</td>\n  </tr>\n  <tr>\n   <td><code>filterXML</code></td>\n   <td><code>0x010</code></td>\n   <td>Corresponds to the *.xml filter for file extensions.</td>\n  </tr>\n  <tr>\n   <td><code>filterXUL</code></td>\n   <td><code>0x020</code></td>\n   <td>Corresponds to the *.xul filter for file extensions.</td>\n  </tr>\n  <tr>\n   <td><code>filterApps</code></td>\n   <td><code>0x040</code></td>\n   <td>Corresponds to the platform specific application filter for file extensions. Application files for the user's platform will pass through the filter.</td>\n  </tr>\n  <tr>\n   <td><code>filterAllowURLs</code></td>\n   <td><code>0x80</code></td>\n   <td>Allow URLs. </td>\n  </tr>\n  <tr>\n   <td><code>filterAudio</code></td>\n   <td><code>0x100</code></td>\n   <td>Corresponds to the *.aac, *.aif, *.flac, *.iff, *.m4a, *.m4b, *.mid, *.midi, *.mp3, *.mpa, *.mpc, *.oga, *.ogg, *.ra, *.ram, *.snd, *.wav and *.wma filters for file extensions. </td>\n  </tr>\n  <tr>\n   <td><code>filterVideo</code></td>\n   <td><code>0x200</code></td>\n   <td>Corresponds to the *.avi, *.divx, *.flv, *.m4v, *.mkv, *.mov, *.mp4, *.mpeg, *.mpg, *.ogm, *.ogv, *.ogx, *.rm, *.rmvb, *.smil, *.webm, *.wmv and *.xvid filters for file extensions. </td>\n  </tr>\n </tbody>\n</table>\n\n<h2 id=\"Methods\" name=\"Methods\">Methods</h2>\n\n<h3 id=\"appendFilter()\" name=\"appendFilter()\">appendFilter()</h3>\n\n<p>Appends a custom file extension filter to the dialog. The filter appended first will be used to display the <code>nsIFilePicker</code> dialog, the user may then select another from the list.</p>\n\n<pre class=\"eval\">void appendFilter(\n  in AString title,\n  in AString filter\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>title</code></dt>\n <dd>The title of the filter.</dd>\n <dt><code>filter</code></dt>\n <dd>The filter string. Multiple extensions may be included, separated by a semicolon and a space.</dd>\n</dl>\n\n<h6 id=\"appendFilter_example\" name=\"appendFilter_example\">Example</h6>\n\n<p>Some example filter strings:</p>\n\n<ul>\n <li>\"*.ics\"</li>\n <li>\"*.txt; *.doc; *.rtf\"</li>\n</ul>\n\n<h3 id=\"appendFilters()\" name=\"appendFilters()\">appendFilters()</h3>\n\n<p>Appends a list of file extension filters, from the predefined list, to the dialog.</p>\n\n<pre class=\"eval\">void appendFilters(\n  in long filterMask\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<div class=\"note\"><strong>Note:</strong> If <code>appendFilters</code> is the first (or only) call to set the file filters the filter with the smallest code will be used as default filter when displaying the <code>nsIFilePicker</code> dialog. If you would like to use another you must append it separately before the others you want to go into the drop down list.</div>\n\n<dl>\n <dt><code>filterMask</code></dt>\n <dd>A combination of the <a class=\"internal\" href=\"#Filter_constants\" title=\"Filter constants\">filters</a> you wish to use. You may OR multiple filters together; for example <code>filterAll | filterHTML</code>.</dd>\n</dl>\n\n<h3 id=\"init()\" name=\"init()\">init()</h3>\n\n<p>Initialize the file picker widget. The file picker is not valid until this method is called.</p>\n\n<pre class=\"eval\">void init(\n  in nsIDOMWindow parent,\n  in AString title,\n  in short mode\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>parent</code></dt>\n <dd>The <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMWindow\" title=\"\">nsIDOMWindow</a></code> parent. This dialog will be dependent on this parent. Must be non-null.</dd>\n <dt><code>title</code></dt>\n <dd>The file picker dialog title. If this is <code>null</code>, the dialog will have the default title.</dd>\n <dt><code>mode</code></dt>\n <dd>One of the <a class=\"internal\" href=\"#Mode_constants\" title=\"Mode constants\">mode constants</a>, indicating the type of picker to create.</dd>\n</dl>\n\n<p id=\"open()\"></p><h3 id=\"open()_2\">open()</h3><p></p>\n\n<p>Opens the file dialog asynchrounously. The passed in object's done method will be called upon completion.</p>\n\n<pre class=\"eval\">void open(\n  in nsIFilePickerShownCallback aFilePickerShownCallback\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aFilePickerShownCallback</code></dt>\n <dd>The <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIFilePickerShownCallback\" title=\"\">nsIFilePickerShownCallback</a></code> to be called on completion.</dd>\n</dl>\n\n<p id=\"show()\"></p><div class=\"headingWithIndicator\">\n        <h3 id=\"show()_2\">show()</h3>\n        <span class=\"indicatorInHeadline obsolete obsoleteMethod\">Obsolete since Gecko 57.0 (Firefox 57.0 / Thunderbird 57.0 / SeaMonkey 2.54)</span>\n        </div><p></p>\n\n<p>Displays the file picker dialog. The dialog is displayed modally.</p>\n\n<pre class=\"eval\">short show();\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<p>None.</p>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>One of the <a class=\"internal\" href=\"#Return_value_constants\" title=\"Return value constants\">return constants</a>.</p>\n\n<h2 id=\"Example\" name=\"Example\">Example</h2>\n\n<p>Here's an example:</p>\n\n<pre class=\"brush: js\">const nsIFilePicker = Components.interfaces.nsIFilePicker;\n\nvar fp = Components.classes[\"@mozilla.org/filepicker;1\"]\n\t           .createInstance(nsIFilePicker);\nfp.init(window, \"Dialog Title\", nsIFilePicker.modeOpen);\nfp.appendFilters(nsIFilePicker.filterAll | nsIFilePicker.filterText);\nfp.open(function (rv) {\n  if (rv == nsIFilePicker.returnOK || rv == nsIFilePicker.returnReplace) {\n    var file = fp.file;\n    // Get the path as string. Note that you usually won't \n    // need to work with the string paths.\n    var path = fp.file.path;\n    // work with returned nsILocalFile...\n  }\n});\n</pre>\n\n<p>If your code is a component and <code>window</code> is not defined, you can get one using <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWindowMediator\" title=\"\">nsIWindowMediator</a></code>.</p>\n\n<p>When selecting multiple files:</p>\n\n<pre class=\"brush: js\">    ....\n    fp.init(window, \"Dialog Title\", nsIFilePicker.modeOpenMultiple);\n    ....\n\n    var files = fp.files;\n    var paths = [];\n    while (files.hasMoreElements()) \n    {\n        var arg = files.getNext().QueryInterface(Components.interfaces.nsILocalFile).path;\n        paths.push(arg);\n    }\n</pre>",
    "contributors": "<a href=\"https://developer.mozilla.org/en-US/profiles/wbamberg\">wbamberg</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot\">mdnwebdocs-bot</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Loirooriol\">Loirooriol</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Robhelmer\">Robhelmer</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Sheppy\">Sheppy</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/jukbot\">jukbot</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Brettz9\">Brettz9</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Oeekker\">Oeekker</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/trevorh\">trevorh</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/DavidAdler\">DavidAdler</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/LJR\">LJR</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Smi\">Smi</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Wjjohnst\">Wjjohnst</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/MarkFinkle\">MarkFinkle</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Piratepenguin\">Piratepenguin</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Jminta\">Jminta</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Nickolay\">Nickolay</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Ramachandra\">Ramachandra</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Ted_Mielczarek\">Ted_Mielczarek</a>",
    "title": "nsIFilePicker"
}