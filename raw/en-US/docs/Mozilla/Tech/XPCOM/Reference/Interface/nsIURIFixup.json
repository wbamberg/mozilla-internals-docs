{
    "content": "<p></p><div style=\"border: solid #ddd 2px; margin-bottom: 12px;\">\n<div style=\"background: #eee; padding: 2px;\"><code><a href=\"https://dxr.mozilla.org/mozilla-central/source/docshell/base/nsIURIFixup.idl\" rel=\"custom\">docshell/base/nsIURIFixup.idl</a></code><span style=\"text-align: right; float: right;\"><a href=\"/en-US/docs/Interfaces/About_Scriptable_Interfaces\" style=\"color: #00cc00; font-weight: 700;\">Scriptable</a></span></div>\n<span style=\"padding: 4px 2px;\">\n\nInterface implemented by objects capable of fixing up strings into URIs.\n</span>\n\n<div style=\"background: #eee; padding: 2px;\">\nInherits from: <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports\" title=\"\">nsISupports</a></code>\n<span style=\"text-align: right; float: right;\">Last changed in Gecko 9.0 (Firefox 9.0 / Thunderbird 9.0 / SeaMonkey 2.6)</span></div>\n</div><p></p>\n\n<p>Implemented by: <code>@mozilla.org/docshell/urifixup;1</code> as a service:</p>\n\n<pre class=\"eval\">var uriFixup = Components.classes[\"@mozilla.org/docshell/urifixup;1\"]\n               .createInstance(Components.interfaces.nsIURIFixup);\n</pre>\n\n<h2 id=\"Method_overview\" name=\"Method_overview\">Method overview</h2>\n\n<table class=\"standard-table\">\n <tbody>\n  <tr>\n   <td><code>nsIURI <a href=\"#createExposableURI()\">createExposableURI</a>(in nsIURI aURI);</code></td>\n  </tr>\n  <tr>\n   <td><code>nsIURI <a href=\"#createFixupURI()\">createFixupURI</a>(in AUTF8String aURIText, in unsigned long aFixupFlags);</code></td>\n  </tr>\n  <tr>\n   <td><code>nsIURI <a href=\"#keywordToURI()\">keywordToURI</a>(in AUTF8String aKeyword);</code> </td>\n  </tr>\n  <tr>\n   <td><code>nsIURIFixupInfo <a href=\"#getFixupURIInfo()\">getFixupURIInfo</a>(in AUTF8String aURIText, in unsigned long aFixupFlags);</code></td>\n  </tr>\n </tbody>\n</table>\n\n<h2 id=\"Constants\" name=\"Constants\">Constants</h2>\n\n<table class=\"standard-table\">\n <tbody>\n  <tr>\n   <td class=\"header\">Constant</td>\n   <td class=\"header\">Value</td>\n   <td class=\"header\">Description</td>\n  </tr>\n  <tr>\n   <td><code>FIXUP_FLAG_NONE</code></td>\n   <td><code>0</code></td>\n   <td>No fixup flags.</td>\n  </tr>\n  <tr>\n   <td><code>FIXUP_FLAG_ALLOW_KEYWORD_LOOKUP</code></td>\n   <td><code>1</code></td>\n   <td>Allow the fixup to use a keyword lookup service to complete the URI. The fixup object implementer should honour this flag and only perform any lengthy keyword (or search) operation if it is set.</td>\n  </tr>\n  <tr>\n   <td><code>FIXUP_FLAGS_MAKE_ALTERNATE_URI</code></td>\n   <td><code>2</code></td>\n   <td>Tell the fixup to make an alternate URI from the input URI, for example to turn foo into www.foo.com.</td>\n  </tr>\n  <tr>\n   <td><code>FIXUP_FLAG_USE_UTF8</code></td>\n   <td><code>4</code></td>\n   <td>Use UTF-8 to encode the URI instead of the platform character set. </td>\n  </tr>\n  <tr>\n   <td><code>FIXUP_FLAG_FIX_SCHEME_TYPOS</code></td>\n   <td><code>8</code></td>\n   <td>Fix common scheme typos.</td>\n  </tr>\n </tbody>\n</table>\n\n<h2 id=\"Methods\" name=\"Methods\">Methods</h2>\n\n<h3 id=\"createExposableURI()\" name=\"createExposableURI()\">createExposableURI()</h3>\n\n<p>Converts an internal URI (for example a WYSIWYG URI) into one which we can expose to the user, for example on the URL bar.</p>\n\n<pre class=\"eval\">nsIURI createExposableURI(\n  in nsIURI aURI\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aURI</code></dt>\n <dd>The URI to be converted.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>The converted, exposable URI, as an <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURI\" title=\"\">nsIURI</a></code>.</p>\n\n<h6 id=\"Exceptions_thrown\" name=\"Exceptions_thrown\">Exceptions thrown</h6>\n\n<dl>\n <dt><code>NS_ERROR_UNKNOWN_PROTOCOL</code></dt>\n <dd>When we can not get a protocol handler service for the URI scheme.</dd>\n <dt><code>NS_ERROR_MALFORMED_URI</code></dt>\n <dd>When the exposable portion of <code>aURI</code> is malformed.</dd>\n</dl>\n\n<h3 id=\"createFixupURI()\" name=\"createFixupURI()\">createFixupURI()</h3>\n\n<p>Converts the specified string into a URI, first attempting to correct any errors in the syntax or other vagaries. Returns a well formed URI or <code>nsnull</code> if it cannot.</p>\n\n<pre class=\"eval\">nsIURI createFixupURI(\n  in AUTF8String aURIText,\n  in unsigned long aFixupFlags\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aURIText</code></dt>\n <dd>Candidate URI.</dd>\n <dt><code>aFixupFlags</code></dt>\n <dd>Flags that govern ways the URI may be fixed up.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>The converted URI.</p>\n\n<p></p><h3 id=\"keywordToURI()\">keywordToURI()</h3><p></p>\n\n<p>Converts the specified keyword string into a URI. Note that it is the caller's responsibility to check whether keywords are enabled and whether <code>aKeyword</code> is a sensible keyword.</p>\n\n<pre class=\"eval\">nsIURI keywordToURI(\n  in AUTF8String aKeyword\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aKeyword</code></dt>\n <dd>The keyword to convert into a URI.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>The converted URI.</p>\n\n<h3 id=\"getFixupURIInfo()\" name=\"getFixupURIInfo()\">getFixupURIInfo()</h3>\n\n<p> Same as createFixupURI, but returns information about what it corrected (e.g. whether we could rescue the URI or \"just\" generated a keyword search URI instead).</p>\n\n<pre class=\"eval\">nsIURI createFixupURI(\n  in AUTF8String aURIText,\n  in unsigned long aFixupFlags\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>aURIText</code></dt>\n <dd>Candidate URI.</dd>\n <dt><code>aFixupFlags</code></dt>\n <dd>Flags that govern ways the URI may be fixed up.</dd>\n</dl>\n\n<h6 id=\"Return_value\" name=\"Return_value\">Return value</h6>\n\n<p>The information as an <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURIFixupInfo\" title=\"\">nsIURIFixupInfo</a></code></p>\n\n<h2 id=\"See_also\" name=\"See_also\">See also</h2>\n\n<ul>\n <li><code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIURI\" title=\"\">nsIURI</a></code></li>\n</ul>",
    "contributors": "<a href=\"https://developer.mozilla.org/en-US/profiles/wbamberg\">wbamberg</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot\">mdnwebdocs-bot</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/MKaply\">MKaply</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Sheppy\">Sheppy</a>",
    "title": "nsIURIFixup"
}