{
    "content": "<p></p><div style=\"border: solid #ddd 2px; margin-bottom: 12px;\">\n<div style=\"background: #eee; padding: 2px;\"><code><a href=\"https://dxr.mozilla.org/mozilla-central/source/js/xpconnect/idl/mozIJSSubScriptLoader.idl\" rel=\"custom\">js/xpconnect/idl/mozIJSSubScriptLoader.idl</a></code><span style=\"text-align: right; float: right;\"><a href=\"/en-US/docs/Interfaces/About_Scriptable_Interfaces\" style=\"color: #00cc00; font-weight: 700;\">Scriptable</a></span></div>\n<span style=\"padding: 4px 2px;\">\n\nThis interface can be used from privileged JavaScript to load and run JavaScript code from the given URL at runtime.\n</span>\n\n  <div style=\"height: 42px; position: relative; padding: 2px; width: auto;\">\n\n  <div style=\"top: 22px; font-size: 11px; position: absolute; left: 0px; text-align: right; float: right; width: 100%;\">66</div>\n  \n<div style=\"height: 8px; top: 16px; left: 0%; background: #00dd00; position: absolute; width: 100%;\" title=\"Introduced in Gecko 1.0 \"></div>\n\n<div style=\"top: 0px; font-size: 11px; position: absolute; left: 0%;\">Introduced</div>\n<div style=\"top: 22px; font-size: 11px; position: absolute; left: 0%;\">Gecko 1.0</div>\n\n    <div style=\"height: 8px; top: 16px; left: 45.214285714285715%; background: #eeee00; position: absolute; width: 1%; border-radius: 4px; -webkit-border-radius: 4px;\" title=\"Last changed in Gecko 28 (Firefox 28 / Thunderbird 28 / SeaMonkey 2.25 / Firefox OS 1.3)\"></div>\n    \n</div>\n\n<div style=\"background: #eee; padding: 2px;\">\nInherits from: <code><a href=\"/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports\" title=\"\">nsISupports</a></code>\n<span style=\"text-align: right; float: right;\">Last changed in Gecko 28 (Firefox 28 / Thunderbird 28 / SeaMonkey 2.25 / Firefox OS 1.3)</span></div>\n</div><p></p>\n\n<p>Implemented by: <code>@mozilla.org/moz/jssubscript-loader;1</code>. To get this service, use:</p>\n\n<pre class=\"eval\">var mozIJSSubScriptLoader = Components.classes[\"@mozilla.org/moz/jssubscript-loader;1\"]\n                            .getService(Components.interfaces.mozIJSSubScriptLoader);\n</pre>\n\n<div class=\"note\"><strong>Note:</strong> See <a class=\"internal\" href=\"/en/Components.utils.import\" title=\"En/Components.utils.import\"><code>Components.utils.import</code></a> for another way to import JavaScript code.</div>\n\n<h2 id=\"Method_overview\" name=\"Method_overview\">Method overview</h2>\n\n<table class=\"standard-table\">\n <tbody>\n  <tr>\n   <td><code>jsval <a href=\"#loadSubScript()\">loadSubScript</a>(in string url, in Object targetObj <span class=\"inlineIndicator optional optionalInline\">Optional</span>, in string charset </code><code><span class=\"inlineIndicator optional optionalInline\">Optional</span></code><code>)</code><code>;</code></td>\n  </tr>\n  <tr>\n   <td><code>jsval <a href=\"#loadSubScriptWithOptions()\">loadSubScriptWithOptions</a>(in string url, in Object options); </code></td>\n  </tr>\n </tbody>\n</table>\n\n<h2 id=\"Methods\" name=\"Methods\">Methods</h2>\n\n<h3 id=\"loadSubScript()\" name=\"loadSubScript()\">loadSubScript()</h3>\n\n<p>Synchronously loads and executes the script from the specified URL. As of Gecko 8.0, scripts are loaded from the startup cache where possible.</p>\n\n<p>The loaded script is executed with the principal associated with the target object.</p>\n\n<p>Any top-level functions or variables created by the loaded script via <code>var</code> are created as properties of the targetObj target object (but things declared via <code>let</code> and <code>const</code> are NOT). Additionally, properties of the targetObj target object can be referred to as variables in the loaded script.</p>\n\n<p>If the script returns a value, it will be returned by this method.</p>\n\n<p></p><div class=\"blockIndicator note\"><strong>Note:</strong> This method must only be called from JavaScript!</div><p></p>\n\n<pre class=\"eval\">jsval loadSubScript(\n  in string url,\n  in Object targetObj <span class=\"inlineIndicator optional optionalInline\">Optional</span>,\n  in string charset   <span class=\"inlineIndicator optional optionalInline\">Optional</span>, \n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Example</h6>\n\n<pre class=\"eval\">let context = {};\nServices.scriptloader.loadSubScript(\"chrome://my-package/content/foo-script.js\",\n                                    context, \"UTF-8\" /* The script's encoding */);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>url</code></dt>\n <dd>The URL pointing to the script to load. It <strong>must</strong> be a local <code>chrome:, resource: or file:</code> URL (see <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=307686\" title=\"jssubscript-loader does not want to load script that are not local\">bug 307686</a> and <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=418356\" title=\"FIXED: [FIX]It's unsafe to use mozIJSSubScriptLoader.loadSubScript() with non-chrome urls or chrome urls whose scheme/host part contain uppercase characters\">bug 418356</a>).\n <div class=\"note\">\n <p><strong>Note:</strong> In versions of Gecko prior to <span title=\"(Firefox 3)\">Gecko 1.9</span>, you could use <code>data:</code> URLs as well, but this introduced security concerns, and is no longer permitted.</p>\n </div>\n </dd>\n <dt><code>targetObj</code></dt>\n <dd>The object to use as the scope object for the script being executed. This is where <code>var</code> declarations in the script will be placed.  It defaults to the global object of the caller.  Note that <code>let</code> and <code>const</code> declarations in the script will be placed on a syntactic scope that is not an object at all, and will not be available to the caller of <code>loadSubScript</code>.  Note: Undeclared variables in the loaded script will be created as global variables in the caller (ie.: in the caller's global object). This object will be searched for variables that cannot be resolved in the subscript scope.</dd>\n</dl>\n\n<dl>\n <dt><code>charset</code> </dt>\n <dd>An optional string to specify the <a href=\"http://www.w3schools.com/tags/ref_charactersets.asp\" title=\"http://www.w3schools.com/tags/ref_charactersets.asp\">character encoding</a> of the file. If absent, the file is interpreted as ASCII.</dd>\n</dl>\n\n<p></p><h3 id=\"loadSubScriptWithOptions()\">loadSubScriptWithOptions()</h3><p></p>\n\n<p>Same as <code><a href=\"#loadSubScript()\">loadSubScript()</a></code>, except that parameters after <code>url</code> are expressed as an object, and a new <code>ignoreCache</code> option is available.</p>\n\n<p></p><div class=\"blockIndicator note\"><strong>Note:</strong> This method must only be called from JavaScript!</div><p></p>\n\n<pre class=\"eval\">jsval loadSubScriptWithOptions(\n  in string url,\n  in Object options\n);\n</pre>\n\n<h6 id=\"Parameters\" name=\"Parameters\">Parameters</h6>\n\n<dl>\n <dt><code>url</code></dt>\n <dd>The URL pointing to the script to load. It <strong>must</strong> be a local <code>chrome:, resource: or file:</code> URL.</dd>\n <dt><code>options</code></dt>\n <dd>An object that may include any of these parameters:\n <p> </p>\n\n <table class=\"standard-table\">\n  <tbody>\n   <tr>\n    <td class=\"header\">Property</td>\n    <td class=\"header\">Type</td>\n    <td class=\"header\">Description</td>\n   </tr>\n   <tr>\n    <td><code>target</code></td>\n    <td><code>object</code></td>\n    <td>The object to use as the scope object for the script being executed. It defaults to the global object of the caller. Note: Undeclared variables in the loaded script will be created as global variables in the caller (ie.: in the caller's global object). This object will be searched for variables that cannot be resolved in the subscript scope.</td>\n   </tr>\n   <tr>\n    <td><code>charset</code></td>\n    <td><code>string</code></td>\n    <td>An optional string to specify the <a href=\"http://www.w3schools.com/tags/ref_charactersets.asp\" title=\"http://www.w3schools.com/tags/ref_charactersets.asp\">character encoding</a> of the file. If absent, the file is interpreted as ASCII.</td>\n   </tr>\n   <tr>\n    <td><code>ignoreCache</code></td>\n    <td><code>boolean</code></td>\n    <td>If present and set to <code>true</code>, the cache will be bypassed when reading the file.</td>\n   </tr>\n  </tbody>\n </table>\n </dd>\n</dl>\n\n<h2 id=\"See_also\" name=\"See_also\">See also</h2>\n\n<ul>\n <li><a href=\"https://developer.mozilla.org/en-US/Add-ons/Overlay_Extensions/XUL_School/Appendix_D:_Loading_Scripts\" title=\"JavaScript/New in JavaScript/1.7#Block scope with let (Merge into let Statement)\">Appendix D: Loading Scripts</a></li>\n</ul>",
    "contributors": "<a href=\"https://developer.mozilla.org/en-US/profiles/wbamberg\">wbamberg</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot\">mdnwebdocs-bot</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/SphinxKnight\">SphinxKnight</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Mossop\">Mossop</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Bzbarsky\">Bzbarsky</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/myrdd\">myrdd</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/PikadudeNo1\">PikadudeNo1</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/jlongster\">jlongster</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Sheppy\">Sheppy</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/kscarfone\">kscarfone</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/kiteroa\">kiteroa</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/gal007\">gal007</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/tessarakt4\">tessarakt4</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/kmaglione\">kmaglione</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Marsf\">Marsf</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/satyr\">satyr</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/trevorh\">trevorh</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Brettz9\">Brettz9</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/vladimir.dzhuvinov\">vladimir.dzhuvinov</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/CrazyEyE\">CrazyEyE</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Varmaa\">Varmaa</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Aconbere\">Aconbere</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/MarkFinkle\">MarkFinkle</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Nickolay\">Nickolay</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/LouCypher\">LouCypher</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Cheba\">Cheba</a>, <a href=\"https://developer.mozilla.org/en-US/profiles/Briprowe\">Briprowe</a>",
    "title": "mozIJSSubScriptLoader"
}