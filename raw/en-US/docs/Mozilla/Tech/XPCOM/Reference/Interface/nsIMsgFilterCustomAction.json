{
    "content": "<p>Defined in <strong><a class=\" external\" href=\"http://mxr.mozilla.org/comm-central/source/\">comm-central</a>/ <a class=\" external\" href=\"http://mxr.mozilla.org/comm-central/source/mailnews/\">mailnews</a>/ <a class=\" external\" href=\"http://mxr.mozilla.org/comm-central/source/mailnews/base/\">base</a>/ <a class=\" external\" href=\"http://mxr.mozilla.org/comm-central/source/mailnews/base/search/\">search</a>/ <a class=\" external\" href=\"http://mxr.mozilla.org/comm-central/source/mailnews/base/search/public/\">public</a>/ <a class=\" external\" href=\"http://mxr.mozilla.org/comm-central/source/mailnews/base/search/public/nsIMsgFilterCustomAction.idl\">nsIMsgFilterCustomAction.idl</a> </strong></p>\n<pre>interface nsIMsgFilterCustomAction : nsISupports\n{\n  /* globally unique string to identify this filter action.\n   * recommended form: ExtensionName@example.com#ActionName\n   */\n  readonly attribute ACString id;\n\n  /* action name to display in action list. This should be localized. */\n  readonly attribute AString name;\n\n  /**\n   * Is this custom action valid for a particular filter type?\n   *\n   * @param type    the filter type\n   * @param scope   the search scope\n   *\n   * @return        true if valid\n   */\n  boolean isValidForType(in nsMsgFilterTypeType type, in nsMsgSearchScopeValue scope);\n\n  /**\n   * After the user inputs a particular action value for the action, determine\n   * if that value is valid.\n   *\n   * @param actionValue          The value entered.\n   * @param actionFolder         Folder in the filter list\n   * @param filterType           Filter Type (Manual, OfflineMail, etc.)\n   *\n   * @return errorMessage        A localized message to display if invalid\n   *                             Set to null if the actionValue is valid\n   */\n  AUTF8String validateActionValue(in AUTF8String actionValue,\n                                  in nsIMsgFolder actionFolder,\n                                  in nsMsgFilterTypeType filterType);\n\n  /* allow duplicate actions in the same filter list? Default No. */\n  attribute boolean allowDuplicates;\n\n  /*\n   * The custom action itself\n   *\n   * Generally for the apply method, folder-based methods give correct\n   * results and are preferred if available. Otherwise, be careful\n   * that the action does correct notifications to maintain counts, and correct\n   * manipulations of both IMAP and local non-database storage of message\n   * metadata.\n   */\n\n  /**\n   * Apply the custom action to an array of messages\n   *\n   * @param msgHdrs      array of <a title=\"nsIMsgDBHdr\">nsIMsgDBHdr</a> objects of messages\n   * @param actionValue  user-set value to use in the action\n   * @param copyListener calling method (filterType Manual only)\n   * @param filterType   type of filter being applied\n   * @param msgWindow    message window\n   */\n \n   void apply(in nsIArray msgHdrs /* nsIMsgDBHdr array */,\n              in AUTF8String actionValue,\n              in <a title=\"nsIMsgCopyServiceListener\">nsIMsgCopyServiceListener</a> copyListener,\n              in <a title=\"nsMsgFilterTypeType\">nsMsgFilterTypeType</a> filterType,\n              in <a title=\"nsIMsgWindow\">nsIMsgWindow</a> msgWindow);\n \n   /* does this action start an async action? If so, a copy listener must\n    * be used to continue filter processing after the action. This only\n    * applies to after-the-fact (manual) filters. Call OnStopCopy when done\n    * using the copyListener to continue.\n    */\n   readonly attribute boolean isAsync;\n \n   /// Does this action need the message body?\n   readonly attribute boolean needsBody;\n };\n</pre>",
    "contributors": "<a href=\"https://developer.mozilla.org/en-US/profiles/wbamberg\">wbamberg</a>",
    "title": "nsIMsgFilterCustomAction"
}