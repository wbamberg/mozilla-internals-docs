{
    "content": "<p>nsAutoRefTraits&lt;T&gt; is a template class describing traits of resources held by objects of class <a class=\"internal\" href=\"/En/NsAutoRef\" title=\"En/NsAutoRef\">nsAutoRef</a>&lt;T&gt; and/or nsCountedRef&lt;T&gt;.</p>\n<p>When the handle to the resource is a pointer to T the specialization may be derived from nsPointerRefTraits&lt;T&gt;, so that only definitions of the Release(T*) static method and possibly the AddRef(T*) static method need to be added. AddRef(T*) is necessary for nsCountedRef&lt;T&gt; but not for nsAutoRef&lt;T&gt;.</p>\n<p>For example:</p>\n<pre>  NS_SPECIALIZE_TEMPLATE\n  class nsAutoRefTraits&lt;PRFileDesc&gt; : public nsPointerRefTraits&lt;PRFileDesc&gt;\n  {\n  public:\n      static void Release(PRFileDesc *ptr) { PR_Close(ptr); }\n  };</pre>\n<p>or</p>\n<pre>  NS_SPECIALIZE_TEMPLATE\n  class nsAutoRefTraits&lt;FcPattern&gt; : public nsPointerRefTraits&lt;FcPattern&gt;\n  {\n  public:\n      static void Release(FcPattern *ptr) { FcPatternDestroy(ptr); }\n      static void AddRef(FcPattern *ptr) { FcPatternReference(ptr); }\n  };\n</pre>\n<p>nsAutoRefTraits is described in <code><a href=\"https://dxr.mozilla.org/mozilla-central/source/xpcom/base/nsAutoRef.h\" rel=\"custom\">xpcom/base/nsAutoRef.h</a></code>.</p>\n<h3 id=\"See_Also\">See Also</h3>\n<p><a class=\"internal\" href=\"/En/NsAutoRef\" title=\"En/NsAutoRef\">nsAutoRef</a>, <a class=\"internal\" href=\"/En/NsCountedRef\" title=\"En/NsCountedRef\">nsCountedRef</a>Â </p>",
    "contributors": "<a href=\"https://developer.mozilla.org/en-US/profiles/wbamberg\">wbamberg</a>",
    "title": "nsAutoRefTraits"
}