<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://code.cdn.mozilla.net/fonts/zilla-slab.css"/>
    <link rel="stylesheet" href="/css/page.css"/>
    <title>Implementation Details</title>
  </head>

  <body><div class="content-heading"><h1>Implementation Details</h1></div>
<div class="content">
<h2 id="Introduction">Introduction</h2>
<p>This article is a reference how Gecko implements AT APIs.</p>
<h2 id="AT_APIs_Supported_Features_Details" name="AT_APIs_Supported_Features_Details">Supported Features</h2>
<h3 id="Supported_Interfaces" name="Supported_Interfaces">Interfaces</h3>
<p style="margin: 0px 0px 1.7em; padding: 0px;">Refer to specific pages to get information of supported interfaces for interested AT API:</p>
<ul style="margin: 0px 0px 1.7em 25px; padding: 0px;"> <li style="margin-bottom: 0.25em;">Core: <a href="/en/Accessibility/AT-APIs/Gecko/Interfaces" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/Gecko/Interfaces">Gecko interfaces</a></li> <li style="margin-bottom: 0.25em;">Windows: <a href="/en/Accessibility/AT-APIs/MSAA/Interfaces" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/MSAA/Interfaces">MSAA</a>, <a href="/en/Accessibility/AT-APIs/IA2/Interfaces" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/IA2/Interfaces">IA2</a>, <a href="/en/Accessibility/AT-APIs/ImplementationFeatures/MSAA#Enhancing_Performance_on_the_Client_End_via_IEnumVARIANT" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/ImplementationFeatures/MSAA#Enhancing_Performance_on_the_Client_End_via_IEnumVARIANT">IEnumVARIANT</a> and <a href="/en/Accessibility/AT-APIs/ImplementationFeatures/MSAA#Additional_DOM_Support" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/ImplementationFeatures/MSAA#Additional_DOM_Support">ISimpleDOM* interfaces</a></li> <li style="margin-bottom: 0.25em;">Linux: <a href="/en/Accessibility/AT-APIs/AT-SPI/Interfaces" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/AT-SPI/Interfaces">AT-SPI</a></li>
</ul>
<h3 id="Supported_Roles" name="Supported_Roles">Roles</h3>
<p style="margin: 0px 0px 1.7em; padding: 0px;">Refer to specific pages to get information of supported roles for interested AT API:</p>
<ul style="margin: 0px 0px 1.7em 25px; padding: 0px;"> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/Gecko/Roles" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/Gecko/Roles">Gecko</a></li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/MSAA/Roles" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/MSAA/Roles">MSAA</a></li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/IA2/Roles" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/IA2/Roles">IA2</a></li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/AT-SPI/Roles" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/AT-SPI/Roles">AT-SPI</a></li>
</ul>
<h3 id="Supported_States" name="Supported_States">States</h3>
<p style="margin: 0px 0px 1.7em; padding: 0px;">Refer to specific pages to get information of supported states for interested AT API:</p>
<ul style="margin: 0px 0px 1.7em 25px; padding: 0px;"> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/Gecko/States" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/Gecko/States">Gecko</a></li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/MSAA/States" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/MSAA/States">MSAA</a></li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/IA2/States" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/IA2/States">IA2</a></li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/AT-SPI/States" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/AT-SPI/States">AT-SPI</a></li>
</ul>
<h3 id="Supported_Relations" name="Supported_Relations">Relations</h3>
<p style="margin: 0px 0px 1.7em; padding: 0px;">Refer to specific pages to get information of supported relations for interested AT API:</p>
<ul style="margin: 0px 0px 1.7em 25px; padding: 0px;"> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/Gecko/Relations" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/Gecko/Relations">Gecko</a></li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/MSAA/Relations" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/MSAA/Relations">MSAA</a></li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/IA2/Relations" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/IA2/Relations">IA2</a></li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/AT-SPI/Relations" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/AT-SPI/Relations">AT-SPI</a></li>
</ul>
<h3 id="Supported_Object_Attributes" name="Supported_Object_Attributes">Attributes</h3>
<h4 id="Object_Attributes">Object Attributes</h4>
<p style="margin: 0px 0px 1.7em; padding: 0px;">Refer to specific pages to get information of supported object attributes for interested AT API:</p>
<ul style="margin: 0px 0px 1.7em 25px; padding: 0px;"> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/Gecko/Attrs" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/Gecko/Attrs">Gecko</a></li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/MSAA/Attrs" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/MSAA/Attrs">MSAA</a></li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/IA2/Attrs" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/IA2/Attrs">IA2</a></li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/AT-SPI/Attrs" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/AT-SPI/Attrs">AT-SPI</a></li>
</ul>
<h4 id="Text_Attributes">Text Attributes</h4>
<p style="margin: 0px 0px 1.7em; padding: 0px;">Refer to specific pages to get information of supported text attributes for interested AT API:</p>
<ul style="margin: 0px 0px 1.7em 25px; padding: 0px;"> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/Gecko/TextAttrs" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/Gecko/TextAttrs">Gecko</a></li> <li style="margin-bottom: 0.25em;">MSAA - doesn't have a way to expose text attributes, use IA2</li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/IA2/TextAttrs" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/IA2/TextAttrs">IA2</a></li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/AT-SPI/TextAttrs" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/AT-SPI/TextAttrs">AT-SPI</a></li>
</ul>
<h4 id="Document_Attributes">Document Attributes</h4>
<p style="margin: 0px 0px 1.7em; padding: 0px;">Refer to specific pages to get information of supported document attributes for interested AT API:</p>
<ul style="margin: 0px 0px 1.7em 25px; padding: 0px;"> <li style="margin-bottom: 0.25em;">Gecko/MSAA/IA2 - document attributes are not exposed. Instead, the same information is available via the<a class="external" href="http://developer.mozilla.org/en/docs/Accessibility:AT-APIs:ImplementationFeatures:MSAA#ISimpleDOMDocument">ISimpleDOMDocument</a> interface.</li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/AT-SPI/DocAttrs" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/AT-SPI/DocAttrs">AT-SPI</a></li>
</ul>
<h3 id="Supported_Events" name="Supported_Events">Events</h3>
<p style="margin: 0px 0px 1.7em; padding: 0px;">Refer to specific pages to get information of supported events for interested AT API:</p>
<ul style="margin: 0px 0px 1.7em 25px; padding: 0px;"> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/Gecko/Events" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/Gecko/Events">Gecko</a></li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/MSAA/Events" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/MSAA/Events">MSAA</a></li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/IA2/Events" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/IA2/Events">IA2</a></li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/AT-SPI/Events" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/AT-SPI/Events">AT-SPI</a></li>
</ul>
<h2 id="Differences_With_Other_Applications" name="Differences_With_Other_Applications">Implementation Features</h2>
<p>This section highlights special features of AT APIs implementation by Gecko.</p>
<h3 id="Unsupported_Features">Unsupported Features</h3>
<p style="margin: 0px 0px 1.7em; padding: 0px;">We do not support some AT APIs features. Please refer to pages below for interesting AT API:</p>
<ul style="margin: 0px 0px 1.7em 25px; padding: 0px;"> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/NotSupportedFeatures/MSAA" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/NotSupportedFeatures/MSAA">MSAA</a></li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/NotSupportedFeatures/IA2" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/NotSupportedFeatures/IA2">IA2</a></li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/NotSupportedFeatures/AT-SPI" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/NotSupportedFeatures/AT-SPI">AT-SPI</a></li>
</ul>
<h3 id="Differences_With_Other_Applications_2">Differences With Other Applications</h3>
<p>This section provides information about implementation differences between Gecko based applications and other applications.</p>
<ul style="margin: 0px 0px 1.7em 25px; padding: 0px;"> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/Differences/MSAA" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/Differences/MSAA">MSAA</a></li> <li style="margin-bottom: 0.25em;">AT-SPI</li>
</ul>
<h3 id="How_to_Find_the_Content_Window_and_Load_the_Document">How to Find the Content Window and Load the Document</h3>
<p style="margin: 0px 0px 1.7em; padding: 0px;">In XUL-based clients, screen readers may need to find the content window so that they know where to start grabbing the accessible tree, in order to load the current document into a buffer in their own process. Refer to specific pages for interested AT API.</p>
<ul style="margin: 0px 0px 1.7em 25px; padding: 0px;"> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/MSAA/FindWindow" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/MSAA/FindWindow">MSAA/IAccessible2</a></li> <li style="margin-bottom: 0.25em;"><a href="/en/Accessibility/AT-APIs/AT-SPI/FindWindow" style="text-decoration: none; color: rgb(4, 137, 183) ! important; cursor: default;" title="en/Accessibility/AT-APIs/AT-SPI/FindWindow">AT-SPI</a></li>
</ul>
<h3 id="Avoiding_Memory_Leaks" name="Avoiding_Memory_Leaks">Avoiding Memory Leaks</h3>
<p style="margin: 0px 0px 1.7em; padding: 0px;">It is the assistive technology's responsibility to watch for events that indicate when windows or content subtrees are being destroyed, and to release all Accessible objects related to that window. In addition, STATE_DEFUNCT is set on objects that should be released by the assistive technology. Mutation events should be watched to invalidate the cache.</p>
<ul style="margin: 0px 0px 1.7em 25px; padding: 0px;"> <li style="margin-bottom: 0.25em;">Under MSAA/IA2, watch for EVENT_HIDE</li> <li style="margin-bottom: 0.25em;">Under ATK/AT-SPI, watch for children-changed:remove</li>
</ul>
<p style="margin: 0px 0px 1.7em; padding: 0px;">To help developers in that regard, there is <a class="link-https" href="https://addons.mozilla.org/firefox/2490/">Memory Leak monitor, a Firefox extension</a>.</p></div><div id="footer"><hr/><p>This page was originally written for <a href="https://developer.mozilla.org">developer.mozilla.org</a> and is used here under the <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike license</a> (CC-BY-SA).</p>
<p>Original contributors to this page: <a href="https://developer.mozilla.org/en-US/profiles/wbamberg">wbamberg</a>, <a href="https://developer.mozilla.org/en-US/profiles/ExE-Boss">ExE-Boss</a>, <a href="https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot">mdnwebdocs-bot</a>, <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>, <a href="https://developer.mozilla.org/en-US/profiles/Surkov.alexander">Surkov.alexander</a>.</p></div></body>
</html>
