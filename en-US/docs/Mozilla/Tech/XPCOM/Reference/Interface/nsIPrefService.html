<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://code.cdn.mozilla.net/fonts/zilla-slab.css"/>
    <link rel="stylesheet" href="/css/page.css"/>
    <title>nsIPrefService</title>
  </head>

  <body><nav class="breadcrumbs"><a href="../../../../../Mozilla.html">Mozilla</a>&raquo;<a href="../../../../Tech.html">Tech</a>&raquo;<a href="../../../XPCOM.html">XPCOM</a>&raquo;<a href="../../Reference.html">Reference</a>&raquo;<a href="../Interface.html">Interface</a></nav><div class="content-heading"><h1>nsIPrefService</h1></div>
<div class="content"><p>
</p>
<div style="border: solid #ddd 2px; margin-bottom: 12px;">
 <div style="background: #eee; padding: 2px;">
  <code>
   <a href="https://dxr.mozilla.org/mozilla-central/source/modules/libpref/public/nsIPrefService.idl" rel="custom">
    modules/libpref/public/nsIPrefService.idl
   </a>
  </code>
  <span style="text-align: right; float: right;">
   <a href="https://developer.mozilla.org/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">
    Scriptable
   </a>
  </span>
 </div>
 <span style="padding: 4px 2px;">
  This interface is the main entry point into the back end preferences management library. The preference service is directly responsible for the management of the preferences files and also facilitates access to the preference branch object which allows the direct manipulation of the preferences themselves.
 </span>
 <div style="background: #eee; padding: 2px;">
  Inherits from:
  <code>
   <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">
    nsISupports
   </a>
  </code>
  <span style="text-align: right; float: right;">
   Last changed in Gecko 1.7
  </span>
 </div>
</div>
<p>
</p>
<h2 id="Method_overview" name="Method_overview">
 Method overview
</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td>
    <code>
     <code>
      <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPrefBranch" title="">
       nsIPrefBranch
      </a>
     </code>
     <a href="#getBranch()">
      getBranch
     </a>
     (in string aPrefRoot);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     <code>
      <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPrefBranch" title="">
       nsIPrefBranch
      </a>
     </code>
     <a href="#getDefaultBranch()">
      getDefaultBranch
     </a>
     (in string aPrefRoot);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#readUserPrefs()">
      readUserPrefs
     </a>
     (in nsIFile aFile);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#resetPrefs()">
      resetPrefs
     </a>
     ();
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#resetUserPrefs()">
      resetUserPrefs
     </a>
     ();
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#savePrefFile()">
      savePrefFile
     </a>
     (in nsIFile aFile);
    </code>
   </td>
  </tr>
 </tbody>
</table>
<h2 id="Methods" name="Methods">
 Methods
</h2>
<h3 id="getBranch()" name="getBranch()">
 getBranch()
</h3>
<p>
 Call to get a Preferences "Branch" which accesses user preference data. Using a Set method on this object will always create or set a user preference value. When using a Get method a user set value will be returned if one exists, otherwise a default value will be returned.
</p>
<pre class="eval">nsIPrefBranch getBranch(
  in string aPrefRoot
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aPrefRoot
  </code>
 </dt>
 <dd>
  The preference root tree on which to base this
  <em>
   branch
  </em>
  . For example, if the root
  <code>
   browser.startup.
  </code>
  is used, the branch will be able to easily access the preferences
  <code>
   browser.startup.page
  </code>
  ,
  <code>
   browser.startup.homepage
  </code>
  , and
  <code>
   browser.startup.homepage_override
  </code>
  by simply requesting
  <code>
   page
  </code>
  ,
  <code>
   homepage
  </code>
  , or
  <code>
   homepage_override
  </code>
  .
  <code>
   nsnull
  </code>
  or "" (empty string) may be used to access to the entire preference tree.
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPrefBranch" title="">
   nsIPrefBranch
  </a>
 </code>
 - The object representing the requested branch.
</p>
<h3 id="getDefaultBranch()" name="getDefaultBranch()">
 getDefaultBranch()
</h3>
<p>
 Call to get a Preferences branch which accesses only the default preference data. Using a Set method on this object will always create or set a default preference value. When using a Get method a default value will always be returned.
</p>
<p>
</p>
<div class="blockIndicator note">
 <strong>
  Note:
 </strong>
 Few consumers will want to create default branch objects. Many of the branch methods do nothing on a default branch because the operations only make sense when applied to user set preferences.
</div>
<p>
</p>
<pre class="eval">nsIPrefBranch getDefaultBranch(
  in string aPrefRoot
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aPrefRoot
  </code>
 </dt>
 <dd>
  The preference root tree on which to base this
  <em>
   branch
  </em>
  . For example, if the root
  <code>
   browser.startup.
  </code>
  is used, the branch will be able to easily access the preferences
  <code>
   browser.startup.page
  </code>
  ,
  <code>
   browser.startup.homepage
  </code>
  , and
  <code>
   browser.startup.homepage_override
  </code>
  by simply requesting
  <code>
   page
  </code>
  ,
  <code>
   homepage
  </code>
  , or
  <code>
   homepage_override
  </code>
  .
  <code>
   nsnull
  </code>
  or "" (empty string) may be used to access to the entire preference tree.
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPrefBranch" title="">
   nsIPrefBranch
  </a>
 </code>
 - The object representing the requested default branch.
</p>
<h3 id="readUserPrefs()" name="readUserPrefs()">
 readUserPrefs()
</h3>
<p>
 Called to read in the preferences specified in a user preference file.
</p>
<p>
</p>
<div class="blockIndicator note">
 <strong>
  Note:
 </strong>
 If
 <code>
  nsnull
 </code>
 is passed in for the
 <code>
  aFile
 </code>
 parameter the default preferences file(s) [prefs.js, user.js] will be read and processed.
</div>
<p>
</p>
<pre class="eval">void readUserPrefs(
  in nsIFile aFile
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aFile
  </code>
 </dt>
 <dd>
  The file to be read.
 </dd>
</dl>
<h3 id="resetPrefs()" name="resetPrefs()">
 resetPrefs()
</h3>
<p>
 Called to completely flush and re-initialize the preferences system.
</p>
<pre class="eval">void resetPrefs();
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<p>
 None.
</p>
<h3 id="resetUserPrefs()" name="resetUserPrefs()">
 resetUserPrefs()
</h3>
<p>
 Called to reset all preferences with user set values back to the application default values.
</p>
<pre class="eval">void resetUserPrefs();
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<p>
 None.
</p>
<h3 id="savePrefFile()" name="savePrefFile()">
 savePrefFile()
</h3>
<p>
 Called to write current preferences state to a file.
</p>
<p>
</p>
<div class="blockIndicator note">
 <strong>
  Note:
 </strong>
 If nsnull is passed in for the aFile parameter the preference data is written out to the current preferences file (usually prefs.js.)
</div>
<p>
</p>
<pre class="eval">void savePrefFile(
  in nsIFile aFile
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aFile
  </code>
 </dt>
 <dd>
  The file to be written.
 </dd>
</dl>
<h2 id="See also" name="See also">
 <a>
  See also
 </a>
</h2>
<ul>
 <li>
  <code>
   <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPrefBranch" title="">
    nsIPrefBranch
   </a>
  </code>
 </li>
</ul></div><div id="footer"><hr/><p>This page was originally written for <a href="https://developer.mozilla.org">developer.mozilla.org</a> and is used here under the <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike license</a> (CC-BY-SA).</p>
<p>Original contributors to this page: <a href="https://developer.mozilla.org/en-US/profiles/wbamberg">wbamberg</a>, <a href="https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot">mdnwebdocs-bot</a>, <a href="https://developer.mozilla.org/en-US/profiles/ato">ato</a>, <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>, <a href="https://developer.mozilla.org/en-US/profiles/mnoorenberghe">mnoorenberghe</a>, <a href="https://developer.mozilla.org/en-US/profiles/Wjjohnst">Wjjohnst</a>, <a href="https://developer.mozilla.org/en-US/profiles/trevorh">trevorh</a>, <a href="https://developer.mozilla.org/en-US/profiles/yecril71pl">yecril71pl</a>, <a href="https://developer.mozilla.org/en-US/profiles/Kglee">Kglee</a>.</p></div></body>
</html>
