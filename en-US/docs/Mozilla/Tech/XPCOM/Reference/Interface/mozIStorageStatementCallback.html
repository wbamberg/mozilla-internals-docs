<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://code.cdn.mozilla.net/fonts/zilla-slab.css"/>
    <link rel="stylesheet" href="/css/page.css"/>
    <title>mozIStorageStatementCallback</title>
  </head>

  <body><nav class="breadcrumbs"><a href="../../../../../Mozilla.html">Mozilla</a>&raquo;<a href="../../../../Tech.html">Tech</a>&raquo;<a href="../../../XPCOM.html">XPCOM</a>&raquo;<a href="../../Reference.html">Reference</a>&raquo;<a href="../Interface.html">Interface</a></nav><div class="content-heading"><h1>mozIStorageStatementCallback</h1></div>
<div class="content"><p>
</p>
<p>
 The
 <code>
  mozIStorageStatementCallback
 </code>
 interface represents a callback handler that the
 <a class="internal" href="/en-US/docs/Mozilla/Tech/XPCOM/Storage" title="En/Storage">
  Storage API
 </a>
 calls with result, error, and completion notifications while handling asynchronous database queries.
</p>
<p>
</p>
<div style="border: solid #ddd 2px; margin-bottom: 12px;">
 <div style="background: #eee; padding: 2px;">
  <code>
   <a href="https://dxr.mozilla.org/mozilla-central/source/storage/public/mozIStorageStatementCallback.idl" rel="custom">
    storage/public/mozIStorageStatementCallback.idl
   </a>
  </code>
  <span style="text-align: right; float: right;">
   <a href="https://developer.mozilla.org/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">
    Scriptable
   </a>
  </span>
 </div>
 <span style="padding: 4px 2px;">
  <i>
   Please add a summary to this article.
  </i>
 </span>
 <div style="background: #eee; padding: 2px;">
  <span>
  </span>
  <span style="text-align: right; float: right;">
   Last changed in Gecko 1.9.1 (Firefox 3.5 / Thunderbird 3.0 / SeaMonkey 2.0)
  </span>
 </div>
</div>
<p>
</p>
<p>
 Inherits from:
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">
   nsISupports
  </a>
 </code>
</p>
<h2 id="Method_overview" name="Method_overview">
 Method overview
</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td>
    <code>
     void handleCompletion(in unsigned short aReason);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void handleError(in
     <code>
      <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/mozIStorageError" title="">
       mozIStorageError
      </a>
     </code>
     aError);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void handleResult(in
     <code>
      <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/mozIStorageResultSet" title="">
       mozIStorageResultSet
      </a>
     </code>
     aResultSet);
    </code>
   </td>
  </tr>
 </tbody>
</table>
<p>
</p>
<h2 id="Constants">
 Constants
</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">
    Constant
   </td>
   <td class="header">
    Value
   </td>
   <td class="header">
    Description
   </td>
  </tr>
  <tr>
   <td>
    <code>
     REASON_FINISHED
    </code>
   </td>
   <td>
    0
   </td>
   <td>
    The statement has finished executing normally.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     REASON_CANCELED
    </code>
   </td>
   <td>
    1
   </td>
   <td>
    The statement stopped executing because it was canceled.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     REASON_ERROR
    </code>
   </td>
   <td>
    2
   </td>
   <td>
    The statement stopped executing because an error occurred.
   </td>
  </tr>
 </tbody>
</table>
<h2 id="Methods" name="Methods">
 Methods
</h2>
<h3 id="eatCookie.28.29" name="eatCookie.28.29">
 handleCompletion()
</h3>
<p>
 Called when a statement finishes executing.
</p>
<pre class="eval"> void handleCompletion(
   in unsigned short aReason
 );
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aReason
  </code>
 </dt>
 <dd>
  The reason the statement stopped executing; see the list of possible values in the
  <a href="#Constants">
   Constants
  </a>
  section.
 </dd>
</dl>
<h3 id="eatCookie.28.29" name="eatCookie.28.29">
 handleError()
</h3>
<p>
 Called when an error occurs while executing a statement. This function may be called more than once with a different storageIError each time for any given asynchronous statement, and handleCompletion will be called once the statement is complete.
</p>
<pre class="eval"> void handleError(
   in mozIStorageError aError
 );
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aError
  </code>
 </dt>
 <dd>
  A
  <code>
   <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/mozIStorageError" title="">
    mozIStorageError
   </a>
  </code>
  object describing the error that occurred.
 </dd>
</dl>
<h3 id="eatCookie.28.29" name="eatCookie.28.29">
 handleResult()
</h3>
<p>
 Called when results from the statement are available. Generally, this method will be called several times, each time providing one or more results. Once there are no more results, handleCompletion will be called.
</p>
<pre class="eval"> void handleResult(
   in mozIStorageResultSet aResultSet
 );
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aResultSet
  </code>
 </dt>
 <dd>
  An
  <code>
   <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/mozIStorageResultSet" title="">
    mozIStorageResultSet
   </a>
  </code>
  object describing the available results from the statement's execution.
 </dd>
</dl>
<h2 id="See_also">
 See also
</h2>
<ul>
 <li>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Storage">
   Storage
  </a>
 </li>
 <li>
  <code>
   <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/mozIStorageStatement" title="">
    mozIStorageStatement
   </a>
  </code>
 </li>
</ul></div><div id="footer"><hr/><p>This page was originally written for <a href="https://developer.mozilla.org">developer.mozilla.org</a> and is used here under the <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike license</a> (CC-BY-SA).</p>
<p>Original contributors to this page: <a href="https://developer.mozilla.org/en-US/profiles/wbamberg">wbamberg</a>.</p></div></body>
</html>
