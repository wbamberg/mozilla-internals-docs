<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://code.cdn.mozilla.net/fonts/zilla-slab.css"/>
    <link rel="stylesheet" href="/css/page.css"/>
    <title>nsITransactionListener</title>
  </head>

  <body><div class="content-heading"><h1>nsITransactionListener</h1></div>
<div class="content"><p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/editor/txmgr/idl/nsITransactionListener.idl" rel="custom">editor/txmgr/idl/nsITransactionListener.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

This interface is implemented by an object that tracks transactions.
</span>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 1.7 </span></div>
</div><p></p>
<h2 id="Method_overview" name="Method_overview">Method overview</h2>
<table class="standard-table"> <tbody> <tr> <td><code>void <a href="#didBeginBatch()">didBeginBatch</a>(in nsITransactionManager aManager, in nsresult aResult);</code></td> </tr> <tr> <td><code>void <a href="#didDo()">didDo</a>(in nsITransactionManager aManager, in nsITransaction aTransaction, in nsresult aDoResult);</code></td> </tr> <tr> <td><code>void <a href="#didEndBatch()">didEndBatch</a>(in nsITransactionManager aManager, in nsresult aResult);</code></td> </tr> <tr> <td><code>void <a href="#didMerge()">didMerge</a>(in nsITransactionManager aManager, in nsITransaction aTopTransaction, in nsITransaction aTransactionToMerge, in boolean aDidMerge, in nsresult aMergeResult);</code></td> </tr> <tr> <td><code>void <a href="#didRedo()">didRedo</a>(in nsITransactionManager aManager, in nsITransaction aTransaction, in nsresult aRedoResult);</code></td> </tr> <tr> <td><code>void <a href="#didUndo()">didUndo</a>(in nsITransactionManager aManager, in nsITransaction aTransaction, in nsresult aUndoResult);</code></td> </tr> <tr> <td><code>boolean <a href="#willBeginBatch()">willBeginBatch</a>(in nsITransactionManager aManager);</code></td> </tr> <tr> <td><code>boolean <a href="#willDo()">willDo</a>(in nsITransactionManager aManager, in nsITransaction aTransaction);</code></td> </tr> <tr> <td><code>boolean <a href="#willEndBatch()">willEndBatch</a>(in nsITransactionManager aManager);</code></td> </tr> <tr> <td><code>boolean <a href="#willMerge()">willMerge</a>(in nsITransactionManager aManager, in nsITransaction aTopTransaction, in nsITransaction aTransactionToMerge);</code></td> </tr> <tr> <td><code>boolean <a href="#willRedo()">willRedo</a>(in nsITransactionManager aManager, in nsITransaction aTransaction);</code></td> </tr> <tr> <td><code>boolean <a href="#willUndo()">willUndo</a>(in nsITransactionManager aManager, in nsITransaction aTransaction);</code></td> </tr> </tbody>
</table>
<h2 id="Methods" name="Methods">Methods</h2>
<h3 id="didBeginBatch()" name="didBeginBatch()">didBeginBatch()</h3>
<p>Called after a <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> begins a batch.</p>
<pre class="brush: cpp">void didBeginBatch(
  in nsITransactionManager aManager,
  in nsresult aResult
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>aManager</code></dt> <dd>The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> that began a batch.</dd> <dt><code>aResult</code></dt> <dd>The nsresult returned after beginning a batch.</dd>
</dl><h3 id="didDo()" name="didDo()">didDo()</h3>
<p>Called after a <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> calls the <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsITransaction#doTransaction()">nsITransaction.doTransaction()</a></code> method of a transaction.</p>
<pre class="brush: cpp">void didDo(
  in nsITransactionManager aManager,
  in nsITransaction aTransaction,
  in nsresult aDoResult
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>aManager</code></dt> <dd>The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> that did the transaction.</dd> <dt><code>aTransaction</code></dt> <dd>The transaction that was executed.</dd> <dt><code>aDoResult</code></dt> <dd>The nsresult returned after executing the transaction.</dd>
</dl>
<h3 id="didEndBatch()" name="didEndBatch()">didEndBatch()</h3>
<p>Called after a <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> ends a batch.</p>
<pre class="brush: cpp">void didEndBatch(
  in nsITransactionManager aManager,
  in nsresult aResult
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>aManager</code></dt> <dd>The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> ending a batch.</dd> <dt><code>aResult</code></dt> <dd>The nsresult returned after ending a batch.</dd>
</dl>
<h3 id="didMerge()" name="didMerge()">didMerge()</h3>
<p>Called after a <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> tries to merge a transaction, that was just executed, with the transaction at the top of the undo stack.</p>
<pre class="brush: cpp">void didMerge(
  in nsITransactionManager aManager,
  in nsITransaction aTopTransaction,
  in nsITransaction aTransactionToMerge,
  in boolean aDidMerge,
  in nsresult aMergeResult
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>aManager</code></dt> <dd>The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> ending a batch.</dd> <dt><code>aTopTransaction</code></dt> <dd>The transaction at the top of the undo stack.</dd> <dt><code>aTransactionToMerge</code></dt> <dd>The transaction to merge.</dd> <dt><code>aDidMerge</code></dt> <dd><code>true</code> if transaction was merged, else <code>false</code>.</dd> <dt><code>aMergeResult</code></dt> <dd>The nsresult returned after the merge attempt.</dd>
</dl>
<h3 id="didRedo()" name="didRedo()">didRedo()</h3>
<p>Called after a <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> calls the <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsITransaction#Redo()">nsITransaction.Redo()</a></code> method of a transaction.</p>
<pre class="brush: cpp">void didRedo(
  in nsITransactionManager aManager,
  in nsITransaction aTransaction,
  in nsresult aRedoResult
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>aManager</code></dt> <dd>The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> redoing the transaction.</dd> <dt><code>aTransaction</code></dt> <dd>The transaction being redone.</dd> <dt><code>aRedoResult</code></dt> <dd>The nsresult returned after redoing the transaction.</dd>
</dl>
<h3 id="didUndo()" name="didUndo()">didUndo()</h3>
<p>Called after a <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> calls the <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsITransaction#Undo()">nsITransaction.Undo()</a></code> method of a transaction.</p>
<pre class="brush: cpp">void didUndo(
  in nsITransactionManager aManager,
  in nsITransaction aTransaction,
  in nsresult aUndoResult
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>aManager</code></dt> <dd>The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> undoing the transaction.</dd> <dt><code>aTransaction</code></dt> <dd>The transaction being undone.</dd> <dt><code>aUndoResult</code></dt> <dd>The nsresult returned after undoing the transaction.</dd>
</dl>
<h3 id="willBeginBatch()" name="willBeginBatch()">willBeginBatch()</h3>
<p>Called before a <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> begins a batch.</p>
<pre class="brush: cpp">boolean willBeginBatch(
  in nsITransactionManager aManager
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>aManager</code></dt> <dd>The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> beginning a batch.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>Â </p>
<h3 id="willDo()" name="willDo()">willDo()</h3>
<p>Called before a <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> calls a transaction's <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsITransaction#doTransaction()">nsITransaction.doTransaction()</a></code> method.</p>
<pre class="brush: cpp">boolean willDo(
  in nsITransactionManager aManager,
  in nsITransaction aTransaction
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>aManager</code></dt> <dd>The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> doing the transaction.</dd> <dt><code>aTransaction</code></dt> <dd>The transaction being executed.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>Â </p>
<h3 id="willEndBatch()" name="willEndBatch()">willEndBatch()</h3>
<p>Called before a <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> ends a batch.</p>
<pre class="brush: cpp">boolean willEndBatch(
  in nsITransactionManager aManager
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>aManager</code></dt> <dd>The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> ending a batch.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>Â </p>
<h3 id="willMerge()" name="willMerge()">willMerge()</h3>
<p>Called before a <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> tries to merge a transaction, that was just executed, with the transaction at the top of the undo stack.</p>
<pre class="brush: cpp">boolean willMerge(
  in nsITransactionManager aManager,
  in nsITransaction aTopTransaction,
  in nsITransaction aTransactionToMerge
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>aManager</code></dt> <dd>The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> ending a batch.</dd> <dt><code>aTopTransaction</code></dt> <dd>The transaction at the top of the undo stack.</dd> <dt><code>aTransactionToMerge</code></dt> <dd>The transaction to merge.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>Â </p>
<h3 id="willRedo()" name="willRedo()">willRedo()</h3>
<p>Called before a <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> calls the <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsITransaction#Redo()">nsITransaction.Redo()</a></code> method of a transaction.</p>
<pre class="brush: cpp">boolean willRedo(
  in nsITransactionManager aManager,
  in nsITransaction aTransaction
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>aManager</code></dt> <dd>The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> redoing the transaction.</dd> <dt><code>aTransaction</code></dt> <dd>The transaction being redone.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>Â </p>
<h3 id="willUndo()" name="willUndo()">willUndo()</h3>
<p>Called before a <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> calls the <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsITransaction#Undo()">nsITransaction.Undo()</a></code> method of a transaction.</p>
<pre class="brush: cpp">boolean willUndo(
  in nsITransactionManager aManager,
  in nsITransaction aTransaction
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl> <dt><code>aManager</code></dt> <dd>The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code> undoing the transaction.</dd> <dt><code>aTransaction</code></dt> <dd>The transaction being undone.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>Â </p>
<h2 id="See_also" name="See_also">See also</h2>
<ul> <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransaction" title="">nsITransaction</a></code></li> <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionList" title="">nsITransactionList</a></code></li> <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITransactionManager" title="">nsITransactionManager</a></code></li>
</ul></div><div id="footer"><hr/><p>This page was originally written for <a href="https://developer.mozilla.org">developer.mozilla.org</a> and is used here under the <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike license</a> (CC-BY-SA).</p>
<p>Original contributors to this page: <a href="https://developer.mozilla.org/en-US/profiles/wbamberg">wbamberg</a>, <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>, <a href="https://developer.mozilla.org/en-US/profiles/syssgx">syssgx</a>, <a href="https://developer.mozilla.org/en-US/profiles/trevorh">trevorh</a>.</p></div></body>
</html>
