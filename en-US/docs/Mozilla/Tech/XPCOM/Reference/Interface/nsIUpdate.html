<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://code.cdn.mozilla.net/fonts/zilla-slab.css"/>
    <link rel="stylesheet" href="/css/page.css"/>
    <title>nsIUpdate</title>
  </head>

  <body><nav class="breadcrumbs"><a href="../../../../../Mozilla.html">Mozilla</a>&raquo;<a href="../../../../Tech.html">Tech</a>&raquo;<a href="../../../XPCOM.html">XPCOM</a>&raquo;<a href="../../Reference.html">Reference</a>&raquo;<a href="../Interface.html">Interface</a></nav><div class="content-heading"><h1>nsIUpdate</h1></div>
<div class="content"><p>
</p>
<div style="border: solid #ddd 2px; margin-bottom: 12px;">
 <div style="background: #eee; padding: 2px;">
  <code>
   <a href="https://dxr.mozilla.org/mozilla-central/source/toolkit/mozapps/update/nsIUpdateService.idl" rel="custom">
    toolkit/mozapps/update/nsIUpdateService.idl
   </a>
  </code>
  <span style="text-align: right; float: right;">
   <a href="https://developer.mozilla.org/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">
    Scriptable
   </a>
  </span>
 </div>
 <span style="padding: 4px 2px;">
  An interface that describes an object representing an available update to the current application - this update may have several available patches from which one must be selected to download and install, for example we might select a binary difference patch first and attempt to apply that, then if the application process fails fall back to downloading a complete file-replace patch. This object also contains information about the update that the front end and other application services can use to learn more about what is going on.
 </span>
 <div style="height: 42px; position: relative; padding: 2px; width: auto;">
  <div style="top: 22px; font-size: 11px; position: absolute;">
   1.0
  </div>
  <div style="top: 22px; font-size: 11px; position: absolute; left: 0px; text-align: right; float: right; width: 100%;">
   66
  </div>
  <div style="height: 8px; top: 16px; background: #dd0000; left: 0px; position: absolute; width: 5.714285714285714%;">
  </div>
  <div style="height: 8px; top: 16px; left: 5.714285714285714%; background: #00dd00; position: absolute; width: 94.28571428571429%;" title="Introduced in Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">
  </div>
  <div style="top: 0px; font-size: 11px; position: absolute; left: 5.714285714285714%;">
   Introduced
  </div>
  <div style="top: 22px; font-size: 11px; position: absolute; left: 5.714285714285714%;">
   Gecko 1.8
  </div>
  <div style="height: 8px; top: 16px; left: 10.928571428571429%; background: #eeee00; position: absolute; width: 1%; border-radius: 4px; -webkit-border-radius: 4px;" title="Last changed in Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">
  </div>
 </div>
 <div style="background: #eee; padding: 2px;">
  Inherits from:
  <code>
   <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">
    nsISupports
   </a>
  </code>
  <span style="text-align: right; float: right;">
   Last changed in Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)
  </span>
 </div>
</div>
<p>
</p>
<h2 id="Method_overview" name="Method_overview">
 Method overview
</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td>
    <code>
     nsIUpdatePatch
     <a href="#getPatchAt()">
      getPatchAt
     </a>
     (in unsigned long index);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     nsIDOMElement
     <a href="#serialize()">
      serialize
     </a>
     (in nsIDOMDocument updates);
    </code>
   </td>
  </tr>
 </tbody>
</table>
<h2 id="Attributes" name="Attributes">
 Attributes
</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">
    Attribute
   </td>
   <td class="header">
    Type
   </td>
   <td class="header">
    Description
   </td>
  </tr>
  <tr>
   <td>
    <code>
     appVersion
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/AString" title="en/AString">
      AString
     </a>
    </code>
   </td>
   <td>
    The Application
    <code>
     version
    </code>
    of this update.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     billboardURL
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/AString" title="en/AString">
      AString
     </a>
    </code>
   </td>
   <td>
    The URL to a page that is typically localized to display in the update prompt.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     buildID
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/AString" title="en/AString">
      AString
     </a>
    </code>
   </td>
   <td>
    The build ID of this update. This is used to identify a particular build, down to the hour, minute, and second of its creation. This lets the system differentiate between several nightly builds with the same
    <code>
     version
    </code>
    , for example.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     channel
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/AString" title="en/AString">
      AString
     </a>
    </code>
   </td>
   <td>
    The channel used to retrieve this update from the update service.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     detailsURL
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/AString" title="en/AString">
      AString
     </a>
    </code>
   </td>
   <td>
    The URL to a page which offers details about the content of this update. Ideally, this page is not the release notes but some other page that summarizes the differences between this update and the previous, which also links to the release notes.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     displayVersion
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/AString" title="en/AString">
      AString
     </a>
    </code>
   </td>
   <td>
    The string to display in the user interface for the
    <code>
     version
    </code>
    . If you want a real
    <code>
     version
    </code>
    number use
    <code>
     appVersion
    </code>
    .
   </td>
  </tr>
  <tr>
   <td>
    <code>
     errorCode
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/long" title="en/long">
      long
     </a>
    </code>
   </td>
   <td>
    A numeric error code that conveys additional information about the state of a failed update or failed certificate attribute check during an update check. If the update is not in the "failed" state, this value is zero.
    <dl>
     <dt>
      <code>
       OK
      </code>
      (0)
     </dt>
     <dd>
      No error.
     </dd>
     <dt>
      <code>
       MEM_ERROR
      </code>
      (1)
     </dt>
     <dd>
      A memory error occurred.
     </dd>
     <dt>
      <code>
       USAGE_ERROR
      </code>
      (3)
     </dt>
     <dd>
      A usage error occurred;
      <em>
       this needs to be described in more detail.
      </em>
     </dd>
     <dt>
      <code>
       CRC_ERROR
      </code>
      (4)
     </dt>
     <dd>
      A checksum error occurred.
     </dd>
     <dt>
      <code>
       PARSE_ERROR
      </code>
      (5)
     </dt>
     <dd>
      An error occurred while parsing the patch.
     </dd>
     <dt>
      <code>
       READ_ERROR
      </code>
      (6)
     </dt>
     <dd>
      An error occurred while reading the patch.
     </dd>
     <dt>
      <code>
       WRITE_ERROR
      </code>
      (7)
     </dt>
     <dd>
      An error occurred while writing the patched application.
     </dd>
     <dt>
      <code>
       UNEXPECTED_ERROR
      </code>
      (8)
     </dt>
     <dd>
      An unanticipate type of error occurred.
     </dd>
    </dl>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     extensionVersion
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/AString" title="en/AString">
      AString
     </a>
    </code>
   </td>
   <td>
    The add-on version of this update. Used by the extension system to track compatibility of installed add-ons with this update.
    <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">
     Obsolete since Gecko 2.0
    </span>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     installDate
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/long_long" title="en/long long">
      long long
     </a>
    </code>
   </td>
   <td>
    The date and time at which the update was installed.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     isCompleteUpdate
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/boolean" title="en/boolean">
      boolean
     </a>
    </code>
   </td>
   <td>
    <code>
     true
    </code>
    if the update is a complete replacement of the existing installation;
    <code>
     false
    </code>
    if the update is a patch representing the difference between the new version and the existing version.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     isSecurityUpdate
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/boolean" title="en/boolean">
      boolean
     </a>
    </code>
   </td>
   <td>
    <code>
     true
    </code>
    if the update is a security update. If the update is a security update, a more seriously-worded user interface message is used to present the update to the user.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     licenseURL
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/AString" title="en/AString">
      AString
     </a>
    </code>
   </td>
   <td>
    The URL to an HTML fragment that contains a license for the update. If this is specified, the user is shown the license file after they choose to install the update, and they must agree to it before the download begins.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     name
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/AString" title="en/AString">
      AString
     </a>
    </code>
   </td>
   <td>
    The name of the update, in the form "
    <em>
     application_name
    </em>
    <em>
     update_version
    </em>
    "
   </td>
  </tr>
  <tr>
   <td>
    <code>
     patchCount
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/unsigned_long" title="en/unsigned long">
      unsigned long
     </a>
    </code>
   </td>
   <td>
    The number of patches supplied by this update.
    <strong>
     Read only.
    </strong>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     platformVersion
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/AString" title="en/AString">
      AString
     </a>
    </code>
   </td>
   <td>
    The toolkit version of this update.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     previousAppVersion
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/AString" title="en/AString">
      AString
     </a>
    </code>
   </td>
   <td>
    The Application
    <code>
     version
    </code>
    prior to the application being updated.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     selectedPatch
    </code>
   </td>
   <td>
    <code>
     <code>
      <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIUpdatePatch" title="">
       nsIUpdatePatch
      </a>
     </code>
    </code>
   </td>
   <td>
    The currently selected patch for this update.
    <strong>
     Read only.
    </strong>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     serviceURL
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/AString" title="en/AString">
      AString
     </a>
    </code>
   </td>
   <td>
    The URL to the update service that supplied this update.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     showNeverForVersion
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/boolean" title="en/boolean">
      boolean
     </a>
    </code>
   </td>
   <td>
    Whether to show the "No Thanks" button in the update prompt. This allows the user to never receive a notification for that specific update
    <code>
     version
    </code>
    again.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     showPrompt
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/boolean" title="en/boolean">
      boolean
     </a>
    </code>
   </td>
   <td>
    Whether to show the update prompt which requires user confirmation when an update is found during a background update check. This overrides the default setting to download the update in the background.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     showSurvey
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/boolean" title="en/boolean">
      boolean
     </a>
    </code>
   </td>
   <td>
    Whether to show the survey link in the update prompt. The url must also be present in the app.update.surveyURL preference.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     state
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/AString" title="en/AString">
      AString
     </a>
    </code>
   </td>
   <td>
    The state of the selected patch:
    <dl>
     <dt>
      "downloading"
     </dt>
     <dd>
      The update is being downloaded.
     </dd>
     <dt>
      "pending"
     </dt>
     <dd>
      The update is ready to be applied.
     </dd>
     <dt>
      "applying"
     </dt>
     <dd>
      The update is in the process of being applied.
     </dd>
     <dt>
      "succeeded"
     </dt>
     <dd>
      The update has been installed successfully.
     </dd>
     <dt>
      "download-failed"
     </dt>
     <dd>
      The update failed to be downloaded.
     </dd>
     <dt>
      "failed"
     </dt>
     <dd>
      Installing the update failed.
     </dd>
    </dl>
    <strong>
     Read only.
    </strong>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     statusText
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/AString" title="en/AString">
      AString
     </a>
    </code>
   </td>
   <td>
    An optional message associated with the update.
   </td>
  </tr>
  <tr>
   <td>
    <code>
     type
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/AString" title="en/AString">
      AString
     </a>
    </code>
   </td>
   <td>
    The type of patch represented by the object:
    <dl>
     <dt>
      "major"
     </dt>
     <dd>
      A major new version of the application.
     </dd>
     <dt>
      "minor"
     </dt>
     <dd>
      A minor update, such as a security update.
     </dd>
    </dl>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     version
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/AString" title="en/AString">
      AString
     </a>
    </code>
   </td>
   <td>
    The application version of the update.
    <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">
     Obsolete since Gecko 2.0
    </span>
   </td>
  </tr>
 </tbody>
</table>
<h2 id="Methods" name="Methods">
 Methods
</h2>
<h3 id="getPatchAt()" name="getPatchAt()">
 getPatchAt()
</h3>
<p>
 Retrieves a patch.
</p>
<pre class="eval">nsIUpdatePatch getPatchAt(
  in unsigned long index
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   index
  </code>
 </dt>
 <dd>
  The index of the patch to retrieve.
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 An
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIUpdatePatch" title="">
   nsIUpdatePatch
  </a>
 </code>
 object describing the specified patch.
</p>
<h3 id="serialize()" name="serialize()">
 serialize()
</h3>
<p>
 Serializes the update object into a DOM element.
</p>
<pre class="eval">nsIDOMElement serialize(
  in nsIDOMDocument updates
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   updates
  </code>
 </dt>
 <dd>
  The DOM document into which to serialize the update.
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 The patch object serialized into an
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMElement" title="">
   nsIDOMElement
  </a>
 </code>
 .
</p>
<h2 id="See_also" name="See_also">
 See also
</h2>
<ul>
 <li>
  <code>
   <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIUpdatePatch" title="">
    nsIUpdatePatch
   </a>
  </code>
 </li>
 <li>
  <code>
   <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIUpdateCheckListener" title="">
    nsIUpdateCheckListener
   </a>
  </code>
 </li>
 <li>
  <code>
   <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIUpdateChecker" title="">
    nsIUpdateChecker
   </a>
  </code>
 </li>
 <li>
  <code>
   <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIApplicationUpdateService" title="">
    nsIApplicationUpdateService
   </a>
  </code>
 </li>
 <li>
  <code>
   <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIUpdateManager" title="">
    nsIUpdateManager
   </a>
  </code>
 </li>
 <li>
  <code>
   <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIUpdatePrompt" title="">
    nsIUpdatePrompt
   </a>
  </code>
 </li>
 <li>
  <code>
   <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIUpdateTimerManager" title="">
    nsIUpdateTimerManager
   </a>
  </code>
 </li>
</ul></div><div id="footer"><hr/><p>This page was originally written for <a href="https://developer.mozilla.org">developer.mozilla.org</a> and is used here under the <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike license</a> (CC-BY-SA).</p>
<p>Original contributors to this page: <a href="https://developer.mozilla.org/en-US/profiles/wbamberg">wbamberg</a>, <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>, <a href="https://developer.mozilla.org/en-US/profiles/trevorh">trevorh</a>, <a href="https://developer.mozilla.org/en-US/profiles/Soupdragon">Soupdragon</a>.</p></div></body>
</html>
