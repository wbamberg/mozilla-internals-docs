<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://code.cdn.mozilla.net/fonts/zilla-slab.css"/>
    <link rel="stylesheet" href="/css/page.css"/>
    <title>nsIAutoCompleteController</title>
  </head>

  <body><nav class="breadcrumbs"><a href="../../../../../Mozilla.html">Mozilla</a>&raquo;<a href="../../../../Tech.html">Tech</a>&raquo;<a href="../../../XPCOM.html">XPCOM</a>&raquo;<a href="../../Reference.html">Reference</a>&raquo;<a href="../Interface.html">Interface</a></nav><div class="content-heading"><h1>nsIAutoCompleteController</h1></div>
<div class="content"><p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/toolkit/components/autocomplete/public/nsIAutoCompleteController.idl" rel="custom">toolkit/components/autocomplete/public/nsIAutoCompleteController.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

<i>Please add a summary to this article.</i>
</span>

  <div style="height: 42px; position: relative; padding: 2px; width: auto;">

  <div style="top: 22px; font-size: 11px; position: absolute;">1.0</div>
  
  <div style="top: 22px; font-size: 11px; position: absolute; left: 0px; text-align: right; float: right; width: 100%;">66</div>
  
  <div style="height: 8px; top: 16px; background: #dd0000; left: 0px; position: absolute; width: 2.857142857142857%;"></div>
  
<div style="height: 8px; top: 16px; left: 2.857142857142857%; background: #00dd00; position: absolute; width: 97.14285714285714%;" title="Introduced in Gecko 1.7 "></div>

<div style="top: 0px; font-size: 11px; position: absolute; left: 2.857142857142857%;">Introduced</div>
<div style="top: 22px; font-size: 11px; position: absolute; left: 2.857142857142857%;">Gecko 1.7</div>

    <div style="height: 8px; top: 16px; left: 10.928571428571429%; background: #eeee00; position: absolute; width: 1%; border-radius: 4px; -webkit-border-radius: 4px;" title="Last changed in Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)"></div>
    
</div>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)</span></div>
</div><p></p>
<p>Implemented by: <code>@mozilla.org/autocomplete/controller;1</code>. To use this service, use:</p>
<pre class="eval">var autoCompleteController = Components.classes["@mozilla.org/autocomplete/controller;1"]
                             .getService(Components.interfaces.nsIAutoCompleteController);
</pre>
<h2 id="Method_overview" name="Method_overview">Method overview</h2>
<table class="standard-table">
  <tbody>
    <tr>
      <td><code>AString <a href="#getCommentAt()">getCommentAt</a>(in long index);</code></td>
    </tr>
    <tr>
      <td><code>AString <a href="#getImageAt()">getImageAt</a>(in long index);</code> </td>
    </tr>
    <tr>
      <td><code>AString <a href="/#getLabelAt()" title="#getLabelAt()">getLabelAt</a>(in long index);</code></td>
    </tr>
    <tr>
      <td><code>AString <a href="#getStyleAt()">getStyleAt</a>(in long index);</code></td>
    </tr>
    <tr>
      <td><code>AString <a href="#getValueAt()">getValueAt</a>(in long index);</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#handleDelete()">handleDelete</a>();</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#handleEndComposition()">handleEndComposition</a>();</code> </td>
    </tr>
    <tr>
      <td><code>boolean <a href="#handleEnter()">handleEnter</a>(in boolean aIsPopupSelection);</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#handleEscape()">handleEscape</a>();</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#handleKeyNavigation()">handleKeyNavigation</a>(in unsigned long key);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#handleStartComposition()">handleStartComposition</a>();</code> </td>
    </tr>
    <tr>
      <td><code>void <a href="#handleTab()">handleTab</a>();</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#handleText()">handleText</a>();</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#setSearchString()">setSearchString</a>(in AString aSearchString);</code>  <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">Obsolete since Gecko 1.9</span></td>
    </tr>
    <tr>
      <td><code>void <a href="#startSearch()">startSearch</a>(in AString searchString);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#stopSearch()">stopSearch</a>();</code> </td>
    </tr>
  </tbody>
</table>
<h2 id="Attributes" name="Attributes">Attributes</h2>
<table class="standard-table">
  <tbody>
    <tr>
      <td class="header">Attribute</td>
      <td class="header">Type</td>
      <td class="header">Description</td>
    </tr>
    <tr>
      <td><code>input</code></td>
      <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIAutoCompleteInput" title="">nsIAutoCompleteInput</a></code></code></td>
      <td>Either the XUL autocomplete textbox that is currently being controlled, or a form fill controller that handles website form history.</td>
    </tr>
    <tr>
      <td><code>matchCount</code></td>
      <td><code>unsigned long</code></td>
      <td>The number of matches. <strong>Read only.</strong></td>
    </tr>
    <tr>
      <td><code>searchStatus</code></td>
      <td><code>unsigned short</code></td>
      <td>State which indicates the status of possible ongoing searches. <strong>Read only.</strong></td>
    </tr>
    <tr>
      <td><code>searchString</code></td>
      <td><code><a href="/en/AString" title="en/AString">AString</a></code></td>
      <td>
        <p>Get or set the current search string. </p>
        <div class="blockIndicator note"><strong>Note:</strong> Setting this attribute will not initiate a search.</div></td>
    </tr>
  </tbody>
</table>
<h2 id="Constants" name="Constants">Constants</h2>
<h3 id="Status_Constants" name="Status_Constants">Status Constants</h3>
<table class="standard-table">
  <tbody>
    <tr>
      <td class="header">Constant</td>
      <td class="header">Value</td>
      <td class="header">Description</td>
    </tr>
    <tr>
      <td><code>STATUS_NONE</code></td>
      <td><code>1</code></td>
      <td>Default status.</td>
    </tr>
    <tr>
      <td><code>STATUS_SEARCHING</code></td>
      <td><code>2</code></td>
      <td>Searching for matches.</td>
    </tr>
    <tr>
      <td><code>STATUS_COMPLETE_NO_MATCH</code></td>
      <td><code>3</code></td>
      <td>Search completed but found no matches.</td>
    </tr>
    <tr>
      <td><code>STATUS_COMPLETE_MATCH</code></td>
      <td><code>4</code></td>
      <td>Search completed and found matches.</td>
    </tr>
  </tbody>
</table>
<h3 id="Key_Constants" name="Key_Constants">Key Constants</h3>
<p></p><div class="blockIndicator obsolete obsoleteHeader"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete since Gecko 1.9 (Firefox 3)</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div><p></p>
<table class="standard-table">
  <tbody>
    <tr>
      <td class="header">Constant</td>
      <td class="header">Value</td>
      <td class="header">Description</td>
    </tr>
    <tr>
      <td><code>KEY_UP</code></td>
      <td><code>1</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code>KEY_DOWN</code></td>
      <td><code>2</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code>KEY_LEFT</code></td>
      <td><code>3</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code>KEY_RIGHT</code></td>
      <td><code>4</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code>KEY_PAGE_UP</code></td>
      <td><code>5</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code>KEY_PAGE_DOWN</code></td>
      <td><code>6</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code>KEY_HOME</code></td>
      <td><code>7</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code>KEY_END</code></td>
      <td><code>8</code></td>
      <td> </td>
    </tr>
  </tbody>
</table>
<h2 id="Methods" name="Methods">Methods</h2>
<h3 id="getCommentAt()" name="getCommentAt()">getCommentAt()</h3>
<p>Gets the comment of the result at a given index in the last completed search.</p>
<pre class="eval">AString getCommentAt(
  in long index
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
  <dt>
    <code>index</code></dt>
  <dd>
    The given index.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>The comment of the result at the given index.</p>
<p></p><h3 id="getImageAt()">getImageAt()</h3><p></p>
<p>Get the URL of the image of the result at a given index in the last completed search.</p>
<pre class="eval">AString getImageAt(
  in long index
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
  <dt>
    <code>index</code></dt>
  <dd>
    The given index.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>The image URL of the result at the given index.</p>
<p></p><h3 id="getLabelAt()">getLabelAt()</h3><p></p>
<p>Gets the label for the result at a given index in the last completed search. Normally this is the same as the value, except when autocompleting a datalist in a web page.</p>
<pre class="eval">AString getLabelAt(
  in long index
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
  <dt>
    <code>index</code></dt>
  <dd>
    The given index.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>The label for the result at the given index.</p>
<h3 id="getStyleAt()" name="getStyleAt()">getStyleAt()</h3>
<p>Get the style hint for the result at a given index in the last completed search.</p>
<pre class="eval">AString getStyleAt(
  in long index
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
  <dt>
    <code>index</code></dt>
  <dd>
    The given index.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>The style hint for the result at the given index.</p>
<h3 id="getValueAt()" name="getValueAt()">getValueAt()</h3>
<p>Gets the value of the result at a given index in the last completed search.</p>
<pre class="eval">AString getValueAt(
  in long index
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
  <dt>
    <code>index</code></dt>
  <dd>
    The given index value.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>The value of the result at the given index.</p>
<h3 id="handleDelete()" name="handleDelete()">handleDelete()</h3>
<p>Notifies the controller that the user chose to delete the current auto-complete result.</p>
<pre class="eval">boolean handleDelete();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>Returns <code>true</code> if the event that called <code>handleDelete()</code> should be canceled, otherwise returns <code>false</code>.</p>
<p></p><h3 id="handleEndComposition()">handleEndComposition()</h3><p></p>
<pre class="eval">void handleEndComposition();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<h3 id="handleEnter()" name="handleEnter()">handleEnter()</h3>
<p>Notifies the controller that the user wishes to enter the current text.</p>
<pre class="eval">boolean handleEnter(
  in boolean aIsPopupSelection 
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
  <dt>
    <code>aIsPopupSelection </code></dt>
  <dd>
    <code>true</code> if a selection was made from the popup (That is the currently selected entry's value will entered into the input). <code>false</code> to indicate that the input's current value should be used. Typically used to differentiate between selections made with the mouse (which do not result in the input value being changed) and selections made with the keyboard (which may or may not result in the input's value changing, depending on the nsIAutocompleteInput's completeSelectedIndex attribute). See <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=408723" title="FIXED: always use the input field's value when pressing enter in an autocomplete field (e.g. URL bar)">bug 408723</a> for more information.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p><code>true</code> if the controller wishes to prevent event propagation and default event.</p>
<h3 id="handleEscape()" name="handleEscape()">handleEscape()</h3>
<p>Notifies the controller that the user wishes to revert autocomplete.</p>
<pre class="eval">boolean handleEscape();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p><code>true</code> if the controller wishes to prevent event propagation and default event.</p>
<h3 id="handleKeyNavigation()" name="handleKeyNavigation()">handleKeyNavigation()</h3>
<p>Notifies the controller of the following key navigation events: up, down, left, right, page up, page down.</p>
<pre class="eval">boolean handleKeyNavigation(
  in unsigned long key
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
  <dt>
    <code>key</code></dt>
  <dd>
    The key for the navigation event.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p><code>true</code> if the controller wishes to prevent event propagation and default event.</p>
<p></p><h3 id="handleStartComposition()">handleStartComposition()</h3><p></p>
<p>Notify the controller that the user wishes to start composition.</p>
<pre class="eval">void handleStartComposition();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<h3 id="handleTab()" name="handleTab()">handleTab()</h3>
<p>Handles tab; this just closes autocomplete.</p>
<pre class="eval">void handleTab();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p>
<h3 id="handleText()" name="handleText()">handleText()</h3>
<p>Notifies the controller that the user has changed text in the textbox. This includes all means of changing the text value, including typing a character, backspacing, deleting, or pasting in an entirely new value.</p>
<pre class="eval">void handleText(
  in boolean aIgnoreSelection  <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3.6 / Thunderbird 3.1 / Fennec 1.0)">Obsolete since Gecko 1.9.2</span>
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p></p><h3 id="setSearchString()">setSearchString()</h3><p></p>
<p></p><div class="blockIndicator obsolete obsoleteHeader"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete since Gecko 1.9 (Firefox 3)</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div><p></p>
<div class="note">
  <strong>Note:</strong> This method was replaced by the <code>searchString</code> attribute in <span title="(Firefox 3)">Gecko 1.9</span>.</div>
<pre class="eval">void setSearchString(
  in AString aSearchString
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
  <dt>
    <code>aIgnoreSelection</code>  <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3.6 / Thunderbird 3.1 / Fennec 1.0)">Obsolete since Gecko 1.9.2</span></dt>
  <dd>
    <code>true</code> to allow the text handling to occur regardless of where the caret is in the text box; <code>false</code> to only start the search to begin or resume if the caret is at the end of the text box.</dd>
</dl>
<dl>
  <dt>
    <code>aSearchString</code></dt>
  <dd>
    A string to use in searches.</dd>
</dl>
<h3 id="startSearch()" name="startSearch()">startSearch()</h3>
<p>Starts a search on a string, assuming the input property is already set.</p>
<pre class="eval">void startSearch(
  in AString searchString
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
  <dt>
    <code>searchString</code></dt>
  <dd>
    The string to start searching on.</dd>
</dl>
<p></p><h3 id="stopSearch()">stopSearch()</h3><p></p>
<p>Stops all asynchronous searches.</p>
<pre class="eval">void stopSearch();
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<p>None.</p></div><div id="footer"><hr/><p>This page was originally written for <a href="https://developer.mozilla.org">developer.mozilla.org</a> and is used here under the <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike license</a> (CC-BY-SA).</p>
<p>Original contributors to this page: <a href="https://developer.mozilla.org/en-US/profiles/wbamberg">wbamberg</a>, <a href="https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot">mdnwebdocs-bot</a>, <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>, <a href="https://developer.mozilla.org/en-US/profiles/EricYChu">EricYChu</a>, <a href="https://developer.mozilla.org/en-US/profiles/Neil">Neil</a>, <a href="https://developer.mozilla.org/en-US/profiles/trevorh">trevorh</a>, <a href="https://developer.mozilla.org/en-US/profiles/Varmaa">Varmaa</a>, <a href="https://developer.mozilla.org/en-US/profiles/GavinSharp">GavinSharp</a>, <a href="https://developer.mozilla.org/en-US/profiles/Eff2k5">Eff2k5</a>.</p></div></body>
</html>
