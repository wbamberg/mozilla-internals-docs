<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://code.cdn.mozilla.net/fonts/zilla-slab.css"/>
    <link rel="stylesheet" href="/css/page.css"/>
    <title>nsIEventListenerService</title>
  </head>

  <body><div class="content-heading"><h1>nsIEventListenerService</h1></div>
<div class="content"><p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/content/events/public/nsIEventListenerService.idl" rel="custom">content/events/public/nsIEventListenerService.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

A service that can be used to get a list of listeners observing events; this is primarily useful for debuggers.
</span>

  <div style="height: 42px; position: relative; padding: 2px; width: auto;">

  <div style="top: 22px; font-size: 11px; position: absolute;">1.0</div>
  
  <div style="top: 22px; font-size: 11px; position: absolute; left: 0px; text-align: right; float: right; width: 100%;">66</div>
  
  <div style="height: 8px; top: 16px; background: #dd0000; left: 0px; position: absolute; width: 10.476190285714287%;"></div>
  
<div style="height: 8px; top: 16px; left: 10.476190285714287%; background: #00dd00; position: absolute; width: 89.52380971428572%;" title="Introduced in Gecko 1.9.2 (Firefox 3.6 / Thunderbird 3.1 / Fennec 1.0)"></div>

<div style="top: 0px; font-size: 11px; position: absolute; left: 10.476190285714287%;">Introduced</div>
<div style="top: 22px; font-size: 11px; position: absolute; left: 10.476190285714287%;">Gecko 1.9.2</div>

    <div style="height: 8px; top: 16px; left: 15.214285714285714%; background: #eeee00; position: absolute; width: 1%; border-radius: 4px; -webkit-border-radius: 4px;" title="Last changed in Gecko 7.0 (Firefox 7.0 / Thunderbird 7.0 / SeaMonkey 2.4)"></div>
    
</div>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 7.0 (Firefox 7.0 / Thunderbird 7.0 / SeaMonkey 2.4)</span></div>
</div><p></p>
<p>Implemented by: <code>@mozilla.org/eventlistenerservice;1</code>. To create an instance, use:</p>
<pre class="eval">var eventListenerService = Components.classes["@mozilla.org/<span id="the-code">eventlistenerservice;1</span>"]
                           .getService(Components.interfaces.nsIEventListenerService);
</pre>
<p>UniversalXPConnect privileges are required to use this service.</p>
<h2 id="Method_overview" name="Method_overview">Method overview</h2>
<table class="standard-table">
  <tbody>
    <tr>
      <td><code>void <a href="#getEventTargetChainFor()">getEventTargetChainFor</a>(in nsIDOMEventTarget aEventTarget, [optional] out unsigned long aCount, [retval, array, size_is(aCount)] out nsIDOMEventTarget aOutArray);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#getListenerInfoFor()">getListenerInfoFor</a>(in nsIDOMEventTarget aEventTarget, [optional] out unsigned long aCount, [retval, array, size_is(aCount)] out nsIEventListenerInfo aOutArray);</code></td>
    </tr>
    <tr>
      <td><code>boolean <a href="#hasListenersFor()" title="#hasListenersFor()">hasListenersFor</a>(in nsIDOMEventTarget aEventTarget, in DOMString aType);</code> </td>
    </tr>
    <tr>
      <td><code>void <a href="#addSystemEventListener()" title="#addSystemEventListener()">addSystemEventListener</a>(in nsIDOMEventTarget target, in DOMString type, in nsIDOMEventListener listener, in boolean useCapture);</code> </td>
    </tr>
    <tr>
      <td><code>void <a href="#removeSystemEventListener()" title="#removeSystemEventListener()">removeSystemEventListener</a>(in nsIDOMEventTarget target, in DOMString type, in nsIDOMEventListener listener, in boolean useCapture); </code></td>
    </tr>
  </tbody>
</table>
<h2 id="Attributes" name="Attributes">Attributes</h2>
<table class="standard-table">
  <tbody>
    <tr>
      <td class="header">Attribute</td>
      <td class="header">Type</td>
      <td class="header">Description</td>
    </tr>
    <tr>
      <td><code>systemEventGroup</code></td>
      <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMEventGroup" title="">nsIDOMEventGroup</a></code></code></td>
      <td>Returns system event group. <strong>Read only.</strong>  <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 7.0 / Thunderbird 7.0 / SeaMonkey 2.4)">Obsolete since Gecko 7.0</span></td>
    </tr>
  </tbody>
</table>
<h2 id="Methods" name="Methods">Methods</h2>
<h3 id="getEventTargetChainFor()" name="getEventTargetChainFor()">getEventTargetChainFor()</h3>
<p>Returns an array of event targets indicating all the targets that will receive the same events that are delivered to the specified target. <code>aEventTarget</code> will be at index 0. The objects are the ones that would be used as <a href="/en-US/docs/Web/API/Event/currentTarget" title="The currentTarget read-only property of the Event interface identifies the current target for the event, as the event traverses the DOM. It always refers to the element to which the event handler has been attached, as opposed to Event.target, which identifies the element on which the event occurred."><code>event.currentTarget</code></a> while dispatching an event to <code>aEventTarget</code>.</p>
<p></p><div class="blockIndicator note"><strong>Note:</strong> Some events, especially 'load', may actually have a shorter event target chain than what this methods returns.</div><p></p>
<pre class="eval">void getEventTargetChainFor(
  in nsIDOMEventTarget aEventTarget,
  [optional] out unsigned long aCount,
  [retval, array, size_is(aCount)] out nsIDOMEventTarget aOutArray
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
  <dt>
    <code>aEventTarget</code></dt>
  <dd>
    The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMEventTarget" title="">nsIDOMEventTarget</a></code> for which to return the event target chain.</dd>
  <dt>
    <code>aCount</code></dt>
  <dd>
    On return, contains the number of elements in the returned array.</dd>
  <dt>
    <code>aOutArray</code></dt>
  <dd>
    The array into which to store the event targets.</dd>
</dl>
<h3 id="getListenerInfoFor()" name="getListenerInfoFor()">getListenerInfoFor()</h3>
<p>Returns an array of <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIEventListenerInfo" title="">nsIEventListenerInfo</a></code> objects describing everyone listening to the specified event target. If <code>aEventTarget</code> doesn't have any listeners, this returns <code>null</code>.</p>
<pre class="eval">void getListenerInfoFor(
  in nsIDOMEventTarget aEventTarget,
  [optional] out unsigned long aCount,
  [retval, array, size_is(aCount)] out nsIEventListenerInfo aOutArray
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
  <dt>
    <code>aEventTarget</code></dt>
  <dd>
    The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIEventTarget" title="">nsIEventTarget</a></code> for which to obtain a list of listeners.</dd>
  <dt>
    <code>aCount</code></dt>
  <dd>
    On return, the number of returned listener descriptors.</dd>
  <dt>
    <code>aOutArray</code></dt>
  <dd>
    An array of <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIEventListenerInfo" title="">nsIEventListenerInfo</a></code> objects describing the listeners.</dd>
</dl>
<h3 id="hasListenersFor()" name="hasListenersFor()">hasListenersFor()</h3>
<p></p>
<p>Returns true if a event target has any listener for the given type.</p>
<pre class="eval">boolean hasListenersFor(
  in nsIDOMEventTarget aEventTarget,
  in DOMString aType
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
  <dt>
    <code>aEventTarget</code></dt>
  <dd>
    The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMEventTarget" title="">nsIDOMEventTarget</a></code> for which to check if this has any listener for aType.</dd>
  <dt>
    <code>aType</code></dt>
  <dd>
    An event name.</dd>
</dl>
<h3 id="addSystemEventListener()" name="addSystemEventListener()">addSystemEventListener()</h3>
<p></p>
<p>Add a system-group eventlistener to a event target.</p>
<p>System-group eventlisteners are called after all eventlisteners in default-group handle the events. So, system-group eventlisteners can implement the default action of the event. Even if an event is stopped its propagation in default-group, the event will be fired again in system-group.</p>
<pre class="eval"><code>void addSystemEventListener(
  in nsIDOMEventTarget target,
  in DOMString type,
  in nsIDOMEventListener listener,
  in boolean useCapture
);</code>
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
  <dt>
    <code>target</code></dt>
  <dd>
    The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMEventTarget" title="">nsIDOMEventTarget</a></code> for the event target to listen an event.</dd>
  <dt>
    <code>type</code></dt>
  <dd>
    The event name to listen.</dd>
  <dt>
    <code>listener</code></dt>
  <dd>
    The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMEventListener" title="">nsIDOMEventListener</a></code> which listens the event.</dd>
  <dt>
    <code>useCapture</code></dt>
  <dd>
    True if to listen the event in capture phase, otherwise, false.</dd>
</dl>
<h3 id="removeSystemEventListener()" name="removeSystemEventListener()">removeSystemEventListener()</h3>
<p></p>
<p>Remove a system-group eventlistener from a event target.</p>
<pre class="eval">void removeSystemEventListener(
  in nsIDOMEventTarget target,
  in DOMString type,
  in nsIDOMEventListener listener,
  in boolean useCapture
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
  <dt>
    <code>target</code></dt>
  <dd>
    The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMEventTarget" title="">nsIDOMEventTarget</a></code> for the event target listening the event.</dd>
  <dt>
    <code>type</code></dt>
  <dd>
    The listening event name.</dd>
  <dt>
    <code>listener</code></dt>
  <dd>
    The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIDOMEventListener" title="">nsIDOMEventListener</a></code> which is listening the event.</dd>
  <dt>
    <code>useCapture</code></dt>
  <dd>
    True if listening the events in capture phase, otherwise, false.</dd>
</dl>
<h2 id="See_also" name="See_also">Remarks</h2>
<p><code>nsIEventListenerService</code> was introduced with <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=448602" title="FIXED: Have a way to enumerate event listeners">bug 448602</a>.</p>
<h2 id="See_also" name="See_also">See also</h2>
<ul>
  <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIEventListenerInfo" title="">nsIEventListenerInfo</a></code></li>
  <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIEventTarget" title="">nsIEventTarget</a></code></li>
</ul></div><div id="footer"><hr/><p>This page was originally written for <a href="https://developer.mozilla.org">developer.mozilla.org</a> and is used here under the <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike license</a> (CC-BY-SA).</p>
<p>Original contributors to this page: <a href="https://developer.mozilla.org/en-US/profiles/wbamberg">wbamberg</a>, <a href="https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot">mdnwebdocs-bot</a>, <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>, <a href="https://developer.mozilla.org/en-US/profiles/Masayuki">Masayuki</a>, <a href="https://developer.mozilla.org/en-US/profiles/Sevenspade">Sevenspade</a>.</p></div></body>
</html>
