<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://code.cdn.mozilla.net/fonts/zilla-slab.css"/>
    <link rel="stylesheet" href="/css/page.css"/>
    <title>nsIPluginHost</title>
  </head>

  <body><nav class="breadcrumbs"><a href="../../../../../Mozilla.html">Mozilla</a>&raquo;<a href="../../../../Tech.html">Tech</a>&raquo;<a href="../../../XPCOM.html">XPCOM</a>&raquo;<a href="../../Reference.html">Reference</a>&raquo;<a href="../Interface.html">Interface</a></nav><div class="content-heading"><h1>nsIPluginHost</h1></div>
<div class="content"><p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/dom/plugins/base/nsIPluginHost.idl" rel="custom">dom/plugins/base/nsIPluginHost.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

<i>Please add a summary to this article.</i>
</span>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)</span></div>
</div><p></p>

<h2 id="Method_overview" name="Method_overview">Method overview</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td><code>nsIFile <a href="#createTempFileToPost()">createTempFileToPost</a>(in string aPostDataURL);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> </td>
  </tr>
  <tr>
   <td><code>void <a href="#createTmpFileToPost()">createTmpFileToPost</a>(in string aPostDataURL, out string aTmpFileName);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span>  <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">Obsolete since Gecko 2.0</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#deletePluginNativeWindow()">deletePluginNativeWindow</a>(in nsPluginNativeWindowPtr aPluginNativeWindow);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> </td>
  </tr>
  <tr>
   <td><code>void <a href="#destroy()">destroy</a>();</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#findProxyForURL()">findProxyForURL</a>(in string aURL, out string aResult);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> </td>
  </tr>
  <tr>
   <td><code>nsIPlugin <a href="#getPlugin()">getPlugin</a>(in string aMimeType);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> </td>
  </tr>
  <tr>
   <td><code>void <a href="#getPluginCount()">getPluginCount</a>(out unsigned long aPluginCount);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>nsIPlugin <a href="#getPluginFactory()">getPluginFactory</a>(in string aMimeType);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3.6 / Thunderbird 3.1 / Fennec 1.0)">Obsolete since Gecko 1.9.2</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#getPluginName()">getPluginName</a>(in nsIPluginInstance aInstance, [shared] out string aPluginName);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> </td>
  </tr>
  <tr>
   <td><code>nsIPluginTag <a href="#getPluginTagForInstance()">getPluginTagForInstance</a>(in nsIPluginInstance aInstance);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> </td>
  </tr>
  <tr>
   <td><code>void <a href="#getPluginTags()">getPluginTags</a>([optional] out unsigned long aPluginCount, [retval, array, size_is(aPluginCount)] out nsIPluginTag aResults);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#handleBadPlugin()">handleBadPlugin</a>(in PRLibraryPtr aLibrary, in nsIPluginInstance instance);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#init()">init</a>();</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#instantiateDummyJavaPlugin()">instantiateDummyJavaPlugin</a>(in nsIPluginInstanceOwner aOwner);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> </td>
  </tr>
  <tr>
   <td><code>void <a href="#instantiateEmbeddedPlugin()">instantiateEmbeddedPlugin</a>(in string aMimeType, in nsIURI aURL, in nsIPluginInstanceOwner aOwner);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> </td>
  </tr>
  <tr>
   <td><code>void <a href="#instantiateEmbededPlugin()">instantiateEmbededPlugin</a>(in string aMimeType, in nsIURI aURL, in nsIPluginInstanceOwner aOwner);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#instantiateFullPagePlugin()">instantiateFullPagePlugin</a>(in string aMimeType, in nsIURI aURI, in nsIPluginInstanceOwner aOwner, out nsIStreamListener aStreamListener);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>nsIStreamListener <a href="#instantiatePluginForChannel()">instantiatePluginForChannel</a>(in nsIChannel aChannel, in nsIPluginInstanceOwner aOwner);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> </td>
  </tr>
  <tr>
   <td><code>void <a href="#isPluginEnabledForExtension()">isPluginEnabledForExtension</a>(in string aExtension, in constCharStarRef aMimeType);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#isPluginEnabledForType()">isPluginEnabledForType</a>(in string aMimeType);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#loadPlugins()">loadPlugins</a>();</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#newPluginNativeWindow()">newPluginNativeWindow</a>(out nsPluginNativeWindowPtr aPluginNativeWindow);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> </td>
  </tr>
  <tr>
   <td><code>void <a href="#parsePostBufferToFixHeaders()">parsePostBufferToFixHeaders</a>(in string aInPostData, in unsigned long aInPostDataLen, out string aOutPostData, out unsigned long aOutPostDataLen);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> </td>
  </tr>
  <tr>
   <td><code>void <a href="#reloadPlugins()">reloadPlugins</a>(in boolean reloadPages);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#setIsScriptableInstance()">setIsScriptableInstance</a>(in nsIPluginInstance aInstance, in boolean aScriptable);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span>  <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">Obsolete since Gecko 2.0</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#setUpPluginInstance()">setUpPluginInstance</a>(in string aMimeType, in nsIURI aURL, in nsIPluginInstanceOwner aOwner);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#stopPluginInstance()">stopPluginInstance</a>(in nsIPluginInstance aInstance);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#UserAgent()">UserAgent</a>(in nativeChar resultingAgentString);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> </td>
  </tr>
 </tbody>
</table>

<h2 id="Attributes" name="Attributes">Attributes</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Attribute</td>
   <td class="header">Type</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>pluginCount</code></td>
   <td><code><a href="/en/unsigned_long" title="en/unsigned long">unsigned long</a></code></td>
   <td><strong>Read only.</strong> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span> </td>
  </tr>
 </tbody>
</table>

<h2 id="Methods" name="Methods">Methods</h2>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="createTempFileToPost">createTempFileToPost</h3></div><p></p>

<p></p>

<p>To create temp file with Content len header in, it will use by http POST.</p>

<pre class="eval">nsIFile createTempFileToPost(
  in string aPostDataURL
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aPostDataURL</code></dt>
 <dd> </dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p> </p>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="createTmpFileToPost">createTmpFileToPost</h3></div><p></p>

<p></p>

<p></p><div class="blockIndicator obsolete obsoleteHeader"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete since Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div><p></p>

<p>To create temp file with Content len header in, it will use by http POST.</p>

<pre class="eval">void createTmpFileToPost(
  in string aPostDataURL,
  out string aTmpFileName
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aPostDataURL</code></dt>
 <dd> </dd>
 <dt><code>aTmpFileName</code></dt>
 <dd> </dd>
</dl>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="deletePluginNativeWindow">deletePluginNativeWindow</h3></div><p></p>

<p></p>

<p>Deletes plugin native window object created by <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPluginHost#NewPluginNativeWindow()">NewPluginNativeWindow()</a></code>.</p>

<pre class="eval">void deletePluginNativeWindow(
  in nsPluginNativeWindowPtr aPluginNativeWindow
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aPluginNativeWindow</code></dt>
 <dd> </dd>
</dl>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="destroy">destroy</h3></div><p></p>

<pre class="eval">void destroy();
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<p>None.</p>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="findProxyForURL">findProxyForURL</h3></div><p></p>

<p></p>

<p>Fetches a URL.</p>

<p>(Corresponds to NPN_GetURL and NPN_GetURLNotify.)</p>

<p>Posts to a URL with post data and/or post headers.</p>

<p>(Corresponds to NPN_PostURL and NPN_PostURLNotify.)</p>

<p>Returns the proxy info for a given URL. The caller is required to free the resulting memory with <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIMalloc#Free()">nsIMalloc.Free()</a></code>. The result will be in the following format.</p>

<ol>
 <li>"DIRECT" -- no proxy</li>
 <li>"PROXY xxx.xxx.xxx.xxx" -- use proxy</li>
 <li>"SOCKS xxx.xxx.xxx.xxx" -- use SOCKS</li>
 <li>Mixed. for example "PROXY 111.111.111.111;PROXY 112.112.112.112", "PROXY 111.111.111.111;SOCKS 112.112.112.112"....</li>
</ol>

<p>Which proxy/SOCKS to use is determined by the plugin.</p>

<pre class="eval">void findProxyForURL(
  in string aURL,
  out string aResult
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aURL</code></dt>
 <dd> </dd>
 <dt><code>aResult</code></dt>
 <dd> </dd>
</dl>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="getPlugin">getPlugin</h3></div><p></p>

<p></p>

<pre class="eval">nsIPlugin getPlugin(
  in string aMimeType
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aMimeType</code></dt>
 <dd> </dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p> </p>

<p></p><div class="headingWithIndicator">
        <h3 id="getPluginCount()">getPluginCount()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)</span>
        </div><p></p>

<pre class="eval">void getPluginCount(
  out unsigned long aPluginCount
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aPluginCount</code></dt>
 <dd> </dd>
</dl>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="getPluginFactory">getPluginFactory</h3></div><p></p>

<p></p><div class="blockIndicator obsolete obsoleteHeader"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete since Gecko 1.9.2 (Firefox 3.6 / Thunderbird 3.1 / Fennec 1.0)</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div><p></p>

<pre class="eval">nsIPlugin getPluginFactory(
  in string aMimeType
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aMimeType</code></dt>
 <dd> </dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p> </p>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="getPluginName">getPluginName</h3></div><p></p>

<p></p>

<p>Get the plugin name for the plugin instance.</p>

<pre class="eval">void getPluginName(
  in nsIPluginInstance aInstance,
  [shared] out string aPluginName
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aInstance</code></dt>
 <dd>The plugin instance object.</dd>
 <dt><code>aPluginName</code></dt>
 <dd>Returns a pointer to a shared read-only string value, it's only valid for the lifetime of the plugin instance - you must copy the string value if you need it longer than that.</dd>
</dl>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="getPluginTagForInstance">getPluginTagForInstance</h3></div><p></p>

<p></p>

<p>Get the plugin tag associated with a given plugin instance.</p>

<pre class="eval">nsIPluginTag getPluginTagForInstance(
  in nsIPluginInstance aInstance
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aInstance</code></dt>
 <dd>The plugin instance object.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>Plugin tag object.</p>

<p></p><h3 id="getPluginTags()">getPluginTags()</h3><p></p>

<pre class="eval">void getPluginTags(
  out unsigned long aPluginCount, <span class="inlineIndicator optional optionalInline">Optional</span>
  [retval, array, size_is(aPluginCount)] out nsIPluginTag aResults
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aPluginCount</code> <span class="inlineIndicator optional optionalInline">Optional</span></dt>
 <dd> </dd>
 <dt><code>aResults</code></dt>
 <dd> </dd>
</dl>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="handleBadPlugin">handleBadPlugin</h3></div><p></p>

<pre class="eval">void handleBadPlugin(
  in PRLibraryPtr aLibrary,
  in nsIPluginInstance instance
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aLibrary</code></dt>
 <dd> </dd>
 <dt><code>instance</code></dt>
 <dd> </dd>
</dl>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="init">init</h3></div><p></p>

<pre class="eval">void init();
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<p>None.</p>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="instantiateDummyJavaPlugin">instantiateDummyJavaPlugin</h3></div><p></p>

<p></p>

<p>Instantiate a "dummy" java plugin if a java plugin that supports NPRuntime is installed. This plugin is used for exposing window.java and window.Packages. If the java plugin supports NPRuntime and instantiation was successful, <code>aOwners</code> instance will be non-null, if not, it will be <code>null</code>.</p>

<pre class="eval">void instantiateDummyJavaPlugin(
  in nsIPluginInstanceOwner aOwner
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aOwner</code></dt>
 <dd> </dd>
</dl>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="instantiateEmbeddedPlugin">instantiateEmbeddedPlugin</h3></div><p></p>

<p></p>

<pre class="eval">void instantiateEmbeddedPlugin(
  in string aMimeType,
  in nsIURI aURL,
  in nsIPluginInstanceOwner aOwner
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aMimeType</code></dt>
 <dd> </dd>
 <dt><code>aURL</code></dt>
 <dd> </dd>
 <dt><code>aOwner</code></dt>
 <dd> </dd>
</dl>

<p></p><div class="headingWithIndicator">
        <h3 id="instantiateEmbededPlugin()">instantiateEmbededPlugin()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)</span>
        </div><p></p>

<pre class="eval">void instantiateEmbededPlugin(
  in string aMimeType,
  in nsIURI aURL,
  in nsIPluginInstanceOwner aOwner
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aMimeType</code></dt>
 <dd> </dd>
 <dt><code>aURL</code></dt>
 <dd> </dd>
 <dt><code>aOwner</code></dt>
 <dd> </dd>
</dl>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="instantiateFullPagePlugin">instantiateFullPagePlugin</h3></div><p></p>

<pre class="eval">void instantiateFullPagePlugin(
  in string aMimeType,
  in nsIURI aURI,
  in nsIPluginInstanceOwner aOwner,
  out nsIStreamListener aStreamListener
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aMimeType</code></dt>
 <dd> </dd>
 <dt><code>aURI</code></dt>
 <dd> </dd>
 <dt><code>aOwner</code></dt>
 <dd> </dd>
 <dt><code>aStreamListener</code></dt>
 <dd> </dd>
</dl>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="instantiatePluginForChannel">instantiatePluginForChannel</h3></div><p></p>

<p></p>

<p>Instantiate an embedded plugin for an existing channel. The caller is responsible for opening the channel. It may or may not be already opened when this function is called.</p>

<pre class="eval">nsIStreamListener instantiatePluginForChannel(
  in nsIChannel aChannel,
  in nsIPluginInstanceOwner aOwner
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aChannel</code></dt>
 <dd> </dd>
 <dt><code>aOwner</code></dt>
 <dd> </dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p> </p>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="isPluginEnabledForExtension">isPluginEnabledForExtension</h3></div><p></p>

<pre class="eval">void isPluginEnabledForExtension(
  in string aExtension,
  in constCharStarRef aMimeType
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aExtension</code></dt>
 <dd> </dd>
 <dt><code>aMimeType</code></dt>
 <dd> </dd>
</dl>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="isPluginEnabledForType">isPluginEnabledForType</h3></div><p></p>

<pre class="eval">void isPluginEnabledForType(
  in string aMimeType
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aMimeType</code></dt>
 <dd> </dd>
</dl>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="loadPlugins">loadPlugins</h3></div><p></p>

<pre class="eval">void loadPlugins();
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<p>None.</p>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="newPluginNativeWindow">newPluginNativeWindow</h3></div><p></p>

<p></p>

<p>Creates a new plugin native window object.</p>

<pre class="eval">void newPluginNativeWindow(
  out nsPluginNativeWindowPtr aPluginNativeWindow
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aPluginNativeWindow</code></dt>
 <dd> </dd>
</dl>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="parsePostBufferToFixHeaders">parsePostBufferToFixHeaders</h3></div><p></p>

<p></p>

<p>This method parses post buffer to find out case insensitive "Content-length" string and CR or LF some where after that, then it assumes there is http headers in the input buffer and continue to search for end of headers (CRLFCRLF or LFLF). It will *always malloc()* output buffer (caller is responsible to free it) if input buffer starts with LF, which comes from 4.x spec <a class="external" href="http://developer.netscape.com/docs/manuals/communicator/plugin/pgfn2.htm#1007754" title="http://developer.netscape.com/docs/manuals/communicator/plugin/pgfn2.htm#1007754">http://developer.netscape.com/docs/manuals/communicator/plugin/pgfn2.htm#1007754</a> "If no custom headers are required, simply add a blank line ('\n') to the beginning of the file or buffer.", it skips that '\n' and considers rest of the input buffer as data. If "Content-length" string and end of headers is found it substitutes single LF with CRLF in the headers, so the end of headers always will be CRLFCRLF (single CR in headers, if any, remain untouched) else it puts "Content-length: "+size_of_data+CRLFCRLF at the beginning of the output buffer and memcpy data to the output buffer.</p>

<p>On failure outPostData and outPostDataLen will be set in 0.</p>

<pre class="eval">void parsePostBufferToFixHeaders(
  in string aInPostData,
  in unsigned long aInPostDataLen,
  out string aOutPostData,
  out unsigned long aOutPostDataLen
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aInPostData</code></dt>
 <dd>The post data.</dd>
 <dt><code>aInPostDataLen</code></dt>
 <dd>The length aInPostData.</dd>
 <dt><code>aOutPostData</code></dt>
 <dd>The buffer.</dd>
 <dt><code>aOutPostDataLen</code></dt>
 <dd>The length of aOutPostData.</dd>
</dl>

<p></p><h3 id="reloadPlugins()">reloadPlugins()</h3><p></p>

<p>Causes the plugins directory to be searched again for new plugin libraries.</p>

<pre class="eval">void reloadPlugins(
  in boolean reloadPages
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>reloadPages</code></dt>
 <dd>Indicates whether currently visible pages should also be reloaded.</dd>
</dl>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="setIsScriptableInstance">setIsScriptableInstance</h3></div><p></p>

<p></p>

<p></p><div class="blockIndicator obsolete obsoleteHeader"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete since Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div><p></p>

<p>To notify the plugin manager that the plugin created a script object.</p>

<pre class="eval">void setIsScriptableInstance(
  in nsIPluginInstance aInstance,
  in boolean aScriptable
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aInstance</code></dt>
 <dd> </dd>
 <dt><code>aScriptable</code></dt>
 <dd> </dd>
</dl>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="setUpPluginInstance">setUpPluginInstance</h3></div><p></p>

<pre class="eval">void setUpPluginInstance(
  in string aMimeType,
  in nsIURI aURL,
  in nsIPluginInstanceOwner aOwner
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aMimeType</code></dt>
 <dd> </dd>
 <dt><code>aURL</code></dt>
 <dd> </dd>
 <dt><code>aOwner</code></dt>
 <dd> </dd>
</dl>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="stopPluginInstance">stopPluginInstance</h3></div><p></p>

<pre class="eval">void stopPluginInstance(
  in nsIPluginInstance aInstance
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>aInstance</code></dt>
 <dd> </dd>
</dl>

<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="UserAgent">UserAgent</h3></div><p></p>

<p></p>

<pre class="eval">void UserAgent(
  in nativeChar resultingAgentString
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<h2 id="Examples">Examples</h2>

<h3 id="List_all_plug-ins_and_associated_mime_types_and_get_handler_info">List all plug-ins and associated mime types and get handler info</h3>

<p>This example here logs to Browser Console all the installed plug-ins and the associated mime types. Then using nsIHandlerService it gets the handler info. A handler is, default application that should open or deal with this file.</p>

<pre>let pluginHost = Cc["@mozilla.org/plugin/host;1"].getService(Ci.nsIPluginHost);
let handlerService = Cc['@mozilla.org/uriloader/handler-service;1'].getService(Ci.nsIHandlerService);
let mimeService = Cc['@mozilla.org/mime;1'].getService(Ci.nsIMIMEService);

let pluginTags = pluginHost.getPluginTags();

for (let i = 0; i &lt; pluginTags.length; ++i) {
    let pluginTag = pluginTags[i];

    let mimeTypes = pluginTag.getMimeTypes();

    console.warn('pluginTag:', pluginTag.name, 'mimeTypes:', mimeTypes);

    // go through all the mime types and get the handler service
    for (let j = 0; j &lt; mimeTypes.length; ++j) {
        let type = mimeTypes[j];

        let wrappedHandlerInfo = mimeService.getFromTypeAndExtension(type, null);
        console.log('handler info for type', type, wrappedHandlerInfo);
    }

}</pre>

<dl>
 <dt><code>resultingAgentString</code></dt>
 <dt> </dt>
 <dd> </dd>
</dl></div><div id="footer"><hr/><p>This page was originally written for <a href="https://developer.mozilla.org">developer.mozilla.org</a> and is used here under the <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike license</a> (CC-BY-SA).</p>
<p>Original contributors to this page: <a href="https://developer.mozilla.org/en-US/profiles/wbamberg">wbamberg</a>, <a href="https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot">mdnwebdocs-bot</a>, <a href="https://developer.mozilla.org/en-US/profiles/tschneidereit">tschneidereit</a>, <a href="https://developer.mozilla.org/en-US/profiles/Noitidart">Noitidart</a>, <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>, <a href="https://developer.mozilla.org/en-US/profiles/kscarfone">kscarfone</a>, <a href="https://developer.mozilla.org/en-US/profiles/trevorh">trevorh</a>.</p></div></body>
</html>
