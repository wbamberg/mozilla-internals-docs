<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://code.cdn.mozilla.net/fonts/zilla-slab.css"/>
    <link rel="stylesheet" href="/css/page.css"/>
    <title>nsIPushMessage</title>
  </head>

  <body><div class="content-heading"><h1>nsIPushMessage</h1></div>
<div class="content"><p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/dom/interfaces/push/nsIPushNotifier.idl" rel="custom">dom/interfaces/push/nsIPushNotifier.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

A push message sent to a system subscription.
</span>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 46.0 (Firefox 46.0 / Thunderbird 46.0 / SeaMonkey 2.43)</span></div>
</div><p></p>

<p><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPushMessage" title="">nsIPushMessage</a></code> is the subject of a <code>push-message</code> observer notification.</p>

<p>This interface resembles <a href="/en-US/docs/Web/API/PushMessageData" title="The PushMessageData interface of the Push API provides methods which let you retrieve the push data sent by a server in various formats."><code>PushMessageData</code></a> from the <a class="external" href="https://w3c.github.io/push-api/" hreflang="en" lang="en" title="The 'Push API' specification">Push API</a>.</p>

<h2 id="Method_overview" name="Method_overview">Method overview</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td><code>DOMString <a href="#text()">text</a>();</code></td>
  </tr>
  <tr>
   <td><code>jsval <a href="#json()">json</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#binary()">binary</a>([optional] out uint32_t dataLen, [array, retval, size_is(dataLen)] out uint8_t data);</code></td>
  </tr>
 </tbody>
</table>

<h2 id="Methods" name="Methods">Methods</h2>

<h3 id="text()" name="text()">text()</h3>

<p>Extracts the message data as a <a class="glossaryLink" href="/en-US/docs/Glossary/UTF-8" title="UTF-8: UTF-8 (UCS Transformation Format 8) is the World Wide Web's most common character encoding. Each character is represented by one to four bytes. UTF-8 is backward-compatible with ASCII and can represent any standard Unicode character.">UTF-8</a> text string.</p>

<pre class="eval">DOMString text();
</pre>

<h4 id="text-parameters" name="text-parameters">Parameters</h4>

<p>None.</p>

<h3 id="json()" name="json()">json()</h3>

<p>Parses the message data as <a class="glossaryLink" href="/en-US/docs/Glossary/JSON" title="JSON: JavaScript Object Notation (JSON) is a data-interchange format.  Although not a strict subset, JSON closely resembles a subset of JavaScript syntax. Though many programming languages support JSON, JSON is especially useful for JavaScript-based apps, including websites and browser extensions.">JSON</a>.</p>

<pre class="eval">jsval json();
</pre>

<h4 id="json-parameters" name="json-parameters">Parameters</h4>

<p>None.</p>

<h3 id="binary()" name="binary()">binary()</h3>

<p>Extracts the message data as a byte array.</p>

<pre class="eval">void binary(
  [optional] out uint32_t dataLen,
  [array, retval, size_is(dataLen)] out uint8_t data
);
</pre>

<h4 id="binary-parameters" name="binary-parameters">Parameters</h4>

<dl>
 <dt><code>dataLen</code></dt>
 <dd>The data size.</dd>
 <dt><code>data</code></dt>
 <dd>The byte array containing the data.</dd>
</dl>

<div class="note">
<p><code>dataLen</code> and <code>data</code> are out parameters. When called from JavaScript, <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIPushMessage#binary()">nsIPushMessage.binary()</a></code> returns <code>data</code>. Please see <a href="/en-US/docs/Mozilla/XPIDL#Method_parameters" title="XPIDL is an Interface Description Language used to specify XPCOM interface classes.">Method parameters</a> in <a href="/en-US/docs/Mozilla/XPIDL" title="XPIDL is an Interface Description Language used to specify XPCOM interface classes.">XPIDL</a> for more details on using out parameters in JavaScript.</p>
</div>

<h2 id="See_also" name="See_also">See also</h2>

<ul>
 <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPushService" title="">nsIPushService</a></code></li>
 <li><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPushSubscription" title="">nsIPushSubscription</a></code></li>
 <li><a href="/en-US/docs/Web/API/PushMessageData" title="The PushMessageData interface of the Push API provides methods which let you retrieve the push data sent by a server in various formats."><code>PushMessageData</code></a></li>
</ul></div><div id="footer"><hr/><p>This page was originally written for <a href="https://developer.mozilla.org">developer.mozilla.org</a> and is used here under the <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike license</a> (CC-BY-SA).</p>
<p>Original contributors to this page: <a href="https://developer.mozilla.org/en-US/profiles/wbamberg">wbamberg</a>, <a href="https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot">mdnwebdocs-bot</a>, <a href="https://developer.mozilla.org/en-US/profiles/rolfedh">rolfedh</a>, <a href="https://developer.mozilla.org/en-US/profiles/kitcambridge">kitcambridge</a>.</p></div></body>
</html>
