<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://code.cdn.mozilla.net/fonts/zilla-slab.css"/>
    <link rel="stylesheet" href="/css/page.css"/>
    <title>nsITreeView</title>
  </head>

  <body><div class="content-heading"><h1>nsITreeView</h1></div>
<div class="content"><p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;">
<div style="background: #eee; padding: 2px;"><code><a href="https://dxr.mozilla.org/mozilla-central/source/layout/xul/base/src/tree/public/nsITreeView.idl" rel="custom">layout/xul/base/src/tree/public/nsITreeView.idl</a></code><span style="text-align: right; float: right;"><a href="/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div>
<span style="padding: 4px 2px;">

This interface is used by the tree widget to get information about what and how to display a tree widget.
</span>

<div style="background: #eee; padding: 2px;">
Inherits from: <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">nsISupports</a></code>
<span style="text-align: right; float: right;">Last changed in Gecko 22 (Firefox 22 / Thunderbird 22 / SeaMonkey 2.19)</span></div>
</div><p></p>

<p>Implementing a <code>nsITreeView</code> in lieu of <a href="/en/DOM" title="en/DOM">DOM</a> methods for tree creation can improve performance dramatically, and removes the need to make changes to the tree manually when changes to the database occur.</p>

<p>Further information about creating treeviews is given in the <a href="/en/XUL_Tutorial/Custom_Tree_Views" title="en/XUL_Tutorial/Custom_Tree_Views">XUL Tutorial</a>.</p>

<h2 id="Method_overview" name="Method_overview">Method overview</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td><code>boolean <a href="#canDrop()">canDrop</a>(in long index, in long orientation, in nsIDOMDataTransfer dataTransfer);</code> </td>
  </tr>
  <tr>
   <td><code>boolean <a href="#canDropBeforeAfter()">canDropBeforeAfter</a>(in long index, in boolean before);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#canDropOn()">canDropOn</a>(in long index);</code> <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#cycleCell()">cycleCell</a>(in long row, in nsITreeColumn col);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#cycleHeader()">cycleHeader</a>(in nsITreeColumn col);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#drop()">drop</a>(in long row, in long orientation, in nsIDOMDataTransfer dataTransfer);</code></td>
  </tr>
  <tr>
   <td><code>AString <a href="#getCellProperties()">getCellProperties</a>(in long row, in nsITreeColumn col, in nsISupportsArray properties </code><code><span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 22 / Thunderbird 22 / SeaMonkey 2.19)">Obsolete since Gecko 22</span></code><code>);</code></td>
  </tr>
  <tr>
   <td><code>AString <a href="#getCellText()">getCellText</a>(in long row, in nsITreeColumn col);</code></td>
  </tr>
  <tr>
   <td><code>AString <a href="#getCellValue()">getCellValue</a>(in long row, in nsITreeColumn col);</code></td>
  </tr>
  <tr>
   <td><code>AString <a href="#getColumnProperties()">getColumnProperties</a>(in nsITreeColumn col, in nsISupportsArray properties </code><code><span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 22 / Thunderbird 22 / SeaMonkey 2.19)">Obsolete since Gecko 22</span></code><code>);</code></td>
  </tr>
  <tr>
   <td><code>AString <a href="#getImageSrc()">getImageSrc</a>(in long row, in nsITreeColumn col);</code></td>
  </tr>
  <tr>
   <td><code>long <a href="#getLevel()">getLevel</a>(in long index);</code></td>
  </tr>
  <tr>
   <td><code>long <a href="#getParentIndex()">getParentIndex</a>(in long rowIndex);</code></td>
  </tr>
  <tr>
   <td><code>long <a href="#getProgressMode()">getProgressMode</a>(in long row, in nsITreeColumn col);</code></td>
  </tr>
  <tr>
   <td><code>AString <a href="#getRowProperties()">getRowProperties</a>(in long index, in nsISupportsArray properties <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 22 / Thunderbird 22 / SeaMonkey 2.19)">Obsolete since Gecko 22</span>);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#hasNextSibling()">hasNextSibling</a>(in long rowIndex, in long afterIndex);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#isContainer()">isContainer</a>(in long index);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#isContainerEmpty()">isContainerEmpty</a>(in long index);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#isContainerOpen()">isContainerOpen</a>(in long index);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#isEditable()">isEditable</a>(in long row, in nsITreeColumn col);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#isSelectable()">isSelectable</a>(in long row, in nsITreeColumn col);</code> </td>
  </tr>
  <tr>
   <td><code>boolean <a href="#isSeparator()">isSeparator</a>(in long index);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#isSorted()">isSorted</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#performAction()">performAction</a>(in wstring action);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#performActionOnCell()">performActionOnCell</a>(in wstring action, in long row, in nsITreeColumn col);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#performActionOnRow()">performActionOnRow</a>(in wstring action, in long row);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#selectionChanged()">selectionChanged</a>();</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#setCellText()">setCellText</a>(in long row, in nsITreeColumn col, in AString value);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#setCellValue()">setCellValue</a>(in long row, in nsITreeColumn col, in AString value);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#setTree()">setTree</a>(in nsITreeBoxObject tree);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#toggleOpenState()">toggleOpenState</a>(in long index);</code></td>
  </tr>
 </tbody>
</table>

<h2 id="Attributes" name="Attributes">Attributes</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Attribute</td>
   <td class="header">Type</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>rowCount</code></td>
   <td><code><a href="/en/long" title="en/long">long</a></code></td>
   <td>The total number of rows in the tree (including the offscreen rows). <strong>Read only.</strong></td>
  </tr>
  <tr>
   <td><code>selection</code></td>
   <td><code><code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITreeSelection" title="">nsITreeSelection</a></code></code></td>
   <td>The selection for this view.</td>
  </tr>
 </tbody>
</table>

<h2 id="Constants" name="Constants">Constants</h2>

<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Constant</td>
   <td class="header">Value</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>PROGRESS_NORMAL</code></td>
   <td><code>1</code></td>
   <td>
    <div class="note"><strong>Note:</strong> Renamed from <code>progressNormal</code> in Gecko 1.8</div>
   </td>
  </tr>
  <tr>
   <td><code>PROGRESS_UNDETERMINED</code></td>
   <td><code>2</code></td>
   <td>
    <div class="note"><strong>Note:</strong> Renamed from <code>progressUndetermined</code> in Gecko 1.8</div>
   </td>
  </tr>
  <tr>
   <td><code>PROGRESS_NONE</code></td>
   <td><code>3</code></td>
   <td>
    <div class="note"><strong>Note:</strong> Renamed from <code>progressNone</code> in Gecko 1.8</div>
   </td>
  </tr>
  <tr>
   <td><code>DROP_BEFORE</code></td>
   <td><code>-1</code></td>
   <td></td>
  </tr>
  <tr>
   <td><code>DROP_ON</code></td>
   <td><code>0</code></td>
   <td></td>
  </tr>
  <tr>
   <td><code>DROP_AFTER</code></td>
   <td><code>1</code></td>
   <td></td>
  </tr>
  <tr>
   <td><code>inDropBefore</code></td>
   <td><code>0</code></td>
   <td><span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>inDropOn</code></td>
   <td><code>1</code></td>
   <td><span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
  <tr>
   <td><code>inDropAfter</code></td>
   <td><code>2</code></td>
   <td><span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Obsolete since Gecko 1.8</span></td>
  </tr>
 </tbody>
</table>

<h2 id="Methods" name="Methods">Methods</h2>

<p></p><h3 id="canDrop()">canDrop()</h3><p></p>

<p>Methods used by the drag feedback code to determine if a drag is allowable at the current location. To get the behavior where drops are only allowed on items, such as the mailNews folder pane, always return <code>false</code> when the orientation is not <code>DROP_ON</code>.</p>

<div class="note"><strong>Note:</strong> <code>DROP_ON</code> will only be passed to <code>canDrop()</code> if the item is a container; see <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITreeView#isContainer()">isContainer()</a></code>.</div>

<pre class="eval">boolean canDrop(
  in long index,
  in long orientation,
  in nsIDOMDataTransfer dataTransfer
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>index</code></dt>
 <dd>The index of the row.</dd>
 <dt><code>orientation</code></dt>
 <dd>The position around the given row. Defined in <a href="#Constants">constants</a>.</dd>
 <dt><code>dataTransfer</code> </dt>
 <dd>This parameter, added in <span title="(Firefox 3.6 / Thunderbird 3.1 / Fennec 1.0)">Gecko 1.9.2</span>, provides the data being dragged, so that it can be examined to determine if a drop is possible.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p><code>true</code> if a drop is allowed at the current location; otherwise <code>false</code>.</p>

<p></p><div class="headingWithIndicator">
        <h3 id="canDropBeforeAfter()">canDropBeforeAfter()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)</span>
        </div><p></p>

<p>Method used by the drag feedback code to determine if a drag is allowable at the current location. To get the behavior where drops are only allowed on items, such as the mailNews folder pane, always return <code>false</code> from <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITreeView#canDropBeforeAfter()">canDropBeforeAfter()</a></code>.</p>

<pre class="eval">boolean canDropBeforeAfter(
  in long index,
  in boolean before
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>index</code></dt>
 <dd>The index of the item.</dd>
 <dt><code>before</code></dt>
 <dd><code>true</code> to test drop before. <code>false</code> to test drop after.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p><code>true</code> if a drop event can occur. Otherwise <code>false</code>.</p>

<p></p><div class="headingWithIndicator">
        <h3 id="canDropOn()">canDropOn()</h3>
        <span class="indicatorInHeadline obsolete obsoleteMethod">Obsolete since Gecko 1.8 (Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)</span>
        </div><p></p>

<p>Method used by the drag feedback code to determine if a drag is allowable at the current location. To get the behavior where drops are only allowed on items, such as the mailNews folder pane, always return <code>false</code> from <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITreeView#canDropBeforeAfter()">canDropBeforeAfter()</a></code>.</p>

<pre class="eval">boolean canDropOn(
  in long index
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>index</code></dt>
 <dd>The index of the item.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p><code>true</code> if a drop event can occur. Otherwise <code>false</code>.</p>

<h3 id="cycleCell()" name="cycleCell()">cycleCell()</h3>

<p>Called on the view when a cell in a non-selectable cycling column (for example, unread/flag/and so on.) is clicked.</p>

<pre class="eval">void cycleCell(
  in long row,
  in nsITreeColumn col
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>row</code></dt>
 <dd>The row of the cell.</dd>
 <dt><code>col</code></dt>
 <dd>The column of the cell.</dd>
</dl>

<h3 id="cycleHeader()" name="cycleHeader()">cycleHeader()</h3>

<p>Called on the view when a header is clicked.</p>

<pre class="eval">void cycleHeader(
  in nsITreeColumn col
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>col</code></dt>
 <dd>The column to cycle.</dd>
</dl>

<h3 id="drop()" name="drop()">drop()</h3>

<p>Called when the user drops something on this view. The <code>orientation</code> paramater specifies before/on/after the given <code>row</code>.</p>

<pre class="eval">void drop(
  in long row,
  in long orientation,
  in nsIDOMDataTransfer dataTransfer
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>row</code></dt>
 <dd>The index of the row.</dd>
 <dt><code>orientation</code></dt>
 <dd>The position around the given row. Defined in <a href="#Constants">constants</a>.</dd>
 <dt><code>dataTransfer</code> </dt>
 <dd>This parameter, added in <span title="(Firefox 3.6 / Thunderbird 3.1 / Fennec 1.0)">Gecko 1.9.2</span>, provides the data that has been dropped.</dd>
</dl>

<h3 id="getCellProperties()" name="getCellProperties()">getCellProperties()</h3>

<p>An atomized list of properties for a given cell. Each property, <code>x</code>, that the view gives back will cause the CSS <code>::moz-tree-cell-*(x)</code> pseudoelement to be matched on the <code>treechildren</code> element.</p>

<p>See <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITreeView#getRowProperties()">getRowProperties()</a></code> for an example.</p>

<pre class="eval">AString getCellProperties(
  in long row,
  in nsITreeColumn col,
  in nsISupportsArray properties
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>row</code></dt>
 <dd>The index of the row.</dd>
 <dt><code>col</code></dt>
 <dd>The current column.</dd>
 <dt><code>properties</code></dt>
 <dd>An array of the cell's current properties. <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 22 / Thunderbird 22 / SeaMonkey 2.19)">Obsolete since Gecko 22</span></dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>A string of space-separated property names. </p>

<h3 id="getCellText()" name="getCellText()">getCellText()</h3>

<p>The text for a given cell. If a column consists only of an image, then the empty string is returned.</p>

<pre class="eval">AString getCellText(
  in long row,
  in nsITreeColumn col
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>row</code></dt>
 <dd>The index of the row.</dd>
 <dt><code>col</code></dt>
 <dd>The column of the cell. (Note that this is not the column index.)</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>The text of the cell.</p>

<h3 id="getCellValue()" name="getCellValue()">getCellValue()</h3>

<p>The value for a given cell. This method is only called for columns of type other than <code>text</code>.</p>

<pre class="eval">AString getCellValue(
  in long row,
  in nsITreeColumn col
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>row</code></dt>
 <dd>The index of the row.</dd>
 <dt><code>col</code></dt>
 <dd>The column of the cell. (Note that this is not the column index.)</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>The value of the cell.</p>

<h3 id="getColumnProperties()" name="getColumnProperties()">getColumnProperties()</h3>

<p>Called to get properties to paint a column background. For shading the sort column, and so on. Each property, <code>x</code>, that the view gives back will cause the CSS  <code>::moz-tree-column(x)</code> to be matched on the <code>treechildren</code> element.</p>

<p>See <code><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITreeView#getRowProperties()">getRowProperties()</a></code> for an example.</p>

<pre class="eval">void getColumnProperties(
  in nsITreeColumn col,
  in nsISupportsArray properties
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>col</code></dt>
 <dd>The current column.</dd>
 <dt><code>properties</code></dt>
 <dd>An array of the column's current properties. <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 22 / Thunderbird 22 / SeaMonkey 2.19)">Obsolete since Gecko 22</span></dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>A string of space-separated property names. </p>

<h3 id="getImageSrc()" name="getImageSrc()">getImageSrc()</h3>

<p>The image path for a given cell. For defining an icon for a cell. If the empty string is returned, the <code>::moz-tree-image</code> pseudoelement will be used.</p>

<pre class="eval">AString getImageSrc(
  in long row,
  in nsITreeColumn col
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>row</code></dt>
 <dd>The index of the row.</dd>
 <dt><code>col</code></dt>
 <dd>The index of the column.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>The image path of the cell.</p>

<h3 id="getLevel()" name="getLevel()">getLevel()</h3>

<p>The level is an integer value that represents the level of indentation. It is multiplied by the width specified in the <code>::moz-tree-indentation</code> pseudoelement to compute the exact indentation.</p>

<pre class="eval">long getLevel(
  in long index
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>index</code></dt>
 <dd>The index of the item.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>The level of indentation.</p>

<h3 id="getParentIndex()" name="getParentIndex()">getParentIndex()</h3>

<p>Methods used by the tree to draw thread lines in the tree. <code>getParentIndex</code> is used to obtain the index of a parent row. If there is no parent row, <code>getParentIndex</code> returns -1.</p>

<pre class="eval">long getParentIndex(
  in long rowIndex
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>rowIndex</code></dt>
 <dd>The index of the row whose parent should be found.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>The row index of the parent row.</p>

<h3 id="getProgressMode()" name="getProgressMode()">getProgressMode()</h3>

<p>The progress mode for a given cell. This method is only called for columns of type <code>progressmeter</code>. See the <a href="#Constants">constants</a> section for possible modes.</p>

<pre class="eval">long getProgressMode(
  in long row,
  in nsITreeColumn col
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>row</code></dt>
 <dd>The index of the row.</dd>
 <dt><code>col</code></dt>
 <dd>The index of the column.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>The progress mode for the cell.</p>

<h3 id="getRowProperties()" name="getRowProperties()">getRowProperties()</h3>

<p>An atomized list of properties for a given row. Each property, <code>x</code>, that the view gives back will cause the CSS <code>::moz-tree-row(x)</code> pseudoelement to be matched on the <code>treechildren</code> element.</p>

<pre class="eval">void getRowProperties(
  in long index,
  in nsISupportsArray properties
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>index</code></dt>
 <dd>The index of the row.</dd>
 <dt><code>properties</code></dt>
 <dd>An array of the row's current properties. <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 22 / Thunderbird 22 / SeaMonkey 2.19)">Obsolete since Gecko 22</span></dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p>A string of space-separated property names. </p>

<h6 id="Example" name="Example">Example</h6>

<p> Your function will not be provided with a <code>properties</code> array. (This is one way of detecting the version at run-time). Simply return a string of space-separated property names. For example:</p>

<pre class="brush: js">getRowProperties: function(index) {
  return "dummy";
}
</pre>

<p></p><div class="blockIndicator obsolete obsoleteHeader"><p><strong><span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work."><i class="icon-trash"> </i></span> Obsolete since Gecko 22 (Firefox 22 / Thunderbird 22 / SeaMonkey 2.19)</strong><br>This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.</p></div> To add properties for a particular row, you must use the <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIAtomService" title="">nsIAtomService</a></code> to create an <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIAtom" title="">nsIAtom</a></code> string, which can then be appended to the array to alter the style (see also <a href="/en/XUL_Tutorial/Styling_a_Tree" title="en/XUL_Tutorial/Styling_a_Tree">Styling a Tree</a>)<p></p>

<pre class="brush: js">getRowProperties: function(index, properties) {
  var atomService = Components.classes["@mozilla.org/atom-service;1"].getService(Components.interfaces.nsIAtomService);
  var atom = atomService.getAtom("dummy");
  properties.AppendElement(atom);
}
</pre>

<h3 id="hasNextSibling()" name="hasNextSibling()">hasNextSibling()</h3>

<p>Used to determine if the row at <code>rowIndex</code> has a nextSibling that occurs <strong>after</strong> the index specified by <code>afterIndex</code>. Code that is forced to march down the view looking at levels can optimize the march by starting at <code>afterIndex+1</code>.</p>

<pre class="eval">boolean hasNextSibling(
  in long rowIndex,
  in long afterIndex
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>rowIndex</code></dt>
 <dd>The index of the item.</dd>
 <dt><code>afterIndex</code></dt>
 <dd>The index of the item to find siblings after.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p><code>true</code> if the row has a next sibling. Otherwise <code>false</code></p>

<h3 id="isContainer()" name="isContainer()">isContainer()</h3>

<p>Whether the row has the potential to hold other rows within it. This does not determine whether a twisty is actually drawn; that's left up to <code>isContainerEmpty</code>. For very simple tree views, such as those without multi-level data, you might want to consider using something simpler than a tree view, such as a <a href="/en/XUL/listbox" title="en/XUL/listbox">listbox</a>.</p>

<p>For tree views with multi-level data, it's advisable to distinguish between a row which is an <em>empty container</em> (i.e., a row with the potential to hold children but that currently has none), and a <em>non-empty container</em> (i.e., a row that positively does currently have children). The tree frame code that handles drag and drop, for example, uses this method to determine how to interpret the drop position.</p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> <code>nsITreeView</code> implementations must be prepared to handle a call to <code>toggleOpenState</code> for any row index which returns <code>true</code> for a call to <code>isContainer</code>, even if <code>isContainerEmpty</code> returns <code>true</code>.</div><p></p>

<pre class="eval">boolean isContainer(
  in long index
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>index</code></dt>
 <dd>The index of the row being asked about.</dd>
</dl>

<h6 id="Return_value_2">Return value</h6>

<p><code>true</code> if the row is a container. Otherwise <code>false</code>.</p>

<h3 id="isContainerEmpty()" name="isContainerEmpty()">isContainerEmpty()</h3>

<p>One of the methods that can be used to test whether or not a twisty should be drawn, and if so, whether an open or closed twisty should be used.</p>

<pre class="eval">boolean isContainerEmpty(
  in long index
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>index</code></dt>
 <dd>The index of the item being asked about.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p><code>true</code> if the item is an empty container. Otherwise <code>false</code>.</p>

<h3 id="isContainerOpen()" name="isContainerOpen()">isContainerOpen()</h3>

<p>One of the methods that can be used to test whether or not a twisty should be drawn, and if so, whether an open or closed twisty should be used.</p>

<pre class="eval">boolean isContainerOpen(
  in long index
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>index</code></dt>
 <dd>The index of the item being asked about.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p><code>true</code> if the item is an open container. Otherwise <code>false</code>.</p>

<h3 id="isEditable()" name="isEditable()">isEditable()</h3>

<p>Called to ask the view if the cell contents are editable. A value of <code>true</code> will result in the tree popping up a text field when the user tries to inline edit the cell.</p>

<pre class="eval">boolean isEditable(
  in long row,
  in nsITreeColumn col
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>row</code></dt>
 <dd>The row of the cell.</dd>
 <dt><code>col</code></dt>
 <dd>The column of the cell.</dd>
</dl>

<p></p><h3 id="isSelectable()">isSelectable()</h3><p></p>

<p>Called to ask the view if the cell is selectable. This method is only called if the selection type is <code>cell</code> or <code>text</code>.</p>

<pre class="eval">boolean isSelectable(
  in long row,
  in nsITreeColumn col
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>row</code></dt>
 <dd>The row of the cell.</dd>
 <dt><code>col</code></dt>
 <dd>The column of the cell.</dd>
</dl>

<h6 id="Return_value" name="Return_value">Return value</h6>

<p><code>true</code> if the cell is selectable. Otherwise <code>false</code>.</p>

<h3 id="isSeparator()" name="isSeparator()">isSeparator()</h3>

<p>Used to determine if the row at index is a separator. A value of <code>true</code> will result in the tree drawing a horizontal separator. The tree uses the <code>::moz-tree-separator</code> pseudoelement to draw the separator.</p>

<pre class="eval">boolean isSeparator(
  in long index
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>index</code></dt>
 <dd>The index of the item being asked about.</dd>
</dl>

<p><code>true</code> if the row is a separator. Otherwise <code>false</code>.</p>

<h3 id="isSorted()" name="isSorted()">isSorted()</h3>

<p>Specifies if there is currently a sort on any column. Used mostly by dragdrop to affect drop feedback.</p>

<pre class="eval">boolean isSorted();
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<p>None.</p>

<p><code>true</code> if the column is sorted. Otherwise <code>false</code>.</p>

<h3 id="performAction()" name="performAction()">performAction()</h3>

<p>A command API that can be used to invoke commands on the selection. The tree will automatically invoke this method when certain keys are pressed. For example, when the <code>DEL</code> key is pressed, <code>performAction</code> will be called with the <code>delete</code> string.</p>

<pre class="eval">void performAction(
  in wstring action
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>action</code></dt>
 <dd>The action to perform.</dd>
</dl>

<h3 id="performActionOnCell()" name="performActionOnCell()">performActionOnCell()</h3>

<p>A command API that can be used to invoke commands on a specific cell.</p>

<pre class="eval">void performActionOnCell(
  in wstring action,
  in long row,
  in nsITreeColumn col
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>action</code></dt>
 <dd>The action to perform.</dd>
 <dt><code>row</code></dt>
 <dd>The row of the cell.</dd>
 <dt><code>col</code></dt>
 <dd>The column of the cell.</dd>
</dl>

<h3 id="performActionOnRow()" name="performActionOnRow()">performActionOnRow()</h3>

<p>A command API that can be used to invoke commands on a specific row.</p>

<pre class="eval">void performActionOnRow(
  in wstring action,
  in long row
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>action</code></dt>
 <dd>The action to perform.</dd>
 <dt><code>row</code></dt>
 <dd>The row of the cell.</dd>
</dl>

<h3 id="selectionChanged()" name="selectionChanged()">selectionChanged()</h3>

<p>Should be called from a XUL onselect handler whenever the selection changes.</p>

<pre class="eval">void selectionChanged();
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<p>None.</p>

<h3 id="setCellText()" name="setCellText()">setCellText()</h3>

<p><code>setCellText</code> is called when the contents of the cell have been edited by the user.</p>

<pre class="eval">void setCellText(
  in long row,
  in nsITreeColumn col,
  in AString value
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>row</code></dt>
 <dd>The row of the cell.</dd>
 <dt><code>col</code></dt>
 <dd>The column of the cell.</dd>
 <dt><code>value</code></dt>
 <dd>The text to change the cell to.</dd>
</dl>

<p></p><h3 id="setCellValue()">setCellValue()</h3><p></p>

<p><code>setCellValue</code> is called when the value of the cell has been set by the user. This method is only called for columns of type other than <code>text</code>.</p>

<pre class="eval">void setCellValue(
  in long row,
  in nsITreeColumn col,
  in AString value
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>row</code></dt>
 <dd>The row of the cell.</dd>
 <dt><code>col</code></dt>
 <dd>The column of the cell.</dd>
 <dt><code>value</code></dt>
 <dd>The value to change the cell to.</dd>
</dl>

<h3 id="setTree()" name="setTree()">setTree()</h3>

<p>Called when setting or clearing the view on the tree to link the view to or disconnect the front end box object.</p>

<pre class="eval">void setTree(
  in nsITreeBoxObject tree
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>tree</code></dt>
 <dd>The <code><a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsITreeBoxObject" title="">nsITreeBoxObject</a></code> to attach this view to, or null if the view is being removed from the tree.</dd>
</dl>

<h3 id="toggleOpenState()" name="toggleOpenState()">toggleOpenState()</h3>

<p>Called on the view when an item is opened or closed, e.g., by clicking the twisty, keyboard access, et cetera.</p>

<p></p><div class="blockIndicator note"><strong>Note:</strong> As of this writing (Gecko 2.0), custom <code>nsITreeView</code> implementations must be prepared to handle a call to <code>toggleOpenState</code> for any row index which returns true for a call to <code>isContainer</code>, regardless of whether the container is empty.</div><p></p>

<pre class="eval">void toggleOpenState(
  in long index
);
</pre>

<h6 id="Parameters" name="Parameters">Parameters</h6>

<dl>
 <dt><code>index</code></dt>
 <dd>The index of the row to toggle.</dd>
</dl>

<h2 id="See_also" name="See_also">See also</h2>

<ul>
 <li><a href="/en/Tree_Widget_Changes" title="en/Tree_Widget_Changes">Tree Widget Changes</a> (applies to <span title="(Firefox 1.5 / Thunderbird 1.5 / SeaMonkey 1.0)">Gecko 1.8</span> and later)</li>
 <li><a href="/en/XUL_Tutorial/Tree_View_Details" title="en/XUL_Tutorial/Tree_View_Details">XUL Tutorial:Tree View Details</a></li>
 <li><a href="/en/Sorting_and_filtering_a_custom_tree_view" title="en/Sorting_and_filtering_a_custom_tree_view">Sorting and filtering a custom tree view</a></li>
</ul>

<p>When working with tree views, the tree box object may also be useful</p>

<ul>
 <li><a href="/en/XUL_Tutorial/Tree_Box_Objects" title="en/XUL_Tutorial/Tree_Box_Objects">XUL Tutorial:Tree Box Objects</a></li>
</ul></div><div id="footer"><hr/><p>This page was originally written for <a href="https://developer.mozilla.org">developer.mozilla.org</a> and is used here under the <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike license</a> (CC-BY-SA).</p>
<p>Original contributors to this page: <a href="https://developer.mozilla.org/en-US/profiles/wbamberg">wbamberg</a>, <a href="https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot">mdnwebdocs-bot</a>, <a href="https://developer.mozilla.org/en-US/profiles/SphinxKnight">SphinxKnight</a>, <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>, <a href="https://developer.mozilla.org/en-US/profiles/Neil">Neil</a>, <a href="https://developer.mozilla.org/en-US/profiles/Sevenspade">Sevenspade</a>, <a href="https://developer.mozilla.org/en-US/profiles/trevorh">trevorh</a>, <a href="https://developer.mozilla.org/en-US/profiles/Ale2010">Ale2010</a>, <a href="https://developer.mozilla.org/en-US/profiles/kewisch">kewisch</a>, <a href="https://developer.mozilla.org/en-US/profiles/Wjjohnst">Wjjohnst</a>, <a href="https://developer.mozilla.org/en-US/profiles/roel">roel</a>, <a href="https://developer.mozilla.org/en-US/profiles/novotnyr">novotnyr</a>, <a href="https://developer.mozilla.org/en-US/profiles/bsmozilla">bsmozilla</a>, <a href="https://developer.mozilla.org/en-US/profiles/Smi">Smi</a>, <a href="https://developer.mozilla.org/en-US/profiles/Brettz9">Brettz9</a>, <a href="https://developer.mozilla.org/en-US/profiles/Np">Np</a>, <a href="https://developer.mozilla.org/en-US/profiles/Mook">Mook</a>, <a href="https://developer.mozilla.org/en-US/profiles/Dikrib">Dikrib</a>.</p></div></body>
</html>
