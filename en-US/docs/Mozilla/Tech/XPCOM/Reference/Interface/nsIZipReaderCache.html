<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://code.cdn.mozilla.net/fonts/zilla-slab.css"/>
    <link rel="stylesheet" href="/css/page.css"/>
    <title>nsIZipReaderCache</title>
  </head>

  <body><nav class="breadcrumbs"><a href="../../../../../Mozilla.html">Mozilla</a>&raquo;<a href="../../../../Tech.html">Tech</a>&raquo;<a href="../../../XPCOM.html">XPCOM</a>&raquo;<a href="../../Reference.html">Reference</a>&raquo;<a href="../Interface.html">Interface</a></nav><div class="content-heading"><h1>nsIZipReaderCache</h1></div>
<div class="content"><p>
</p>
<div style="border: solid #ddd 2px; margin-bottom: 12px;">
 <div style="background: #eee; padding: 2px;">
  <code>
   <a href="https://dxr.mozilla.org/mozilla-central/source/modules/libjar/nsIZipReader.idl" rel="custom">
    modules/libjar/nsIZipReader.idl
   </a>
  </code>
  <span style="text-align: right; float: right;">
   <a href="https://developer.mozilla.org/en-US/docs/Interfaces/About_Scriptable_Interfaces" style="color: #00cc00; font-weight: 700;">
    Scriptable
   </a>
  </span>
 </div>
 <span style="padding: 4px 2px;">
  <i>
   Please add a summary to this article.
  </i>
 </span>
 <div style="background: #eee; padding: 2px;">
  Inherits from:
  <code>
   <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">
    nsISupports
   </a>
  </code>
  <span style="text-align: right; float: right;">
   Last changed in Gecko 10.0 (Firefox 10.0 / Thunderbird 10.0 / SeaMonkey 2.7)
  </span>
 </div>
</div>
<p>
</p>
<p>
 Implemented by:
 <code>
  @mozilla.org/libjar/zip-reader-cache;1
 </code>
 . To create an instance, use:
</p>
<pre class="eval">var zipReaderCache = Components.classes["@mozilla.org/libjar/zip-reader-cache;1"]
                     .createInstance(Components.interfaces.nsIZipReaderCache);
</pre>
<h2 id="Method_overview" name="Method_overview">
 Method overview
</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td>
    <code>
     nsIZipReader
     <a href="#getInnerZip">
      getInnerZip
     </a>
     (in nsIFile zipFile, in AUTF8String zipEntry);
    </code>
    <br>
     <code>
      nsIZipReader
      <a href="#getInnerZip">
       getInnerZip
      </a>
      (in nsIFile zipFile, in string zipEntry);
     </code>
     <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 10 / Thunderbird 10 / SeaMonkey 2.7)">
      Obsolete since Gecko 10
     </span>
    </br>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     nsIZipReader
     <a href="#getZip()">
      getZip
     </a>
     (in nsIFile zipFile);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#init()">
      init
     </a>
     (in unsigned long cacheSize);
    </code>
   </td>
  </tr>
 </tbody>
</table>
<h2 id="Methods" name="Methods">
 Methods
</h2>
<h3 id="getZip()" name="getZip()">
 getInnerZip()
</h3>
<p>
 Returns a (possibly shared) cached
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIZipReader" title="">
   nsIZipReader
  </a>
 </code>
 for a zip inside another zip.
</p>
<pre class="eval">nsIZipReader getInnerZip(
  in nsIFile zipFile,
  in AUTF8String zipEntry
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
 </dt>
 <dt>
  <code>
   zipFile
  </code>
 </dt>
 <dd>
  The zip file.
 </dd>
 <dt>
  <code>
   zipEntry
  </code>
 </dt>
 <dd>
  The zip entry.
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 The
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIZipReader" title="">
   nsIZipReader
  </a>
 </code>
 for the given zip file.
</p>
<h3 id="getZip()" name="getZip()">
 getZip()
</h3>
<p>
 Returns a (possibly shared) cached
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIZipReader" title="">
   nsIZipReader
  </a>
 </code>
 for a zip file.
</p>
<p>
 If the zip reader for the given file is not in the cache, a new
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIZipReader" title="">
   nsIZipReader
  </a>
 </code>
 is opened (see
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIZipReader">
   nsIZipReader.open()
  </a>
 </code>
 ). Otherwise the previously created
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIZipReader" title="">
   nsIZipReader
  </a>
 </code>
 is returned.
</p>
<p>
</p>
<div class="blockIndicator note">
 <strong>
  Note:
 </strong>
 If
 <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIZipReader">
  nsIZipReader.close
 </a>
 has been called on the shared
 <code>
  nsIZipReader
 </code>
 , this method will return the closed
 <code>
  nsIZipReader
 </code>
</div>
<p>
</p>
<pre class="eval">nsIZipReader getZip(
  in nsIFile zipFile
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   zipFile
  </code>
 </dt>
 <dd>
  The zip file.
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 The
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIZipReader" title="">
   nsIZipReader
  </a>
 </code>
 for the given zip file.
</p>
<h3 id="init()" name="init()">
 init()
</h3>
<p>
 Initializes a new zip reader cache.
</p>
<pre class="eval">void init(
  in unsigned long cacheSize
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   cacheSize
  </code>
 </dt>
 <dd>
  The number of released entries to maintain before beginning to throw some out. The number of outstanding entries can be much greater than this number, this is the count for those otherwise unused entries.
 </dd>
</dl>
<h2 id="See_also" name="See_also">
 See also
</h2>
<ul>
 <li>
  <code>
   <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIZipReader" title="">
    nsIZipReader
   </a>
  </code>
 </li>
</ul></div><div id="footer"><hr/><p>This page was originally written for <a href="https://developer.mozilla.org">developer.mozilla.org</a> and is used here under the <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike license</a> (CC-BY-SA).</p>
<p>Original contributors to this page: <a href="https://developer.mozilla.org/en-US/profiles/wbamberg">wbamberg</a>, <a href="https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot">mdnwebdocs-bot</a>, <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>, <a href="https://developer.mozilla.org/en-US/profiles/fscholz">fscholz</a>, <a href="https://developer.mozilla.org/en-US/profiles/Wolfgang%20Germund">Wolfgang Germund</a>, <a href="https://developer.mozilla.org/en-US/profiles/trevorh">trevorh</a>.</p></div></body>
</html>
