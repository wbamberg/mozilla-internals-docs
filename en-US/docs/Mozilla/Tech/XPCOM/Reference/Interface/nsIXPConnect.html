<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://code.cdn.mozilla.net/fonts/zilla-slab.css"/>
    <link rel="stylesheet" href="/css/page.css"/>
    <title>nsIXPConnect</title>
  </head>

  <body><nav class="breadcrumbs"><a href="../../../../../Mozilla.html">Mozilla</a>&raquo;<a href="../../../../Tech.html">Tech</a>&raquo;<a href="../../../XPCOM.html">XPCOM</a>&raquo;<a href="../../Reference.html">Reference</a>&raquo;<a href="../Interface.html">Interface</a></nav><div class="content-heading"><h1>nsIXPConnect</h1></div>
<div class="content"><p>
</p>
<div style="border: solid #ddd 2px; margin-bottom: 12px;">
 <div style="background: #eee; padding: 2px;">
  <code>
   <a href="https://dxr.mozilla.org/mozilla-central/source/js/src/xpconnect/idl/nsIXPConnect.idl" rel="custom">
    js/src/xpconnect/idl/nsIXPConnect.idl
   </a>
  </code>
  <span style="text-align: right; float: right;">
   <span style="color: #cc0000; font-weight: 700;">
    Not scriptable
   </span>
  </span>
 </div>
 <span style="padding: 4px 2px;">
  Provides the XPConnect service.
 </span>
 <div style="background: #eee; padding: 2px;">
  Inherits from:
  <code>
   <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">
    nsISupports
   </a>
  </code>
  <span style="text-align: right; float: right;">
   Last changed in Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)
  </span>
 </div>
</div>
<p>
</p>
<p>
 To access the XPConnect service, use code like this:
</p>
<pre>nsresult rv;
nsCOMPtr&lt;nsIXPConnect&gt; xpconnect = do_GetService(nsIXPConnect::GetCID(), &amp;rv);
if (NS_SUCCEEDED(rv)) {
  /* use the object */
} 
</pre>
<h2 id="Method_overview" name="Method_overview">
 Method overview
</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td>
    <code>
     void
     <a href="#addJSHolder()">
      addJSHolder
     </a>
     (in voidPtr aHolder, in nsScriptObjectTracerPtr aTracer);
    </code>
    <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">
     Native code only!
    </span>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#clearAllWrappedNativeSecurityPolicies()">
      clearAllWrappedNativeSecurityPolicies
     </a>
     ();
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     nsIXPConnectJSObjectHolder
     <a href="#createSandbox()">
      createSandbox
     </a>
     (in JSContextPtr cx, in nsIPrincipal principal);
    </code>
    <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">
     Native code only!
    </span>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     nsIStackFrame
     <a href="#createStackFrameLocation()">
      createStackFrameLocation
     </a>
     (in PRUint32 aLanguage, in string aFilename, in string aFunctionName, in PRInt32 aLineNumber, in nsIStackFrame aCaller);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#debugDump()">
      debugDump
     </a>
     (in short depth);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#debugDumpEvalInJSStackFrame()">
      debugDumpEvalInJSStackFrame
     </a>
     (in PRUint32 aFrameNumber, in string aSourceText);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#debugDumpJSStack()">
      debugDumpJSStack
     </a>
     (in PRBool showArgs, in PRBool showLocals, in PRBool showThisProps);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#debugDumpObject()">
      debugDumpObject
     </a>
     (in nsISupports aCOMObj, in short depth);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     [noscript,notxpcom] PRBool
     <a href="#defineDOMQuickStubs()">
      defineDOMQuickStubs
     </a>
     (in JSContextPtr cx, in JSObjectPtr proto, in PRUint32 flags, in PRUint32 interfaceCount, [array, size_is(interfaceCount)] in nsIIDPtr interfaceArray);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     jsval
     <a href="#evalInSandboxObject()">
      evalInSandboxObject
     </a>
     (in AString source, in JSContextPtr cx, in nsIXPConnectJSObjectHolder sandbox, in PRBool returnStringOnly);
    </code>
    <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">
     Native code only!
    </span>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#flagSystemFilenamePrefix()">
      flagSystemFilenamePrefix
     </a>
     (in string aFilenamePrefix, in PRBool aWantNativeWrappers);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#GarbageCollect()">
      GarbageCollect
     </a>
     ();
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     [noscript,notxpcom] void
     <a href="#getCaller()">
      getCaller
     </a>
     (out JSContextPtr aJSContext, out JSObjectPtr aObject);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     JSVal
     <a href="#getCOWForObject()">
      getCOWForObject
     </a>
     (in JSContextPtr aJSContext, in JSObjectPtr aParent, in JSObjectPtr aWrappedObj);
    </code>
    <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">
     Native code only!
    </span>
    <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">
     Obsolete since Gecko 2.0
    </span>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#getDefaultSecurityManager()">
      getDefaultSecurityManager
     </a>
     (out nsIXPCSecurityManager aManager, out PRUint16 flags);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     nsIXPCFunctionThisTranslator
     <a href="#getFunctionThisTranslator()">
      getFunctionThisTranslator
     </a>
     (in nsIIDRef aIID);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     JSObjectPtr
     <a href="#getJSObjectOfWrapper()">
      getJSObjectOfWrapper
     </a>
     (in JSContextPtr aJSContext, in JSObjectPtr aJSObj);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     [noscript, notxpcom] nsISupports
     <a href="#getNativeOfWrapper()">
      getNativeOfWrapper
     </a>
     (in JSContextPtr aJSContext, in JSObjectPtr aJSObj);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#getSecurityManagerForJSContext()">
      getSecurityManagerForJSContext
     </a>
     (in JSContextPtr aJSContext, out nsIXPCSecurityManager aManager, out PRUint16 flags);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     nsIXPConnectWrappedNative
     <a href="#getWrappedNativeOfJSObject()">
      getWrappedNativeOfJSObject
     </a>
     (in JSContextPtr aJSContext, in JSObjectPtr aJSObj);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     nsIXPConnectWrappedNative
     <a href="#getWrappedNativeOfNativeObject()">
      getWrappedNativeOfNativeObject
     </a>
     (in JSContextPtr aJSContext, in JSObjectPtr aScope, in nsISupports aCOMObj, in nsIIDRef aIID);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     nsIXPConnectJSObjectHolder
     <a href="#getWrappedNativePrototype()">
      getWrappedNativePrototype
     </a>
     (in JSContextPtr aJSContext, in JSObjectPtr aScope, in nsIClassInfo aClassInfo);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     JSVal
     <a href="#getWrapperForObject()">
      getWrapperForObject
     </a>
     (in JSContextPtr aJSContext, in JSObjectPtr aObject, in JSObjectPtr aScope, in nsIPrincipal aPrincipal, in unsigned long aFilenameFlags);
    </code>
    <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">
     Native code only!
    </span>
    <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">
     Obsolete since Gecko 2.0
    </span>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     JSVal
     <a href="#getXOWForObject()">
      getXOWForObject
     </a>
     (in JSContextPtr aJSContext, in JSObjectPtr aParent, in JSObjectPtr aWrappedObj);
    </code>
    <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">
     Native code only!
    </span>
    <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">
     Obsolete since Gecko 2.0
    </span>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#GetXPCWrappedNativeJSClassInfo()">
      GetXPCWrappedNativeJSClassInfo
     </a>
     (out JSEqualityOp equality);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     nsIXPConnectJSObjectHolder
     <a href="#holdObject()">
      holdObject
     </a>
     (in JSContextPtr aJSContext, in JSObjectPtr aObject);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#initClasses()">
      initClasses
     </a>
     (in JSContextPtr aJSContext, in JSObjectPtr aGlobalJSObj);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     nsIXPConnectJSObjectHolder
     <a href="#initClassesWithNewWrappedGlobal()">
      initClassesWithNewWrappedGlobal
     </a>
     (in JSContextPtr aJSContext, in nsISupports aCOMObj, in nsIIDRef aIID, in nsIPrincipal aPrincipal, in nsISupports aExtraPtr, in PRUint32 aFlags);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     nsIVariant
     <a href="#JSToVariant()">
      JSToVariant
     </a>
     (in JSContextPtr ctx, in jsval value);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     nsIVariant
     <a href="#jSValToVariant()">
      jSValToVariant
     </a>
     (in JSContextPtr cx, in JSValPtr aJSVal);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#moveWrappers()">
      moveWrappers
     </a>
     (in JSContextPtr aJSContext, in JSObjectPtr aOldScope, in JSObjectPtr aNewScope);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     [noscript,notxpcom] void
     <a href="#noteJSContext()">
      noteJSContext
     </a>
     (in JSContextPtr aJSContext, in nsCCTraversalCallbackRef aCb);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#releaseJSContext()">
      releaseJSContext
     </a>
     (in JSContextPtr aJSContext, in PRBool noGC);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#removeJSHolder()">
      removeJSHolder
     </a>
     (in voidPtr aHolder);
    </code>
    <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">
     Native code only!
    </span>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#reparentScopeAwareWrappers()">
      reparentScopeAwareWrappers
     </a>
     (in JSContextPtr aJSContext, in JSObjectPtr aOldScope, in JSObjectPtr aNewScope);
    </code>
    <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3.5 / Thunderbird 3.0 / SeaMonkey 2.0)">
     Obsolete since Gecko 1.9.1
    </span>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     nsIXPConnectJSObjectHolder
     <a href="#reparentWrappedNativeIfFound()">
      reparentWrappedNativeIfFound
     </a>
     (in JSContextPtr aJSContext, in JSObjectPtr aScope, in JSObjectPtr aNewParent, in nsISupports aCOMObj);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#restoreWrappedNativePrototype()">
      restoreWrappedNativePrototype
     </a>
     (in JSContextPtr aJSContext, in JSObjectPtr aScope, in nsIClassInfo aClassInfo, in nsIXPConnectJSObjectHolder aPrototype);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#setDebugModeWhenPossible()">
      setDebugModeWhenPossible
     </a>
     (in PRBool mode);
    </code>
    <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">
     Native code only!
    </span>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#setDefaultSecurityManager()">
      setDefaultSecurityManager
     </a>
     (in nsIXPCSecurityManager aManager, in PRUint16 flags);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     nsIXPCFunctionThisTranslator
     <a href="#setFunctionThisTranslator()">
      setFunctionThisTranslator
     </a>
     (in nsIIDRef aIID, in nsIXPCFunctionThisTranslator aTranslator);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#setReportAllJSExceptions()">
      setReportAllJSExceptions
     </a>
     (in boolean reportAllJSExceptions);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#setSafeJSContextForCurrentThread()">
      setSafeJSContextForCurrentThread
     </a>
     (in JSContextPtr cx);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#setSecurityManagerForJSContext()">
      setSecurityManagerForJSContext
     </a>
     (in JSContextPtr aJSContext, in nsIXPCSecurityManager aManager, in PRUint16 flags);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#syncJSContexts()">
      syncJSContexts
     </a>
     ();
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#updateXOWs()">
      updateXOWs
     </a>
     (in JSContextPtr aJSContext, in nsIXPConnectWrappedNative aObject, in PRUint32 aWay);
    </code>
    <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">
     Native code only!
    </span>
    <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">
     Obsolete since Gecko 2.0
    </span>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     jsval
     <a href="#variantToJS()">
      variantToJS
     </a>
     (in JSContextPtr ctx, in JSObjectPtr scope, in nsIVariant value);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#wrapJS()">
      wrapJS
     </a>
     (in JSContextPtr aJSContext, in JSObjectPtr aJSObj, in nsIIDRef aIID, [iid_is(aIID),retval] out nsQIResult result);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#wrapJSAggregatedToNative()">
      wrapJSAggregatedToNative
     </a>
     (in nsISupports aOuter, in JSContextPtr aJSContext, in JSObjectPtr aJSObj, in nsIIDRef aIID, [iid_is(aIID),retval] out nsQIResult result);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     nsIXPConnectJSObjectHolder
     <a href="#wrapNative()">
      wrapNative
     </a>
     (in JSContextPtr aJSContext, in JSObjectPtr aScope, in nsISupports aCOMObj, in nsIIDRef aIID);
    </code>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     void
     <a href="#wrapNativeToJSVal()">
      wrapNativeToJSVal
     </a>
     (in JSContextPtr aJSContext, in JSObjectPtr aScope, in nsISupports aCOMObj, in nsWrapperCachePtr aCache, in nsIIDPtr aIID, in boolean aAllowWrapper, out jsval aVal, out nsIXPConnectJSObjectHolder aHolder);
    </code>
   </td>
  </tr>
 </tbody>
</table>
<h2 id="Attributes" name="Attributes">
 Attributes
</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">
    Attribute
   </td>
   <td class="header">
    Type
   </td>
   <td class="header">
    Description
   </td>
  </tr>
  <tr>
   <td>
    <code>
     collectGarbageOnMainThreadOnly
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSPR/Reference/PRBool" title="en/PRBool">
      PRBool
     </a>
    </code>
   </td>
   <td>
    <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">
     Obsolete since Gecko 1.9
    </span>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     CurrentJSStack
    </code>
   </td>
   <td>
    <code>
     <code>
      <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIStackFrame" title="">
       nsIStackFrame
      </a>
     </code>
    </code>
   </td>
   <td>
    <strong>
     Read only.
    </strong>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     CurrentNativeCallContext
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/nsAXPCNativeCallContextPtr" title="en/nsAXPCNativeCallContextPtr">
      nsAXPCNativeCallContextPtr
     </a>
    </code>
   </td>
   <td>
    <strong>
     Read only.
    </strong>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     deferReleasesUntilAfterGarbageCollection
    </code>
   </td>
   <td>
    <code>
     <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/NSPR/Reference/PRBool" title="en/PRBool">
      PRBool
     </a>
    </code>
   </td>
   <td>
    <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 3)">
     Obsolete since Gecko 1.9
    </span>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     PendingException
    </code>
   </td>
   <td>
    <code>
     <code>
      <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIException" title="">
       nsIException
      </a>
     </code>
    </code>
   </td>
   <td>
   </td>
  </tr>
 </tbody>
</table>
<h2 id="Constants" name="Constants">
 Constants
</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">
    Constant
   </td>
   <td class="header">
    Value
   </td>
   <td class="header">
    Description
   </td>
  </tr>
  <tr>
   <td>
    <code>
     INIT_JS_STANDARD_CLASSES
    </code>
   </td>
   <td>
    <code>
     1 &lt;&lt; 0
    </code>
   </td>
   <td>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     FLAG_SYSTEM_GLOBAL_OBJECT
    </code>
   </td>
   <td>
    <code>
     1 &lt;&lt; 1
    </code>
   </td>
   <td>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     OMIT_COMPONENTS_OBJECT
    </code>
   </td>
   <td>
    <code>
     1 &lt;&lt; 2
    </code>
   </td>
   <td>
   </td>
  </tr>
  <tr>
   <td>
    <code>
     XPC_XOW_CLEARSCOPE
    </code>
   </td>
   <td>
    <code>
     1
    </code>
   </td>
   <td>
    Tells
    <code>
     <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXPConnect#updateXOWs()">
      updateXOWs()
     </a>
    </code>
    to clear the scope of all of the XOWs it finds.
    <span class="inlineIndicator obsolete obsoleteInline" title="(Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)">
     Obsolete since Gecko 2.0
    </span>
   </td>
  </tr>
 </tbody>
</table>
<h2 id="Methods" name="Methods">
 Methods
</h2>
<p>
</p>
<div>
 <span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">
  Native code only!
 </span>
 <h3 id="addJSHolder">
  addJSHolder
 </h3>
</div>
<p>
</p>
<p>
</p>
<p>
 Root JS objects held by aHolder.
</p>
<pre class="eval">void addJSHolder(
  in voidPtr aHolder,
  in nsScriptObjectTracerPtr aTracer
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aHolder
  </code>
 </dt>
 <dd>
  The object that hold the JS objects that should be rooted.
 </dd>
 <dt>
  <code>
   aTracer
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="clearAllWrappedNativeSecurityPolicies()" name="clearAllWrappedNativeSecurityPolicies()">
 clearAllWrappedNativeSecurityPolicies()
</h3>
<pre class="eval">void clearAllWrappedNativeSecurityPolicies();
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<p>
 None.
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<div>
 <span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">
  Native code only!
 </span>
 <h3 id="createSandbox">
  createSandbox
 </h3>
</div>
<p>
</p>
<p>
</p>
<p>
 Create a sandbox for evaluating code in isolation using
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXPConnect#evalInSandboxObject()">
   evalInSandboxObject()
  </a>
 </code>
 .
</p>
<pre class="eval">nsIXPConnectJSObjectHolder createSandbox(
  in JSContextPtr cx,
  in nsIPrincipal principal
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   cx
  </code>
 </dt>
 <dd>
  A context to use when creating the sandbox object.
 </dd>
 <dt>
  <code>
   principal
  </code>
 </dt>
 <dd>
  The principal (or
  <code>
   null
  </code>
  to use the
  <code>
   null
  </code>
  principal) to use when evaluating code in this sandbox.
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="createStackFrameLocation()" name="createStackFrameLocation()">
 createStackFrameLocation()
</h3>
<pre class="eval">nsIStackFrame createStackFrameLocation(
  in PRUint32 aLanguage,
  in string aFilename,
  in string aFunctionName,
  in PRInt32 aLineNumber,
  in nsIStackFrame aCaller
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aLanguage
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aFilename
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aFunctionName
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aLineNumber
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aCaller
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="debugDump()" name="debugDump()">
 debugDump()
</h3>
<pre class="eval">void debugDump(
  in short depth
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   depth
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="debugDumpEvalInJSStackFrame()" name="debugDumpEvalInJSStackFrame()">
 debugDumpEvalInJSStackFrame()
</h3>
<pre class="eval">void debugDumpEvalInJSStackFrame(
  in PRUint32 aFrameNumber,
  in string aSourceText
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aFrameNumber
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aSourceText
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="debugDumpJSStack()" name="debugDumpJSStack()">
 debugDumpJSStack()
</h3>
<pre class="eval">void debugDumpJSStack(
  in PRBool showArgs,
  in PRBool showLocals,
  in PRBool showThisProps
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   showArgs
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   showLocals
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   showThisProps
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="debugDumpObject()" name="debugDumpObject()">
 debugDumpObject()
</h3>
<pre class="eval">void debugDumpObject(
  in nsISupports aCOMObj,
  in short depth
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aCOMObj
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   depth
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<h3 id="defineDOMQuickStubs()">
 defineDOMQuickStubs()
</h3>
<p>
</p>
<p>
 Define quick stubs on the given object, @a proto.
</p>
<pre class="eval">[noscript,notxpcom] PRBool defineDOMQuickStubs(
  in JSContextPtr cx,
  in JSObjectPtr proto,
  in PRUint32 flags,
  in PRUint32 interfaceCount,
  [array, size_is(interfaceCount)] in nsIIDPtr interfaceArray
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   cx
  </code>
 </dt>
 <dd>
  A context. Requires request.
 </dd>
 <dt>
  <code>
   proto
  </code>
 </dt>
 <dd>
  The (newly created) prototype object for a DOM class. The JS half of an XPCWrappedNativeProto.
 </dd>
 <dt>
  <code>
   flags
  </code>
 </dt>
 <dd>
  Property flags for the quick stub properties--should be either JSPROP_ENUMERATE or 0.
 </dd>
 <dt>
  <code>
   interfaceCount
  </code>
 </dt>
 <dd>
  The number of interfaces the class implements.
 </dd>
 <dt>
  <code>
   interfaceArray
  </code>
 </dt>
 <dd>
  The interfaces the class implements; interfaceArray and interfaceCount are like what
  <code>
   <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIClassInfo" title="">
    nsIClassInfo
   </a>
  </code>
  .getInterfaces returns.
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<div>
 <span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">
  Native code only!
 </span>
 <h3 id="evalInSandboxObject">
  evalInSandboxObject
 </h3>
</div>
<p>
</p>
<p>
</p>
<p>
 Evaluate script in a sandbox, completely isolated from all other running scripts.
</p>
<pre class="eval">jsval evalInSandboxObject(
  in AString source,
  in JSContextPtr cx,
  in nsIXPConnectJSObjectHolder sandbox,
  in PRBool returnStringOnly
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   source
  </code>
 </dt>
 <dd>
  The source of the script to evaluate.
 </dd>
 <dt>
  <code>
   cx
  </code>
 </dt>
 <dd>
  The context to use when setting up the evaluation of the script. The actual evaluation will happen on a new temporary context.
 </dd>
 <dt>
  <code>
   sandbox
  </code>
 </dt>
 <dd>
  The sandbox object to evaluate the script in.
 </dd>
 <dt>
  <code>
   returnStringOnly
  </code>
 </dt>
 <dd>
  The only results to come out of the computation (including exceptions) will be coerced into strings created in the sandbox.
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 The result of the evaluation as a jsval. If the caller intends to use the return value from this call, the caller is responsible for rooting the jsval before making a call to this method.
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<h3 id="flagSystemFilenamePrefix()">
 flagSystemFilenamePrefix()
</h3>
<p>
</p>
<p>
 Preconfigure XPCNativeWrapper automation so that when a scripted caller whose filename starts with filenamePrefix accesses a wrapped native that is not flagged as "system", the wrapped native will be automatically wrapped with an XPCNativeWrapper.
</p>
<pre class="eval">void flagSystemFilenamePrefix(
  in string aFilenamePrefix,
  in PRBool aWantNativeWrappers
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aFilenamePrefix
  </code>
 </dt>
 <dd>
  The UTF-8 filename prefix to match, which should end with a slash (/) character.
 </dd>
 <dt>
  <code>
   aWantNativeWrappers
  </code>
 </dt>
 <dd>
  Whether XPConnect should produce native wrappers for scripts whose paths begin with this prefix.
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<h3 id="GarbageCollect()">
 GarbageCollect()
</h3>
<p>
</p>
<p>
 Trigger a JS garbage collection.
</p>
<pre class="eval">void GarbageCollect();
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<p>
 None.
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<h3 id="getCaller()">
 getCaller()
</h3>
<p>
</p>
<p>
 Return the caller object of the current call from JS.
</p>
<pre class="eval">[noscript,notxpcom] void getCaller(
  out JSContextPtr aJSContext,
  out JSObjectPtr aObject
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aObject
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<div>
 <span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">
  Native code only!
 </span>
 <h3 id="getCOWForObject">
  getCOWForObject
 </h3>
</div>
<p>
</p>
<p>
</p>
<p>
</p>
<div class="blockIndicator obsolete obsoleteHeader">
 <p>
  <strong>
   <span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work.">
    <i class="icon-trash">
    </i>
   </span>
   Obsolete since Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)
  </strong>
  <br>
   This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.
  </br>
 </p>
</div>
<p>
</p>
<p>
 Wrap a jsval in a chrome object wrapper.
</p>
<pre class="eval">JSVal getCOWForObject(
  in JSContextPtr aJSContext,
  in JSObjectPtr aParent,
  in JSObjectPtr aWrappedObj
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  A context to use to create objects.
 </dd>
 <dt>
  <code>
   aParent
  </code>
 </dt>
 <dd>
  The parent to create the wrapper with.
 </dd>
 <dt>
  <code>
   aWrappedObj
  </code>
 </dt>
 <dd>
  The object to wrap.
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="getDefaultSecurityManager()" name="getDefaultSecurityManager()">
 getDefaultSecurityManager()
</h3>
<pre class="eval">void getDefaultSecurityManager(
  out nsIXPCSecurityManager aManager,
  out PRUint16 flags
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aManager
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   flags
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="getFunctionThisTranslator()" name="getFunctionThisTranslator()">
 getFunctionThisTranslator()
</h3>
<pre class="eval">nsIXPCFunctionThisTranslator getFunctionThisTranslator(
  in nsIIDRef aIID
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aIID
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<h3 id="getJSObjectOfWrapper()">
 getJSObjectOfWrapper()
</h3>
<p>
</p>
<pre class="eval">JSObjectPtr getJSObjectOfWrapper(
  in JSContextPtr aJSContext,
  in JSObjectPtr aJSObj
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aJSObj
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<h3 id="getNativeOfWrapper()">
 getNativeOfWrapper()
</h3>
<p>
</p>
<pre class="eval">[noscript, notxpcom] nsISupports getNativeOfWrapper(
  in JSContextPtr aJSContext,
  in JSObjectPtr aJSObj
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aJSObj
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="getSecurityManagerForJSContext()" name="getSecurityManagerForJSContext()">
 getSecurityManagerForJSContext()
</h3>
<pre class="eval">void getSecurityManagerForJSContext(
  in JSContextPtr aJSContext,
  out nsIXPCSecurityManager aManager,
  out PRUint16 flags
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aManager
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   flags
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="getWrappedNativeOfJSObject()" name="getWrappedNativeOfJSObject()">
 getWrappedNativeOfJSObject()
</h3>
<p>
 This only succeeds if the JSObject is a
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXPConnectWrappedNative" title="">
   nsIXPConnectWrappedNative
  </a>
 </code>
 . A new wrapper is *never* constructed.
</p>
<pre class="eval">nsIXPConnectWrappedNative getWrappedNativeOfJSObject(
  in JSContextPtr aJSContext,
  in JSObjectPtr aJSObj
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aJSObj
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="getWrappedNativeOfNativeObject()" name="getWrappedNativeOfNativeObject()">
 getWrappedNativeOfNativeObject()
</h3>
<p>
 This only succeeds if the native object is already wrapped by xpconnect. A new wrapper is *never* constructed.
</p>
<pre class="eval">nsIXPConnectWrappedNative getWrappedNativeOfNativeObject(
  in JSContextPtr aJSContext,
  in JSObjectPtr aScope,
  in nsISupports aCOMObj,
  in nsIIDRef aIID
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aScope
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aCOMObj
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aIID
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="getWrappedNativePrototype()" name="getWrappedNativePrototype()">
 getWrappedNativePrototype()
</h3>
<pre class="eval">nsIXPConnectJSObjectHolder getWrappedNativePrototype(
  in JSContextPtr aJSContext,
  in JSObjectPtr aScope,
  in nsIClassInfo aClassInfo
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aScope
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aClassInfo
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<div>
 <span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">
  Native code only!
 </span>
 <h3 id="getWrapperForObject">
  getWrapperForObject
 </h3>
</div>
<p>
</p>
<p>
</p>
<p>
</p>
<div class="blockIndicator obsolete obsoleteHeader">
 <p>
  <strong>
   <span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work.">
    <i class="icon-trash">
    </i>
   </span>
   Obsolete since Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)
  </strong>
  <br>
   This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.
  </br>
 </p>
</div>
<p>
</p>
<p>
 Returns an XPCNativeWrapper, XPCSafeJSObjectWrapper, or XPCCrossOriginWrapper for the given object based on the principal, scope, and filename flags that are passed in.
</p>
<p>
</p>
<div class="blockIndicator note">
 <strong>
  Note:
 </strong>
 In C++, the out jsval parameter must already be a strong GC root.
</div>
<p>
</p>
<pre class="eval">JSVal getWrapperForObject(
  in JSContextPtr aJSContext,
  in JSObjectPtr aObject,
  in JSObjectPtr aScope,
  in nsIPrincipal aPrincipal,
  in unsigned long aFilenameFlags
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  A JSContext.
 </dd>
 <dt>
  <code>
   aObject
  </code>
 </dt>
 <dd>
  The object to wrap.
 </dd>
 <dt>
  <code>
   aScope
  </code>
 </dt>
 <dd>
  The scope to be used in the event that we create an XPCCrossOriginWrapper. Can be
  <code>
   null
  </code>
  .
 </dd>
 <dt>
  <code>
   aPrincipal
  </code>
 </dt>
 <dd>
  The principal that should be used for the wrapper. If this parameter is given then aFilenameFlags will not be calculated and will be assumed to be 0 unless another value is given. If this parameter is
  <code>
   null
  </code>
  then aFilenameFlags will be calculated and the value of that argument will be ignored.
 </dd>
 <dt>
  <code>
   aFilenameFlags
  </code>
 </dt>
 <dd>
  The filename flags from the script that will use this wrapper. See above (aPrincipal) for details.
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<div>
 <span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">
  Native code only!
 </span>
 <h3 id="getXOWForObject">
  getXOWForObject
 </h3>
</div>
<p>
</p>
<p>
</p>
<p>
</p>
<div class="blockIndicator obsolete obsoleteHeader">
 <p>
  <strong>
   <span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work.">
    <i class="icon-trash">
    </i>
   </span>
   Obsolete since Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)
  </strong>
  <br>
   This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.
  </br>
 </p>
</div>
<p>
</p>
<p>
 Wrap a jsval in a cross origin wrapper.
</p>
<pre class="eval">JSVal getXOWForObject(
  in JSContextPtr aJSContext,
  in JSObjectPtr aParent,
  in JSObjectPtr aWrappedObj
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  A context to use to create objects.
 </dd>
 <dt>
  <code>
   aParent
  </code>
 </dt>
 <dd>
  The parent to create the wrapper with.
 </dd>
 <dt>
  <code>
   aWrappedObj
  </code>
 </dt>
 <dd>
  The object to wrap.
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<h3 id="GetXPCWrappedNativeJSClassInfo()">
 GetXPCWrappedNativeJSClassInfo()
</h3>
<p>
</p>
<p>
 Get the JSEqualityOp pointer to use for identifying JSObjects that hold a pointer to an
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXPConnectWrappedNative" title="">
   nsIXPConnectWrappedNative
  </a>
 </code>
 or to the native in their private date. See IS_WRAPPER_CLASS in xpcprivate.h for details.
</p>
<pre class="eval">void GetXPCWrappedNativeJSClassInfo(
  out JSEqualityOp equality
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   equality
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<h3 id="holdObject()">
 holdObject()
</h3>
<p>
</p>
<p>
 Creates a JS object holder around aObject that will hold the object alive for as long as the holder stays alive.
</p>
<pre class="eval">nsIXPConnectJSObjectHolder holdObject(
  in JSContextPtr aJSContext,
  in JSObjectPtr aObject
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aObject
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="initClasses()" name="initClasses()">
 initClasses()
</h3>
<p>
 Initializes classes on a global object that has already been created.
</p>
<pre class="eval">void initClasses(
  in JSContextPtr aJSContext,
  in JSObjectPtr aGlobalJSObj
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aGlobalJSObj
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="initClassesWithNewWrappedGlobal()" name="initClassesWithNewWrappedGlobal()">
 initClassesWithNewWrappedGlobal()
</h3>
<p>
 Creates a new global object using the given aCOMObj as the global object. The object will be set up according to the flags (defined below). If you do not pass
 <code>
  INIT_JS_STANDARD_CLASSES
 </code>
 , then aCOMObj must implement
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXPCScriptable" title="">
   nsIXPCScriptable
  </a>
 </code>
 so it can resolve the standard classes when asked by the JS engine.
</p>
<pre class="eval">nsIXPConnectJSObjectHolder initClassesWithNewWrappedGlobal(
  in JSContextPtr aJSContext,
  in nsISupports aCOMObj,
  in nsIIDRef aIID,
  in nsIPrincipal aPrincipal,
  in nsISupports aExtraPtr,
  in PRUint32 aFlags
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  The context to use while creating the global object.
 </dd>
 <dt>
  <code>
   aCOMObj
  </code>
 </dt>
 <dd>
  The native object that represents the global object.
 </dd>
 <dt>
  <code>
   aIID
  </code>
 </dt>
 <dd>
  The IID used to wrap the global object.
 </dd>
 <dt>
  <code>
   aPrincipal
  </code>
 </dt>
 <dd>
  The principal of the code that will run in this compartment. Can be
  <code>
   null
  </code>
  if not on the main thread.
 </dd>
 <dt>
  <code>
   aExtraPtr
  </code>
 </dt>
 <dd>
  Must be passed if aPrincipal is
  <code>
   null
  </code>
  . Used to separate code from the same principal into different compartments, as for sandboxes.
 </dd>
 <dt>
  <code>
   aFlags
  </code>
 </dt>
 <dd>
  One of the flags below specifying what options this global object wants.
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<h3 id="JSToVariant()">
 JSToVariant()
</h3>
<p>
</p>
<pre class="eval">nsIVariant JSToVariant(
  in JSContextPtr ctx,
  in jsval value
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   ctx
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   value
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<h3 id="jSValToVariant()">
 jSValToVariant()
</h3>
<p>
</p>
<p>
 Wraps the given jsval in an
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIVariant" title="">
   nsIVariant
  </a>
 </code>
 and returns the new variant.
</p>
<pre class="eval">nsIVariant jSValToVariant(
  in JSContextPtr cx,
  in JSValPtr aJSVal
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   cx
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aJSVal
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<h3 id="moveWrappers()">
 moveWrappers()
</h3>
<p>
</p>
<pre class="eval">void moveWrappers(
  in JSContextPtr aJSContext,
  in JSObjectPtr aOldScope,
  in JSObjectPtr aNewScope
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aOldScope
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aNewScope
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<h3 id="noteJSContext()">
 noteJSContext()
</h3>
<p>
</p>
<p>
</p>
<div class="blockIndicator note">
 <strong>
  Note:
 </strong>
 AJSContext as a child to the cycle collector.
</div>
<p>
</p>
<pre class="eval">[noscript,notxpcom] void noteJSContext(
  in JSContextPtr aJSContext,
  in nsCCTraversalCallbackRef aCb
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  The JSContext to note.
 </dd>
 <dt>
  <code>
   aCb
  </code>
 </dt>
 <dd>
  The cycle collection traversal callback.
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="releaseJSContext()" name="releaseJSContext()">
 releaseJSContext()
</h3>
<pre class="eval">void releaseJSContext(
  in JSContextPtr aJSContext,
  in PRBool noGC
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   noGC
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<div>
 <span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">
  Native code only!
 </span>
 <h3 id="removeJSHolder">
  removeJSHolder
 </h3>
</div>
<p>
</p>
<p>
</p>
<p>
 Stop rooting the JS objects held by aHolder.
</p>
<pre class="eval">void removeJSHolder(
  in voidPtr aHolder
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aHolder
  </code>
 </dt>
 <dd>
  The object that hold the rooted JS objects.
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<h3 id="reparentScopeAwareWrappers()">
 reparentScopeAwareWrappers()
</h3>
<p>
</p>
<p>
</p>
<div class="blockIndicator obsolete obsoleteHeader">
 <p>
  <strong>
   <span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work.">
    <i class="icon-trash">
    </i>
   </span>
   Obsolete since Gecko 1.9.1 (Firefox 3.5 / Thunderbird 3.0 / SeaMonkey 2.0)
  </strong>
  <br>
   This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.
  </br>
 </p>
</div>
<p>
</p>
<pre class="eval">void reparentScopeAwareWrappers(
  in JSContextPtr aJSContext,
  in JSObjectPtr aOldScope,
  in JSObjectPtr aNewScope
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aOldScope
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aNewScope
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="reparentWrappedNativeIfFound()" name="reparentWrappedNativeIfFound()">
 reparentWrappedNativeIfFound()
</h3>
<pre class="eval">nsIXPConnectJSObjectHolder reparentWrappedNativeIfFound(
  in JSContextPtr aJSContext,
  in JSObjectPtr aScope,
  in JSObjectPtr aNewParent,
  in nsISupports aCOMObj
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aScope
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aNewParent
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aCOMObj
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<h3 id="restoreWrappedNativePrototype()">
 restoreWrappedNativePrototype()
</h3>
<p>
</p>
<p>
 Restore an old prototype for wrapped natives of type aClassInfo. This should be used only when restoring an old scope into a state close to where it was prior to being reinitialized.
</p>
<pre class="eval">void restoreWrappedNativePrototype(
  in JSContextPtr aJSContext,
  in JSObjectPtr aScope,
  in nsIClassInfo aClassInfo,
  in nsIXPConnectJSObjectHolder aPrototype
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aScope
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aClassInfo
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aPrototype
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<div>
 <span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">
  Native code only!
 </span>
 <h3 id="setDebugModeWhenPossible">
  setDebugModeWhenPossible
 </h3>
</div>
<p>
</p>
<p>
</p>
<p>
 When we place the browser in JS debug mode, there can't be any JS on the stack. This is because we currently activate debugMode on all scripts in the JSRuntime when the debugger is activated. This method will turn debug mode on or off when the context stack reaches zero length.
</p>
<pre class="eval">void setDebugModeWhenPossible(
  in PRBool mode
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   mode
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="setDefaultSecurityManager()" name="setDefaultSecurityManager()">
 setDefaultSecurityManager()
</h3>
<p>
 The security manager to use when the current JSContext has no security manager.
</p>
<pre class="eval">void setDefaultSecurityManager(
  in nsIXPCSecurityManager aManager,
  in PRUint16 flags
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aManager
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   flags
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="setFunctionThisTranslator()" name="setFunctionThisTranslator()">
 setFunctionThisTranslator()
</h3>
<pre class="eval">nsIXPCFunctionThisTranslator setFunctionThisTranslator(
  in nsIIDRef aIID,
  in nsIXPCFunctionThisTranslator aTranslator
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aIID
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aTranslator
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<h3 id="setReportAllJSExceptions()">
 setReportAllJSExceptions()
</h3>
<p>
</p>
<p>
 Whether or not XPConnect should report all JS exceptions when returning from JS into C++.
 <code>
  False
 </code>
 by default, although any value set in the MOZ_REPORT_ALL_JS_EXCEPTIONS environment variable will override the value passed here.
</p>
<pre class="eval">void setReportAllJSExceptions(
  in boolean reportAllJSExceptions
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   reportAllJSExceptions
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="setSafeJSContextForCurrentThread()" name="setSafeJSContextForCurrentThread()">
 setSafeJSContextForCurrentThread()
</h3>
<p>
 Set fallback JSContext to use when xpconnect can't find an appropriate context to use to execute JavaScript.
</p>
<p>
</p>
<div class="blockIndicator note">
 <strong>
  Note:
 </strong>
 This method is DEPRECATED. Use
 <code>
  nsIThreadJSContextStack::safeJSContext
 </code>
 instead.
</div>
<p>
</p>
<pre class="eval">void setSafeJSContextForCurrentThread(
  in JSContextPtr cx
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   cx
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="setSecurityManagerForJSContext()" name="setSecurityManagerForJSContext()">
 setSecurityManagerForJSContext()
</h3>
<pre class="eval">void setSecurityManagerForJSContext(
  in JSContextPtr aJSContext,
  in nsIXPCSecurityManager aManager,
  in PRUint16 flags
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aManager
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   flags
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="syncJSContexts()" name="syncJSContexts()">
 syncJSContexts()
</h3>
<p>
 Deprecated do-nothing function.
</p>
<pre class="eval">void syncJSContexts();
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<p>
 None.
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<div>
 <span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">
  Native code only!
 </span>
 <h3 id="updateXOWs">
  updateXOWs
 </h3>
</div>
<p>
</p>
<p>
</p>
<p>
</p>
<div class="blockIndicator obsolete obsoleteHeader">
 <p>
  <strong>
   <span class="icon-only-inline" title="This is an obsolete API and is no longer guaranteed to work.">
    <i class="icon-trash">
    </i>
   </span>
   Obsolete since Gecko 2.0 (Firefox 4 / Thunderbird 3.3 / SeaMonkey 2.1)
  </strong>
  <br>
   This feature is obsolete. Although it may still work in some browsers, its use is discouraged since it could be removed at any time. Try to avoid using it.
  </br>
 </p>
</div>
<p>
</p>
<p>
 Performs an operation over all of |object|'s XOWs such as clearing their scopes or updating their concept of the current principal.
</p>
<pre class="eval">void updateXOWs(
  in JSContextPtr aJSContext,
  in nsIXPConnectWrappedNative aObject,
  in PRUint32 aWay
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  A context to use to perform JS operations.
 </dd>
 <dt>
  <code>
   aObject
  </code>
 </dt>
 <dd>
  Which XPCWrappedNative we should find the XOWs for.
 </dd>
 <dt>
  <code>
   aWay
  </code>
 </dt>
 <dd>
  What operation to perform.
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<h3 id="variantToJS()">
 variantToJS()
</h3>
<p>
</p>
<pre class="eval">jsval variantToJS(
  in JSContextPtr ctx,
  in JSObjectPtr scope,
  in nsIVariant value
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   ctx
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   scope
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   value
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="wrapJS()" name="wrapJS()">
 wrapJS()
</h3>
<p>
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXPConnect#wrapJS()">
   wrapJS()
  </a>
 </code>
 will yield a new or previously existing xpcom interface pointer to represent the JSObject passed in.
</p>
<p>
 This method now correctly deals with cases where the passed in JSObject already has an associated xpcom interface for the cases: 1) The JSObject has already been wrapped as an
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXPConnectWrappedJS" title="">
   nsIXPConnectWrappedJS
  </a>
 </code>
 . 2) The JSObject is in fact an
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXPConnectWrappedNative" title="">
   nsIXPConnectWrappedNative
  </a>
 </code>
 and thus already has an underlying xpcom object. 3) The JSObject is of a jsclass which supports getting the
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">
   nsISupports
  </a>
 </code>
 from the JSObject directly. This is used for idlc style objects (e.g., DOM objects).
</p>
<p>
 It *might* be possible to QueryInterface the resulting interface pointer to
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXPConnectWrappedJS" title="">
   nsIXPConnectWrappedJS
  </a>
 </code>
 .
</p>
<p>
 Returns: success: NS_OK failure: NS_ERROR_XPC_BAD_CONVERT_JS NS_ERROR_FAILURE.
</p>
<pre class="eval">void wrapJS(
  in JSContextPtr aJSContext,
  in JSObjectPtr aJSObj,
  in nsIIDRef aIID,
  [iid_is(aIID),retval] out nsQIResult result
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aJSObj
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aIID
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   result
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="wrapJSAggregatedToNative()" name="wrapJSAggregatedToNative()">
 wrapJSAggregatedToNative()
</h3>
<p>
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXPConnect#wrapJSAggregatedToNative()">
   wrapJSAggregatedToNative()
  </a>
 </code>
 is just like
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXPConnect#wrapJS()">
   wrapJS()
  </a>
 </code>
 except it is used in cases where the JSObject is also aggregated to some native xpcom Object. At present XBL is the only system that might want to do this.
</p>
<p>
 XXX write more!
</p>
<p>
 Returns: success: NS_OK failure: NS_ERROR_XPC_BAD_CONVERT_JS NS_ERROR_FAILURE.
</p>
<pre class="eval">void wrapJSAggregatedToNative(
  in nsISupports aOuter,
  in JSContextPtr aJSContext,
  in JSObjectPtr aJSObj,
  in nsIIDRef aIID,
  [iid_is(aIID),retval] out nsQIResult result
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aOuter
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aJSObj
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aIID
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   result
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h3 id="wrapNative()" name="wrapNative()">
 wrapNative()
</h3>
<p>
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXPConnect#wrapNative()">
   wrapNative()
  </a>
 </code>
 will create a new JSObject or return an existing one.
</p>
<p>
 The JSObject is returned inside a refcounted
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXPConnectJSObjectHolder" title="">
   nsIXPConnectJSObjectHolder
  </a>
 </code>
 . As long as this holder is held the JSObject will be protected from collection by JavaScript's garbage collector. It is a good idea to transfer the JSObject to some equally protected place before releasing the holder (i.e., use JS_SetProperty to make this object a property of some other JSObject).
</p>
<p>
 This method now correctly deals with cases where the passed in xpcom object already has an associated JSObject for the cases: 1) The xpcom object has already been wrapped for use in the same scope as an
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXPConnectWrappedNative" title="">
   nsIXPConnectWrappedNative
  </a>
 </code>
 . 2) The xpcom object is in fact an
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXPConnectWrappedJS" title="">
   nsIXPConnectWrappedJS
  </a>
 </code>
 and thus already has an underlying JSObject. 3) The xpcom object implements
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIScriptObjectOwner" title="">
   nsIScriptObjectOwner
  </a>
 </code>
 ; i.e., is an idlc style DOM object for which we can call GetScriptObject to get the JSObject it uses to represent itself into JavaScript.
</p>
<p>
 It *might* be possible to QueryInterface the
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXPConnectJSObjectHolder" title="">
   nsIXPConnectJSObjectHolder
  </a>
 </code>
 returned by the method into an
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXPConnectWrappedNative" title="">
   nsIXPConnectWrappedNative
  </a>
 </code>
 or an
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXPConnectWrappedJS" title="">
   nsIXPConnectWrappedJS
  </a>
 </code>
 .
</p>
<p>
 This method will never wrap the JSObject involved in an XPCNativeWrapper before returning.
</p>
<p>
 Returns: success: NS_OK failure: NS_ERROR_XPC_BAD_CONVERT_NATIVE NS_ERROR_XPC_CANT_GET_JSOBJECT_OF_DOM_OBJECT NS_ERROR_FAILURE.
</p>
<pre class="eval">nsIXPConnectJSObjectHolder wrapNative(
  in JSContextPtr aJSContext,
  in JSObjectPtr aScope,
  in nsISupports aCOMObj,
  in nsIIDRef aIID
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aScope
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aCOMObj
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aIID
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<h6 id="Return_value" name="Return_value">
 Return value
</h6>
<p>
 Missing Description
</p>
<h6 id="Exceptions_thrown" name="Exceptions_thrown">
 Exceptions thrown
</h6>
<dl>
 <dt>
  <code>
   Missing Exception
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl>
<p>
</p>
<h3 id="wrapNativeToJSVal()">
 wrapNativeToJSVal()
</h3>
<p>
</p>
<p>
 Same as
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIXPConnect#wrapNative()">
   wrapNative()
  </a>
 </code>
 , but also returns the JSObject in aVal. C++ callers can pass in
 <code>
  null
 </code>
 for the aHolder argument, but in that case they must ensure that aVal is rooted. aIID may be
 <code>
  null
 </code>
 , it means the same as passing in &amp;NS_GET_IID(
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">
   nsISupports
  </a>
 </code>
 ) but when passing in
 <code>
  null
 </code>
 certain shortcuts can be taken because we know without comparing IIDs that the caller is asking for an
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsISupports" title="">
   nsISupports
  </a>
 </code>
 wrapper. If aAllowWrapper, then the returned value will be wrapped in the proper type of security wrapper on top of the XPCWrappedNative (if needed). This method doesn't push aJSContext on the context stack, so the caller is required to push it if the top of the context stack is not equal to aJSContext.
</p>
<pre class="eval">void wrapNativeToJSVal(
  in JSContextPtr aJSContext,
  in JSObjectPtr aScope,
  in nsISupports aCOMObj,
  in nsWrapperCachePtr aCache,
  in nsIIDPtr aIID,
  in boolean aAllowWrapper,
  out jsval aVal,
  out nsIXPConnectJSObjectHolder aHolder
);
</pre>
<h6 id="Parameters" name="Parameters">
 Parameters
</h6>
<dl>
 <dt>
  <code>
   aJSContext
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aScope
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aCOMObj
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aCache
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aIID
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aAllowWrapper
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aVal
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
 <dt>
  <code>
   aHolder
  </code>
 </dt>
 <dd>
  Missing Description
 </dd>
</dl></div><div id="footer"><hr/><p>This page was originally written for <a href="https://developer.mozilla.org">developer.mozilla.org</a> and is used here under the <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike license</a> (CC-BY-SA).</p>
<p>Original contributors to this page: <a href="https://developer.mozilla.org/en-US/profiles/wbamberg">wbamberg</a>, <a href="https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot">mdnwebdocs-bot</a>, <a href="https://developer.mozilla.org/en-US/profiles/kscarfone">kscarfone</a>, <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>, <a href="https://developer.mozilla.org/en-US/profiles/fscholz">fscholz</a>.</p></div></body>
</html>
