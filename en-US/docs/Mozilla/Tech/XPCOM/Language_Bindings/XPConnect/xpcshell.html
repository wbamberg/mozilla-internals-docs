<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://code.cdn.mozilla.net/fonts/zilla-slab.css"/>
    <link rel="stylesheet" href="/css/page.css"/>
    <title>xpcshell</title>
  </head>

  <body><div class="content-heading"><h1>xpcshell</h1></div>
<div class="content"><p><strong>xpcshell</strong> is an <a href="/en/XPConnect" title="en/XPConnect">XPConnect</a>-enabled <a href="/en/JavaScript_shells" title="en/JavaScript_shells">JavaScript Shell</a>. It is a console application that lets you run JavaScript code. Unlike the ordinary <a href="/En/SpiderMonkey/Introduction_to_the_JavaScript_shell" title="En/SpiderMonkey/Introduction_to_the_JavaScript_shell">JS shell</a> (<code>js</code>), xpcshell lets the scripts running in it access <a href="/en/XPCOM" title="en/XPCOM">XPCOM</a> functionality.</p>

<h2 id="Prerequisites" name="Prerequisites">Prerequisites</h2>

<p>You need <a href="/En/Developer_Guide/Build_Instructions" title="en/Build_Documentation">your own build</a> of Mozilla to use xpcshell.</p>

<h2 id="Running_xpcshell" name="Running_xpcshell">Running xpcshell</h2>

<pre class="eval">./run-mozilla.sh ./xpcshell
</pre>

<p>xpcshell is almost always in the same directory as run-mozilla.sh.</p>

<pre class="eval">$ locate run-mozilla.sh
/usr/lib/firefox-0.10.1/run-mozilla.sh
/usr/lib/thunderbird-0.9/run-mozilla.sh
/usr/local/mozilla/run-mozilla.sh
/opt/mozilla/run-mozilla.sh
/root/.Trash/mozilla/run-mozilla.sh
</pre>

<p>Just pick one, cd over there, and run-mozilla.sh xpcshell, if it's present. (However, it might not be there if you have a non-debug version of Firefox, Mozilla, Thunderbird, etc.)</p>

<pre class="eval">$ cd /opt/mozilla
$ ./run-mozilla.sh ./xpcshell
js&gt; 
</pre>

<h2 id="Using_the_Latest_Version_of_Javascript" name="Using_the_Latest_Version_of_Javascript">Execute XPCShell from Window</h2>

<p>The built xpcshell.exe can't be executed under the mozilla build shell(bash). It should be executed under the window command prompt</p>

<pre>source_directory/obj-xxxxx/dist/bin&gt; xpcshell.exe</pre>

<h2 id="Using_the_Latest_Version_of_Javascript" name="Using_the_Latest_Version_of_Javascript">Using the Latest Version of Javascript</h2>

<p>At present, xpcshell doesn't use the latest version of JavaScript, so newer language features, such as the <code>let</code> statement introduced in JavaScript 1.7, are not available. To rectify this, run xpcshell with the <code>-v 180</code> command-line option, which tells xpcshell to use JavaScript 1.8.</p>

<h2 id="Example" name="Example">Example</h2>

<p>You can input JavaScript, straight to Mozilla.</p>

<pre class="eval">js&gt; 5+7
12
js&gt; print("Hello, world!")
Hello, world!
js&gt;
</pre>

<h2 id="See_also" name="See_also">See also</h2>

<ul>
 <li><a href="/en/XPConnect/xpcshell/HOWTO" title="en/XPConnect/xpcshell/HOWTO">HOWTO</a> for common problems in writing xpcshell scripts, e.g., doing async network calls or using JSÂ modules.</li>
 <li>Pretty much all Mozilla programs use <a href="/en/XPCOM" title="en/XPCOM">XPCOM</a> components via <a href="/en/XPConnect" title="en/XPConnect">XPConnect</a>.</li>
 <li>Read <a href="/en/XPConnect/Using_components" title="en/XPConnect/Using_components">XPConnect:Using components</a> to get started with that.</li>
 <li>See the <a href="/en/XPCShell_Reference" title="en/XPCShell_Reference">XPCShell Reference</a> for information on command line arguments and extension functions.</li>
 <li>Learn how to <a href="/en/Writing_xpcshell-based_unit_tests" title="en/Writing_xpcshell-based_unit_tests">write xpcshell-based unit tests</a>.</li>
 <li>Read <a href="/en/XPConnect/xpcshell/Profiling" title="en/XPCShell/Profiling">XPCShell:Profiling</a> for information on how to profile scripts.</li>
</ul></div><div id="footer"><hr/><p>This page was originally written for <a href="https://developer.mozilla.org">developer.mozilla.org</a> and is used here under the <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike license</a> (CC-BY-SA).</p>
<p>Original contributors to this page: <a href="https://developer.mozilla.org/en-US/profiles/wbamberg">wbamberg</a>, <a href="https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot">mdnwebdocs-bot</a>, <a href="https://developer.mozilla.org/en-US/profiles/SphinxKnight">SphinxKnight</a>, <a href="https://developer.mozilla.org/en-US/profiles/erxin">erxin</a>, <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>, <a href="https://developer.mozilla.org/en-US/profiles/asliwx">asliwx</a>, <a href="https://developer.mozilla.org/en-US/profiles/groovecoder">groovecoder</a>, <a href="https://developer.mozilla.org/en-US/profiles/kscarfone">kscarfone</a>, <a href="https://developer.mozilla.org/en-US/profiles/BenB">BenB</a>, <a href="https://developer.mozilla.org/en-US/profiles/Sevenspade">Sevenspade</a>, <a href="https://developer.mozilla.org/en-US/profiles/Piro">Piro</a>, <a href="https://developer.mozilla.org/en-US/profiles/Varmaa">Varmaa</a>, <a href="https://developer.mozilla.org/en-US/profiles/Mvl">Mvl</a>, <a href="https://developer.mozilla.org/en-US/profiles/Hamstersoup">Hamstersoup</a>, <a href="https://developer.mozilla.org/en-US/profiles/Kray2">Kray2</a>, <a href="https://developer.mozilla.org/en-US/profiles/Chbok">Chbok</a>, <a href="https://developer.mozilla.org/en-US/profiles/Nickolay">Nickolay</a>, <a href="https://developer.mozilla.org/en-US/profiles/Chenguobing">Chenguobing</a>, <a href="https://developer.mozilla.org/en-US/profiles/LionKimbro">LionKimbro</a>.</p></div></body>
</html>
