<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://code.cdn.mozilla.net/fonts/zilla-slab.css"/>
    <link rel="stylesheet" href="/css/page.css"/>
    <title>MenuItems</title>
  </head>

  <body><nav class="breadcrumbs"><a href="../../../../Mozilla.html">Mozilla</a>&raquo;<a href="../../../Tech.html">Tech</a>&raquo;<a href="../../XUL.html">XUL</a>&raquo;<a href="../PopupGuide.html">PopupGuide</a></nav><div class="content-heading"><h1>MenuItems</h1></div>
<div class="content"><h3 id="Features_of_the_menuitem_Element" name="Features_of_the_menuitem_Element">
 Features of the menuitem Element
</h3>
<p>
 The
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XUL/menuitem" title="menuitem">
   menuitem
  </a>
 </code>
 element has a number of features beyond just being a label for a menu command.
</p>
<h4 id="Adding_Shortcut_Keys_to_Menu_Items" name="Adding_Shortcut_Keys_to_Menu_Items">
 Adding shortcut keys to menu items
</h4>
<p>
 A shortcut key may be associated with a menu item. Unlike the access key, which only functions while the menu is open, a shortcut key works at any time. A shortcut key can be created using the
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XUL/key" title="key">
   key
  </a>
 </code>
 element. In reality, the keyboard shortcut is handled by the
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XUL/key" title="key">
   key
  </a>
 </code>
 element, however, the menu item will display the shortcut next to its label. This allows the user to discover what shortcut keys are available by looking at the menus.
</p>
<pre>&lt;keyset&gt;
  &lt;key id="open-key" modifiers="accel" key="O"/&gt;
  &lt;key id="close-key" modifiers="accel" key="C"/&gt;
&lt;/keyset&gt;
&lt;menubar&gt;
  &lt;menu label="View"&gt;
    &lt;menupopup&gt;
      &lt;menuitem label="Open" key="open-key"/&gt;
      &lt;menuitem label="Close" key="close-key"/&gt;
    &lt;/menupopup&gt;
  &lt;/menu&gt;
&lt;/menubar&gt;
</pre>
<p>
 <img alt="Image:Popupguide-menushortcut.png" class="internal" src="/@api/deki/files/303/=Popupguide-menushortcut.png"/>
</p>
<p>
 The two menuitems are associated with a key using the
 <code id="a-key">
  <a href="/en-US/docs/Mozilla/Tech/XUL/Attribute/key">
   key
  </a>
 </code>
 attribute. It should be set to the ID of a
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XUL/key" title="key">
   key
  </a>
 </code>
 element within the same document. The result is that the items will display the shortcut key next to their labels. For the "Open" item in this example, this command can be invoked by using the "accel" modifier key and pressing 'O'. The "accel" modifier key varies on each platform, but is the key typically used for shortcut keys. For instance, if the "accel" key is Control, the menu might display "Ctrl + O".
</p>
<p>
 Although there isn't usually a need to do so, you can also set a custom label for the keyboard shortcut on the menu using the
 <code id="a-acceltext">
  <a href="/en-US/docs/Mozilla/Tech/XUL/Attribute/acceltext">
   acceltext
  </a>
 </code>
 attribute. You might do this if the key associated with the item changes, for instance a list of open windows displayed on a Window menu.
</p>
<pre>&lt;menuitem label="First Window" acceltext="1"/&gt;
</pre>
<p>
 Here the keyboard shortcut label will be '1', however you will need to write code to handle the key as well.
</p>
<h4 id="Adding_Icons_to_Menu_Items" name="Adding_Icons_to_Menu_Items">
 Adding icons to menu items
</h4>
<p>
 An icon may be added to a menu item using the
 <code id="a-image">
  <a href="/en-US/docs/Mozilla/Tech/XUL/Attribute/image">
   image
  </a>
 </code>
 attribute. The icon will appear to the left of the
 <code>
  <a href="/en-US/docs/Mozilla/Tech/XUL/menuitem" title="menuitem">
   menuitem
  </a>
 </code>
 label. In addition to the image, a special class "menuitem-iconic" must be used on the menuitem to indicate that an icon is expected.
</p>
<pre>&lt;menuitem id="add-bookmark" class="menuitem-iconic" label="Add Bookmark" image="addbookmark.png"/&gt;
</pre>
<p>
 As the image appears on a menu item, you will want to ensure you use a fairly small image. Although the exact size will vary depending on the theme being used, the size of menu item images should generally be around 16 by 16 pixels. Instead of specifying the icon with the
 <code id="a-image">
  <a href="/en-US/docs/Mozilla/Tech/XUL/Attribute/image">
   image
  </a>
 </code>
 attribute, you can also reference the image in a style sheet with the 'list-style-image' property.
</p>
<pre>#add-bookmark {
  list-style-image: url('addbookmark.png');
}
</pre>
<p>
 This technique can also be used to apply an image for the menu element, except you would want to use the "menu-iconic:" class instead.
</p>
<pre>&lt;menuitem id="bookmark" class="menu-iconic" label="Bookmarks" image="bookmarks.png"/&gt;
</pre>
<h4 id="Checkbox_Menu_Items" name="Checkbox_Menu_Items">
 Menu icon animation
</h4>
<p>
 In order to animate the menu item icon on hover a
 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/-moz-image-region" title="For certain XUL elements and pseudo-elements that use an image from the list-style-image property, this property specifies a region of the image that is used in place of the whole image. This allows elements to use different pieces of the same image to improve performance.">
  <code>
   -moz-image-region
  </code>
 </a>
 rule can be applied. In this example we use an image that is 16px wide and 32px high. the top 16px square is the icon in normal state the bottom part in hovered state.
</p>
<p>
 <img alt=""/>
</p>
<p>
 Note that the image element is on a child level underneath the menu or menuitem, and it will have the class
 <em>
  menu-iconic-icon
 </em>
 . Hence,
 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/-moz-image-region" title="For certain XUL elements and pseudo-elements that use an image from the list-style-image property, this property specifies a region of the image that is used in place of the whole image. This allows elements to use different pieces of the same image to improve performance.">
  <code>
   -moz-image-region
  </code>
 </a>
 is not applied to the menu itself, but one level lower:
</p>
<pre>&lt;menuitem id="add-bookmark" class="menuitem-iconic" label="Add Bookmark" image="addbookmark.png"/&gt;

#add-bookmark {  list-style-image: url('addbookmark.png'); }

#add-bookmark .menu-iconic-icon { <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/-moz-image-region" title="https://developer.mozilla.org/en/CSS/-moz-image-region">-moz-image-region</a>: rect(0px, 16px, 16px, 0px) !important; }

#add-bookmark:hover .menu-iconic-icon { <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/-moz-image-region" title="https://developer.mozilla.org/en/CSS/-moz-image-region">-moz-image-region</a>: rect(16px, 16px, 32px, 0px)Â  !important; }
</pre>
<p>
 This behavior is fundamentally different to other HTML elements, such as
 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/li" title="The HTML &lt;li&gt; element is used to represent an item in a list. It must be contained in a parent element: an ordered list (&lt;ol&gt;), an unordered list (&lt;ul&gt;), or a menu (&lt;menu&gt;). In menus and unordered lists, list items are usually displayed using bullet points. In ordered lists, they are usually displayed with an ascending counter on the left, such as a number or letter.">
  <code>
   &lt;li&gt;
  </code>
 </a>
 or
 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/div" title="The HTML Content Division element (&lt;div&gt;) is the generic container for flow content. It has no effect on the content or layout until styled using CSS.">
  <code>
   &lt;div&gt;
  </code>
 </a>
 where
 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/list-style-image" title="The list-style-image CSS property sets an image to be used as the list item marker.">
  <code>
   list-style-image
  </code>
 </a>
 and
 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/-moz-image-region" title="For certain XUL elements and pseudo-elements that use an image from the list-style-image property, this property specifies a region of the image that is used in place of the whole image. This allows elements to use different pieces of the same image to improve performance.">
  <code>
   -moz-image-region
  </code>
 </a>
 can be applied at the same element level.
</p>
<h4 id="Checkbox_Menu_Items" name="Checkbox_Menu_Items">
 Checkbox menu items
</h4>
<p>
 Sometimes, you will want to have an item on a menu that acts as a toggle. For instance, a menuitem that can be used to toggle a toolbar on and off. To indicate the current state of the toolbar, a checkbox would be displayed next to the menu item label. If the checkbox is on, the toolbar is shown, whereas if the checkbox is off, the toolbar is not shown. The user can select the menu item to switch the toolbar visibility.
</p>
<p>
 This type of menuitem can be created by using the
 <code id="a-type">
  <a href="/en-US/docs/Mozilla/Tech/XUL/Attribute/type">
   type
  </a>
 </code>
 attribute and setting it to the value "checkbox".
</p>
<pre>&lt;menu label="View" accesskey="V"&gt;
  &lt;menupopup&gt;
    &lt;menuitem label="Show Toolbar" accesskey="T" type="checkbox" checked="true"/&gt;
    &lt;menuitem label="Show Status Bar" accesskey="S" type="checkbox"/&gt;
  &lt;/menupopup&gt;
&lt;/menu&gt;
</pre>
<p>
 <img alt="Image:Popupguide-menucheckbox.png" class="internal" src="/@api/deki/files/301/=Popupguide-menucheckbox.png"/>
</p>
<p>
 Both menuitems are of the checkbox type. The first menuitem is checked by default, as indicated by the
 <code id="a-checked">
  <a href="/en-US/docs/Mozilla/Tech/XUL/Attribute/checked">
   checked
  </a>
 </code>
 attribute set to the value
 <code>
  true
 </code>
 . The second menuitem is not checked by default. When the user activates the menuitem, the command event gets fired. From within a command listener, you can execute code which will change the state of the toolbar or status bar or whatever it is that need changing. You do not need to update the
 <code id="a-checked">
  <a href="/en-US/docs/Mozilla/Tech/XUL/Attribute/checked">
   checked
  </a>
 </code>
 attribute as the menuitem will update this automatically before the command event is fired.
</p>
<p>
 Note that the checked state is updated before the command event fires, so if you use the menuitem's
 <code id="a-checked">
  <a href="/en-US/docs/Mozilla/Tech/XUL/Attribute/checked">
   checked
  </a>
 </code>
 attribute within the command listener, it will already be in the new state.
</p>
<pre>&lt;script&gt;
function changeToolbarState(event)
{
  if (event.target.getAttribute("checked") == "true")
    showToolbar();
  else
    hideToolbar();
}
&lt;/script&gt;
...
&lt;menuitem label="Show Toolbar" accesskey="T" type="checkbox"
          oncommand="changeToolbarState();"/&gt;
</pre>
<p>
 In this example, we show the toolbar when the menuitem is checked and hide the toolbar otherwise.
</p>
<p>
 There may be times when you do not want the checkbox state to be updated automatically when the menuitem is activated. This can be useful if there's a possibility that whatever action is carried out could fail. One possibility is to simply reverse the checkbox state again. As this can be more complicated, it is also possible to use the
 <code id="a-autocheck">
  <a href="/en-US/docs/Mozilla/Tech/XUL/Attribute/autocheck">
   autocheck
  </a>
 </code>
 attribute to disable this behavior. When the autocheck attribute is set to
 <code>
  false
 </code>
 , the checkbox state is not updated automatically, and you must write code to adjust the state yourself.
</p>
<pre>&lt;script&gt;
function changeToolbarState(event)
{
  if (event.target.getAttribute("checked") == "true")
    hideToolbar();
    event.target.removeAttribute("checked");
  }
  else {
    if (!showToolbar())
      return;
    event.target.setAttribute("checked", "true");
  }
}
&lt;/script&gt;
...
&lt;menuitem label="Show Toolbar" accesskey="T" type="checkbox" autocheck="false"
          oncommand="changeToolbarState();"/&gt;
</pre>
<p>
 This version of the
 <code>
  changeToolbarState
 </code>
 function changes the
 <code id="a-checked">
  <a href="/en-US/docs/Mozilla/Tech/XUL/Attribute/checked">
   checked
  </a>
 </code>
 attribute itself. The autocheck attribute has been set to
 <code>
  false
 </code>
 on the menuitem so the
 <code>
  checked
 </code>
 attribute will not be updated automatically. Note that the code has been reversed in the condition blocks to hide the toolbar when the menuitem is checked and show the toolbar when the menuitem is not checked because the
 <code>
  checked
 </code>
 state hasn't been modified. The example assumes that the
 <code>
  showToolbar()
 </code>
 function might fail so if it returns
 <code>
  false
 </code>
 , the checked attribute is not modified.
</p>
<p>
 When clearing the checked state, the checked attribute should be removed rather than just set to
 <code>
  false
 </code>
 . In the example, this is done by using the
 <span id="m-removeAttribute">
  <code>
   <a href="/en-US/docs/Mozilla/Tech/XUL/Method/removeAttribute">
    removeAttribute
   </a>
  </code>
 </span>
 method.
</p>
<h4 id="Radio_Menu_Items" name="Radio_Menu_Items">
 Radio menu items
</h4>
<p>
 A radio menu item os used when you wish to have a group of menuitems in which only one can be checked at a time. This works similarly to the checkbox type, except when selecting an item, all others in the same group are automatically unchecked.
</p>
<p>
 To create a menuitem that acts like a radio button, set the
 <code id="a-type">
  <a href="/en-US/docs/Mozilla/Tech/XUL/Attribute/type">
   type
  </a>
 </code>
 attribute to "radio". In addition, set the
 <code id="a-name">
  <a href="/en-US/docs/Mozilla/Tech/XUL/Attribute/name">
   name
  </a>
 </code>
 attribute to the name of the group that it belongs to. The value of this attribute can be any name you wish; all radio menuitems within the same menu with the same name are part of the same group.
</p>
<pre>&lt;menu label="Sort" accesskey="S"&gt;
  &lt;menupopup&gt;
    &lt;menuitem label="By Name" accesskey="N" type="radio" name="sort"/&gt;
    &lt;menuitem label="By Date" accesskey="D" type="radio" name="sort" checked="true"/&gt;
    &lt;menuitem label="By Subject" accesskey="S" type="radio" name="sort"/&gt;
    &lt;menuseparator/&gt;
    &lt;menuitem label="Ascending" accesskey="A" type="radio" name="order" checked="true"/&gt;
    &lt;menuitem label="Descending" accesskey="c" type="radio" name="order"/&gt;
  &lt;/menupopup&gt;
&lt;/menu&gt;
</pre>
<p>
 <img alt="Image:Popupguide-menuradio.png" class="internal" src="/@api/deki/files/302/=Popupguide-menuradio.png"/>
</p>
<p>
 This menu has three radio type menuitems all with the same name "sort". That means that activating one of the items will check that item and uncheck all other items. The last two menuitems are in a different group "order". Activating one will uncheck the other, but will not affect the items in the other group.
</p>
<p>
 Note how the
 <code id="a-checked">
  <a href="/en-US/docs/Mozilla/Tech/XUL/Attribute/checked">
   checked
  </a>
 </code>
 attribute is set to
 <code>
  true
 </code>
 on one of the radios in each group. This becomes the default value for the menu. If you do not set one, none of the items in that group will be checked by default.
</p>
<p>
 As with checkbox type menuitems, you can also set the
 <code id="a-autocheck">
  <a href="/en-US/docs/Mozilla/Tech/XUL/Attribute/autocheck">
   autocheck
  </a>
 </code>
 attribute on a radio menuitem to disable the automatic adjustment of the checked state. This needs to be set on each radio menuitem.
</p>
<h4 id="Disabling_a_Menuitem" name="Disabling_a_Menuitem">
 Disabling a menuitem
</h4>
<p>
 To have an item initially disabled, set the
 <code id="a-disabled">
  <a href="/en-US/docs/Mozilla/Tech/XUL/Attribute/disabled">
   disabled
  </a>
 </code>
 attribute to
 <code>
  true
 </code>
 as in the following example:
</p>
<pre>&lt;menuitem label="Undo" accesskey="U" disabled="true"/&gt;
</pre>
<p>
 When disabled, the item will appear greyed out and the action associated with the item cannot be carried out. The command event will not fire when an item is disabled. To disable a menuitem that doesn't apply, set the
 <code>
  <span>
   <a href="/en-US/docs/Mozilla/Tech/XUL/Property/disabled">
    disabled
   </a>
  </span>
 </code>
 property to
 <code>
  true
 </code>
 . To renable the item again, set the disabled property to
 <code>
  false
 </code>
 again. You may wish to change the disabled state in a
 <code>
  popupshowing
 </code>
 event handler. For more information about the
 <code>
  popupshowing
 </code>
 event, see
 <a href="/en-US/docs/Mozilla/Tech/XUL/PopupGuide/PopupEvents" title="en/XUL/PopupGuide/PopupEvents#The_popupshowing_Event">
  The popupshowing event
 </a>
 .
</p>
<p>
 If a menuitem is associated with a command, you can disable the menuitem by disabling the command instead. For instance, in the sample below, the Delete command is disabled using the
 <code id="a-disabled">
  <a href="/en-US/docs/Mozilla/Tech/XUL/Attribute/disabled">
   disabled
  </a>
 </code>
 attribute.
</p>
<pre>&lt;command id="cmd_delete" disabled="true" oncommand="alert('Deleted!');"/&gt;
&lt;menuitem label="Delete" accesskey="F" command="cmd_deleted"/&gt;
</pre>
<p>
 As the menuitem is attached to the command, it's automatically disabled when the command is disabled. If the
 <code>
  <span>
   <a href="/en-US/docs/Mozilla/Tech/XUL/Property/disabled">
    disabled
   </a>
  </span>
 </code>
 state of the command is changed, the menuitem updates accordingly. This is an advantage when attaching several menuitems or buttons to the same command, as the disabled state can be adjusted once for the command, and this will propagate to all elements attached to it.
</p>
<h4 id="Modifying_a_Menuitem" name="Modifying_a_Menuitem">
 Modifying a menuitem
</h4>
<p>
 Both the label and the access key may be changed dynamically in script by setting the
 <code>
  <span>
   <a href="/en-US/docs/Mozilla/Tech/XUL/Property/label">
    label
   </a>
  </span>
 </code>
 and
 <code>
  <span>
   <a href="/en-US/docs/Mozilla/Tech/XUL/Property/accessKey">
    accesskey
   </a>
  </span>
 </code>
 properties. Note the mixed case of the
 <code>
  <span>
   <a href="/en-US/docs/Mozilla/Tech/XUL/Property/accessKey">
    accessKey
   </a>
  </span>
 </code>
 property versus the lowercase usage of the
 <code id="a-accesskey">
  <a href="/en-US/docs/Mozilla/Tech/XUL/Attribute/accesskey">
   accesskey
  </a>
 </code>
 attribute in XUL.
</p>
<p>
 For instance, you might want to change the label of an Undo menuitem based on what would be undone. The example below demonstrates this.
</p>
<pre>if (gUndoBufferType == "typing")
  menuitem.label = "Undo Typing";
else if (gUndoBufferType == "paste")
  menuitem.label = "Undo Paste";
else
  menuitem.label = "Undo";
</pre>
<p>
 See
 <a href="/en-US/docs/Mozilla/Tech/XUL/PopupGuide/MenuModification" title="en/XUL/PopupGuide/MenuModification">
  Modifying a Menu
 </a>
 for examples of how to add and remove items from a menu
</p></div><div id="footer"><hr/><p>This page was originally written for <a href="https://developer.mozilla.org">developer.mozilla.org</a> and is used here under the <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike license</a> (CC-BY-SA).</p>
<p>Original contributors to this page: <a href="https://developer.mozilla.org/en-US/profiles/wbamberg">wbamberg</a>, <a href="https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot">mdnwebdocs-bot</a>, <a href="https://developer.mozilla.org/en-US/profiles/SphinxKnight">SphinxKnight</a>, <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>, <a href="https://developer.mozilla.org/en-US/profiles/RealRaven2000">RealRaven2000</a>, <a href="https://developer.mozilla.org/en-US/profiles/SylvainPasche">SylvainPasche</a>, <a href="https://developer.mozilla.org/en-US/profiles/Shoot">Shoot</a>, <a href="https://developer.mozilla.org/en-US/profiles/Mgjbot">Mgjbot</a>, <a href="https://developer.mozilla.org/en-US/profiles/Enn">Enn</a>.</p></div></body>
</html>
