<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://code.cdn.mozilla.net/fonts/zilla-slab.css"/>
    <link rel="stylesheet" href="/css/page.css"/>
    <title>Modifying a XUL Interface</title>
  </head>

  <body><div class="content-heading"><h1>Modifying a XUL Interface</h1></div>
<div class="content"><p></p><div class="prevnext" style="text-align: right;">
    <p><a href="/en-US/docs/XUL_Tutorial/Document_Object_Model" style="float: left;">« Previous</a><a href="/en-US/docs/XUL_Tutorial/Manipulating_Lists">Next  »</a></p>
</div><p></p>
<p>The DOM provides various functions to modify the document.</p>
<h3 id="Creating_New_Elements" name="Creating_New_Elements">Creating New Elements</h3>
<p>You can create new elements using the <code><a href="/en/DOM/document.createElement" title="en/DOM/document.createElement">createElement()</a></code> function of the document. It takes one argument, the tag name of the element to create. You can then set attributes of the element using the <code><a href="/en/DOM/element.setAttribute" title="en/DOM/element.setAttribute">setAttribute()</a></code> function and append it to the XUL document using the <code><a href="/En/DOM/Node.appendChild" title="en/DOM/element.appendChild">appendChild()</a></code> function. For example, the following will add a button to a XUL window:</p>
<p><span id="Example_1"><a id="Example_1"></a><strong>Example 1</strong></span> : <a href="https://developer.mozilla.org/samples/xultu/examples/ex_dommodify_1.xul.txt">Source</a> <a href="https://developer.mozilla.org/samples/xultu/examples/ex_dommodify_1.xul">View</a></p>
<pre>&lt;script&gt;
function addButton(){
  var aBox = document.getElementById("aBox");
  var button = document.createElement("button");
  button.setAttribute("label","A new Button");
  aBox.appendChild(button);
}
&lt;/script&gt;

&lt;box id="aBox" width="200"&gt;
  &lt;button label="Add" oncommand="addButton();"/&gt;
&lt;/box&gt;
</pre>
<ul>
  <li>This example has two parts
    <ul>
      <li>a <a class="internal" href="/en/XUL/box" title="en/XUL/box">box</a> container element in XUL. Notice that this is NOT the same as a <a class="internal" href="/en/XUL/vbox" title="en/XUL/vbox">vbox</a> or an <a class="internal" href="/en/XUL/hbox" title="en/XUL/hbox">hbox</a>. (This is discussed more in the <a class="internal" href="/en/XUL_Tutorial/The_Box_Model" title="En/XUL Tutorial/The Box Model">Box Model</a> pages.)
        <ul>
          <li>the <a class="internal" href="/en/XUL/box" title="en/XUL/box">box</a> element has two attributes "<a class="internal" href="/en/XUL/Attribute/id" title="en/XUL/Attribute/id">id</a>" and "<a class="internal" href="/en/XUL/Attribute/width" title="en/XUL/Attribute/width">width</a>".</li>
          <li>the <a class="internal" href="/en/XUL/box" title="en/XUL/box">box</a> element contains a button element.
            <ul>
              <li>the <a class="internal" href="/en/XUL/button" title="en/XUL/button">button</a> element has two attributes <a class="internal" href="/en/XUL/Attribute/label" title="en/XUL/Attribute/label">"label"</a> and "<a class="internal" href="/en/XUL/Attribute/oncommand" title="en/XUL/Attribute/oncommand">oncommand</a>"</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>a Javascript function named "addButton()"
        <ul>
          <li>This script first gets a reference to the box with <code><a href="/en/DOM/document.getElementById" title="en/DOM/document.getElementById">getElementById()</a></code>, which is the container to add a new button to. The function <a class="internal" href="/en/DOM/document.getElementById" title="en/DOM/document.getElementById">getElementbyID()</a> does not know that the box it is looking for happens to be containing the tag that has the oncommand attribute that referenced it. <a href="/en/DOM/document.getElementById" title="en/DOM/document.getElementById">getElementById()</a> only knows the box it is looking to find has an id with the value "aBox". This is a subtle dependency between the function and the XUL element to which you should pay attention.</li>
          <li>addButton() the calls the <code><a href="/en/DOM/document.createElement" title="en/DOM/document.createElement">createElement()</a></code> function to create a new button. Note this button is not visible, nor is it attached to anything yet.</li>
          <li>addButton() then assigns the label 'A new Button' to the button using the <code><a href="/en/DOM/element.setAttribute" title="en/DOM/element.setAttribute">setAttribute()</a></code> function.</li>
          <li>Finally the <code><a href="/En/DOM/Node.appendChild" title="en/DOM/element.appendChild">appendChild()</a></code> function of the particular <a class="internal" href="/en/XUL/box" title="en/XUL/box">box</a> found by <a class="internal" href="/en/DOM/document.getElementById" title="en/DOM/document.getElementById">getElementbyID()</a> is called to add the button to it. At this point, the button is attached to a visible box, so it becomes visible as well.</li>
        </ul>
      </li>
      <li>The button with the label "Add" can be pressed multiple times and it will continue to add new buttons, each of which will have the label "A new Button", and will only be distinguishable by their place as children in the box element with the id "abox".</li>
    </ul>
  </li>
</ul>
<p>The <code><a href="/en/DOM/document.createElement" title="en/DOM/document.createElement">createElement()</a></code> function will create the default type of element for the document. For XUL documents, this generally means that a XUL element will be created. For an HTML document, an HTML element will be created, so it will have the features and functions of an HTML element instead. The <code><a href="/en/DOM/document.createElementNS" title="en/DOM/document.createElementNS">createElementNS()</a></code> function may be used to create elements in a different namespace.</p>
<p>The <code><a href="/En/DOM/Node.appendChild" title="en/DOM/element.appendChild">appendChild()</a></code> function is used to add an element as a child of another element. Three related functions are the <code><a href="/En/DOM/Node.insertBefore" title="en/DOM/element.insertBefore">insertBefore()</a></code>, <code><a href="/En/DOM/Node.replaceChild" title="en/DOM/element.replaceChild">replaceChild()</a></code> and <code><a href="/En/DOM/Node.removeChild" title="en/DOM/element.removeChild">removeChild</a></code> functions. The syntax of these functions is as follows:</p>
<pre>parent.appendChild(child);
parent.insertBefore(child, referenceChild);
parent.replaceChild(newChild, oldChild);
parent.removeChild(child);
</pre>
<p>It should be fairly straightforward from the function names what these functions do.</p>
<ul>
  <li>The <code><a href="/En/DOM/Node.insertBefore" title="en/DOM/element.insertBefore">insertBefore()</a></code> function inserts a new child node before an existing one. This is used to insert into the middle of a list of children of the parent element instead of at the end like <code><a href="/En/DOM/Node.appendChild" title="en/DOM/element.appendChild">appendChild()</a></code> does.</li>
  <li>The <code><a href="/En/DOM/Node.replaceChild" title="en/DOM/element.replaceChild">replaceChild()</a></code> function removes an existing child and adds a new one in its place at the same position in the list of its parent element.</li>
  <li>Finally the <code><a href="/En/DOM/Node.removeChild" title="en/DOM/element.removeChild">removeChild()</a></code> function removes a child from the list of its parent element.</li>
</ul>
<p>Note that for all these functions, the object referred to by the variable referenceChild or the variables newChild and oldChild must already exist or an error occurs. Likewise the object referred to by the variable child which is to be removed must already exist or an error occurs.</p>
<h4 id="Copying_Nodes" name="Copying_Nodes">Moving Nodes to a different Place</h4>
<p>It is often the case that you want to remove an existing element and add it somewhere else. If so, you can just add the element without removing it first. Since a node may only be in one place at a time, the insertion call will always remove the node from its existing location first. This is a convenient way to move nodes around in the document.</p>
<h4 id="Copying_Nodes" name="Copying_Nodes">Copying Nodes</h4>
<p>To copy nodes however, you may call the <code><a href="/En/DOM/Node.cloneNode" title="en/DOM/element.cloneNode">cloneNode()</a></code> function. This function makes a copy of an existing node so that you can add it somewhere else. The original node will stay where it is. It takes one boolean argument which indicates whether to copy all of the node's children or not. If false, only the node is copied, such that the copy won't have any children. If true, all of the children are copied as well. This is done recursively, so for large tree structures make sure that this is desired before passing true to the <code><a href="/En/DOM/Node.cloneNode" title="en/DOM/element.cloneNode">cloneNode()</a></code> function. Here is an example:</p>
<p><span id="Example_2"><a id="Example_2"></a><strong>Example 2</strong></span> : <a href="https://developer.mozilla.org/samples/xultu/examples/ex_dommodify_2.xul.txt">Source</a> <a href="https://developer.mozilla.org/samples/xultu/examples/ex_dommodify_2.xul">View</a></p>
<pre>&lt;hbox height="400"&gt;
  &lt;button label="Copy"
          oncommand="this.parentNode.appendChild(this.nextSibling.cloneNode(true));"/&gt;

  &lt;vbox&gt;
    &lt;button label="First"/&gt;
    &lt;button label="Second"/&gt;
  &lt;/vbox&gt;
&lt;/hbox&gt;
</pre>
<p>When the Copy button is pressed..</p>
<ul>
  <li>we retrieve the <code><a href="/En/DOM/Node.nextSibling" title="en/DOM/element.nextSibling">nextSibling</a></code> of the <code><code><a href="/en-US/docs/Mozilla/Tech/XUL/button" title="button">button</a></code></code>, which will be the <code><code><a href="/en-US/docs/Mozilla/Tech/XUL/vbox" title="vbox">vbox</a></code></code> element.</li>
  <li>a copy of this element is made using the <code><a href="/En/DOM/Node.cloneNode" title="en/DOM/element.cloneNode">cloneNode()</a></code> function</li>
  <li>and the copy is appended using <code><a href="/En/DOM/Node.appendChild" title="en/DOM/element.appendChild">appendChild()</a></code>.</li>
</ul>
<p>Note that some elements, such as <code><code><a href="/en-US/docs/Mozilla/Tech/XUL/listbox" title="listbox">listbox</a></code></code> and <code><code><a href="/en-US/docs/Mozilla/Tech/XUL/menulist" title="menulist">menulist</a></code></code> provide some additional specialized modification functions which you should use instead when you can. These are described in the <a href="/en/XUL_Tutorial/Manipulating_Lists" title="en/XUL_Tutorial/Manipulating_Lists">next section</a>.</p>
<h3 id="Manipulating_Basic_Elements" name="Manipulating_Basic_Elements">Manipulating Basic Elements</h3>
<p>The main XUL elements such as buttons, checkboxes and radio buttons may be manipulated using a number of script properties. The properties available are listed in the <a href="/en/XUL_Reference" title="en/XUL_Reference">element reference</a> as those available are different for each element. Common properties that you will manipulate include the <code><code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/label">label</a></span></code></code>, <code><code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/value">value</a></span></code></code>, <code><code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/checked">checked</a></span></code></code> and <code><code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/disabled">disabled</a></span></code></code> properties. They set or clear the corresponding attribute as necessary.</p>
<h4 id="Label_and_value_properties_examples" name="Label_and_value_properties_examples">Label and value properties examples</h4>
<p>Here is a simple example which changes the label on a button:</p>
<p><span id="Example_3"><a id="Example_3"></a><strong>Example 3</strong></span> : <a href="https://developer.mozilla.org/samples/xultu/examples/ex_dommodify_3.xul.txt">Source</a> <a href="https://developer.mozilla.org/samples/xultu/examples/ex_dommodify_3.xul">View</a></p>
<pre>&lt;button label="Hello" oncommand="this.label = 'Goodbye';"/&gt;
</pre>
<p>When the button is pressed, the <code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/label">label</a></span></code> is changed. This technique will work for a variety of different elements that have labels. For a textbox, you can do something similar for the <code><code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/value">value</a></span></code></code> property.</p>
<p><span id="Example_4"><a id="Example_4"></a><strong>Example 4</strong></span> : <a href="https://developer.mozilla.org/samples/xultu/examples/ex_dommodify_4.xul.txt">Source</a> <a href="https://developer.mozilla.org/samples/xultu/examples/ex_dommodify_4.xul">View</a></p>
<pre>&lt;button label="Add" oncommand="this.nextSibling.value += '1';"/&gt;
&lt;textbox/&gt;
</pre>
<p>This example adds a '1' to the textbox each time the button is pressed. The <code><a href="/En/DOM/Node.nextSibling" title="en/DOM/element.nextSibling">nextSibling</a></code> property navigates from the button (this) to the next element, the textbox. The += operator is used to add to the current value so a 1 will be added onto the end of the existing text. Note that you can still enter text into the textbox. You can also retrieve the current label or value using these properties, as in the following example:</p>
<p><span id="Example_5"><a id="Example_5"></a><strong>Example 5</strong></span> : <a href="https://developer.mozilla.org/samples/xultu/examples/ex_dommodify_5.xul.txt">Source</a> <a href="https://developer.mozilla.org/samples/xultu/examples/ex_dommodify_5.xul">View</a></p>
<pre>&lt;button label="Hello" oncommand="alert(this.label);"/&gt;
</pre>
<h4 id="Toggling_a_checkbox" name="Toggling_a_checkbox">Toggling a checkbox</h4>
<p>Checkboxes have a <code><code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/checked">checked</a></span></code></code> property which may be used to check or uncheck the <code><code><a href="/en-US/docs/Mozilla/Tech/XUL/checkbox" title="checkbox">checkbox</a></code></code>. It should be easy to determine how this is used. In this next example, we reverse the state of the <code><code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/checked">checked</a></span></code></code> property whenever the button is pressed. Note that while the <code><code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/label">label</a></span></code></code> and <code><code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/value">value</a></span></code></code> properties are strings, the <code><code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/checked">checked</a></span></code></code> property is a boolean property which will be set either true or false.</p>
<div class="note">
  <strong>Note:</strong> If you're creating the checkbox dynamically and it's not yet added to the DOM, you must use <code>setAttribute("checked", "false")</code> instead, because the XBL isn't initiated yet.)</div>
<p><span id="Example_6"><a id="Example_6"></a><strong>Example 6</strong></span> : <a href="https://developer.mozilla.org/samples/xultu/examples/ex_dommodify_6.xul.txt">Source</a> <a href="https://developer.mozilla.org/samples/xultu/examples/ex_dommodify_6.xul">View</a></p>
<pre>&lt;button label="Change" oncommand="this.nextSibling.checked = !this.nextSibling.checked;"/&gt;
&lt;checkbox label="Check for messages"/&gt;
</pre>
<p>Radio buttons may be selected as well using properties, however since only one in a group may be selected at a time, the others must all be unchecked when one is checked. You don't have to do this manually of course. The radiogroup's <code><code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/selectedIndex">selectedIndex</a></span></code></code> property may be used to do this. The <code><code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/selectedIndex">selectedIndex</a></span></code></code> property may be used to retrieve the <em>index</em> of the selected radio button in the group and well as change it.</p>
<h4 id="Changing_a_element_disabled_or_enabled" name="Changing_a_element_disabled_or_enabled">Changing a element disabled or enabled</h4>
<p>It is common to disable particular fields that don't apply in a given situation. For example, in a preferences dialog, one might have the choice of several possibilities, but one choice allows additional customization. Here is an example of how to create this type of interface.</p>
<p><span id="Example_7"><a id="Example_7"></a><strong>Example 7</strong></span> : <a href="https://developer.mozilla.org/samples/xultu/examples/ex_dommodify_7.xul.txt">Source</a> <a href="https://developer.mozilla.org/samples/xultu/examples/ex_dommodify_7.xul">View</a></p>
<pre>&lt;script&gt;
function updateState(){
  var name = document.getElementById("name");
  var sindex = document.getElementById("group").selectedIndex;
  name.disabled = sindex == 0;
}
&lt;/script&gt;

&lt;radiogroup id="group" onselect="updateState();"&gt;
  &lt;radio label="Random name" selected="true"/&gt;
  &lt;hbox&gt;
    &lt;radio label="Specify a name:"/&gt;
    &lt;textbox id="name" value="Jim" disabled="true"/&gt;
  &lt;/hbox&gt;
&lt;/radiogroup&gt;
</pre>
<p>In this example a function updateState() is called whenever a select event is fired on the radio group. This will happen whenever a radio button is selected. This function will retrieve the currently selected <code><code><a href="/en-US/docs/Mozilla/Tech/XUL/radio" title="radio">radio</a></code></code> element using the <code><code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/selectedIndex">selectedIndex</a></span></code></code> property. Note that even though one of the radio buttons is inside an <code><code><a href="/en-US/docs/Mozilla/Tech/XUL/hbox" title="hbox">hbox</a></code></code>, it is still part of the radio group. If the first radio button is selected (index of 0), the textbox is enabled by setting its <code><code><span><a href="https://developer.mozilla.org/en-US/docs/XUL/Property/disabled">disabled</a></span></code></code> property to true. If the second radio button is selected, the textbox is enabled.</p>
<p>The next section will provide more details about <a href="/en/XUL_Tutorial/Manipulating_Lists" title="en/XUL_Tutorial/Manipulating_Lists">manipulating radio groups as well as manipulating lists</a>.</p>
<p></p><div class="prevnext" style="text-align: right;">
    <p><a href="/en-US/docs/XUL_Tutorial/Document_Object_Model" style="float: left;">« Previous</a><a href="/en-US/docs/XUL_Tutorial/Manipulating_Lists">Next  »</a></p>
</div><p></p></div><div id="footer"><hr/><p>This page was originally written for <a href="https://developer.mozilla.org">developer.mozilla.org</a> and is used here under the <a href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike license</a> (CC-BY-SA).</p>
<p>Original contributors to this page: <a href="https://developer.mozilla.org/en-US/profiles/wbamberg">wbamberg</a>, <a href="https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot">mdnwebdocs-bot</a>, <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>, <a href="https://developer.mozilla.org/en-US/profiles/teoli">teoli</a>, <a href="https://developer.mozilla.org/en-US/profiles/fscholz">fscholz</a>, <a href="https://developer.mozilla.org/en-US/profiles/realraven">realraven</a>, <a href="https://developer.mozilla.org/en-US/profiles/trevorh">trevorh</a>, <a href="https://developer.mozilla.org/en-US/profiles/jswisher">jswisher</a>, <a href="https://developer.mozilla.org/en-US/profiles/waldir">waldir</a>, <a href="https://developer.mozilla.org/en-US/profiles/DavidWhitten">DavidWhitten</a>, <a href="https://developer.mozilla.org/en-US/profiles/Chbok">Chbok</a>, <a href="https://developer.mozilla.org/en-US/profiles/Nathymig">Nathymig</a>, <a href="https://developer.mozilla.org/en-US/profiles/Morishoji">Morishoji</a>, <a href="https://developer.mozilla.org/en-US/profiles/Mgjbot">Mgjbot</a>, <a href="https://developer.mozilla.org/en-US/profiles/Pmash">Pmash</a>, <a href="https://developer.mozilla.org/en-US/profiles/Nickolay">Nickolay</a>, <a href="https://developer.mozilla.org/en-US/profiles/Ptak82">Ptak82</a>, <a href="https://developer.mozilla.org/en-US/profiles/Dria">Dria</a>.</p></div></body>
</html>
